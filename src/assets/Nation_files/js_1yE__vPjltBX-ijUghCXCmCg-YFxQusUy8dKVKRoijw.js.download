let allDeliveryItems;const deliveryItemsMap=new Map();const boxIndividualItemInOptionCount=new Map();const progressBarPercentageMap=new Map();const addedDeliveryItemsMap=new Map();const individualItemTargetTotalCount=new Map();const deliveryDatesMap=new Map();let getCartDetails=new Map();let deliveryTabActive=true;let cartRawData;let userIpAddress;let deliveryOrderId;const deliveryCustomerAddress=new Map();const getCurrentURL=window.location.href;const dumsafarBrandId="2";const UbqBrandId="1";const cookieExpiredDay=7;const cookieName='campaign';const cookieExpiry='campaign_expiry';let sales_sub_type_value='Delivery';const DELIVERY_PROPS={ANCHOR_DISABLED:"anchor-disabled",CURRENCY:"INR",ITEM_ACTIONS:{ADD:"ADD",REMOVE:"REMOVE"},LOYALTY_POINTS:0,LOYALTY_EXCHANGE_RATE:0,LOYALTY_APPLIED:false,DELIVERY_TOTAL:0,DELIVERY_ORDER_ID:undefined,DELIVERY_DATE:undefined,BRANCH_ID:undefined,LATITUDE:undefined,LONGITUDE:undefined,DELIVERY_LATITUDE:undefined,DELIVERY_LONGITUDE:undefined,APPLIED_COUPON:undefined,APPLIED_COUPON_CODE:undefined,APPLIED_VOUCHERS:new Set(),APPLIED_OFFERS:new Set(),LOADING_COUNT:0,SHOW_DELIVERY_CART_ON_RELOAD:"SHOW_DELIVERY_CART_ON_RELOAD",SHOW_DELIVERY_COUPON_HTML:"SHOW_DELIVERY_CART_ON_RELOAD"};const DELIVERY_URL={GET_DELIVERY_CATALOG:"/api/v1/delivery/delivery-catalog",ADD_TO_CART:"/api/v1/delivery/cart-item",GET_CART_DETAILS:"/api/v1/delivery/get-cart-details",GET_ALL_BRANCHES:'/api/v1/get-all-nearby-branches',GET_CUSTOMER_ADDRESS:"/api/v1/delivery/get-address",ADD_CUSTOMER_ADDRESS:"/api/v1/delivery/add-address",UPDATE_PAYMENT:"/api/v1/delivery/update-payment",REMOVE_PAYMENT:"/api/v1/delivery/remove-order-payment",GET_SMILES:"/api/v1/loyalty-points-value",GET_COUPON_VOUCHER:"/api/v1/delivery/get-voucher-coupon",UPDATE_ORDER_ADDRESS:"/api/v1/delivery/update-order-address",GENERATE_PAYMENT:"/api/v1/delivery/generate-payment",VALIDATE_PAYMENT:"/api/v1/delivery/validate-payment",DELIVERY_PROMOTIONS:"/api/v1/delivery-promotions",VALIDATE_VOUCHER:"/api/v1/validate-voucher-coupon",VARIFY_MANUAL_BAR_CODE:"/api/v1/verify-manual-bar-code",GET_BRANCH_BY_ID:(branchId)=>"/api/v1/branches/"+branchId};const THUNK_ACTION_TYPES={GET_DELIVERY_CATALOG:"delivery/GET_DELIVERY_CATALOG",ADD_TO_CART:"delivery/ADD_TO_CART",GET_CART_DETAILS:"delivery/GET_CART_DETAILS",GET_CART_DETAILS_AND_LOAD_CATALOG:"delivery/GET_CART_DETAILS_AND_LOAD_CATALOG",GET_CUSTOMER_ADDRESS:"delivery/GET_CUSTOMER_ADDRESS",ADD_CUSTOMER_ADDRESS:"delivery/ADD_CUSTOMER_ADDRESS",UPDATE_PAYMENT:"delivery/UPDATE_PAYMENT",REMOVE_PAYMENT:"delivery/REMOVE_PAYMENT",GET_SMILES:"delivery/GET_SMILES",GET_COUPON_VOUCHER:"delivery/GET_COUPON_VOUCHER",UPDATE_ORDER_ADDRESS:"delivery/UPDATE_ORDER_ADDRESS",GENERATE_PAYMENT:"delivery/GENERATE_PAYMENT",VALIDATE_PAYMENT:"delivery/VALIDATE_PAYMENT",DELIVERY_PROMOTIONS:"delivery/delivery-promotions",GET_BRANCH_BY_ID:"delivery/GET_BRANCH_BY_ID",GET_VALIDATE_VOUCHER:"delivery/validate-voucher-coupon"};const DELIVERY_REQUEST_METHODS={POST:"POST",GET:"GET",PUT:"PUT"};function isDeliveryPage(){return window.location.pathname==="/delivery";}function isDumsafarDeliveryPage(){return window.location.pathname==="/dumsafar-delivery";}function isMapScriptAttached(url){if(!url)url="https://maps.googleapis.com/maps/api/js?libraries=places&key=AIzaSyDBCt-bnSaFxmLj8UmZiXHc0neoMStn7_0&callback=GoogleMaps.initMap";var scripts=document.getElementsByTagName('script');for(var i=scripts.length;i--;)if(scripts[i].src==url)return true;return false;}var GoogleMaps=GoogleMaps||{};(function($,Drupal,GoogleMaps){Drupal.behaviors.bbqDelivery={attach:function(context,settings){userId=settings.user.uid;userIpAddress=settings.user.ip;if(window.location.pathname=='/delivery-home-page'||window.location.pathname=='/dumsafar-delivery-home-page'){attachGMapLibrary();jQuery(document).on('input','#searchInput',function(e){let inputValue=jQuery(this).val();if(inputValue.length>=2)attachGMapLibrary();});}}};function attachGMapLibrary(){var script=document.createElement('script');if(window.location.pathname=='/delivery-home-page'||window.location.pathname=='/dumsafar-delivery-home-page')script.src='https://maps.googleapis.com/maps/api/js?libraries=places&key=AIzaSyDBCt-bnSaFxmLj8UmZiXHc0neoMStn7_0&callback=GoogleMaps.initMap';else script.src='https://maps.googleapis.com/maps/api/js?libraries=places&key=AIzaSyDBCt-bnSaFxmLj8UmZiXHc0neoMStn7_0&callback=GoogleMaps.initMap';script.async=true;if(!isMapScriptAttached(script.src))document.head.appendChild(script);window.GoogleMaps.initMap=function(){var inputBox=document.getElementById('searchInput');var currentFocus;if(window.location.pathname=='/delivery-home-page'||window.location.pathname=='/dumsafar-delivery-home-page'){$("#searchInput").attr("autocomplete","off");const AutocompleteService=new google.maps.places.AutocompleteService();const geocoderService=new google.maps.Geocoder();inputBox.addEventListener('input',function(e){var timeDelay=800;var inputVal=this.value;var a,b,i,typeTimer;currentFocus=-1;var event=this;if(inputVal.length>=3){clearTimeout(typeTimer);typeTimer=setTimeout(()=>{if(document.getElementById('searchInputAutocomplete-list')!=null)document.getElementById('searchInputAutocomplete-list').remove();var valueNow=document.getElementById('searchInput').value;if(inputVal==valueNow){var request={input:inputVal,type:['geocode'],componentRestrictions:{country:"in"}};AutocompleteService.getPlacePredictions(request,function(predictions,status){if(status!=google.maps.places.PlacesServiceStatus.OK||!predictions){alert(status);return;}a=document.createElement("DIV");a.setAttribute("id","searchInputAutocomplete-list");a.setAttribute("class","autocomplete-items");event.parentNode.appendChild(a);for(i=0;i<predictions.length;i++){b=document.createElement("DIV");b.setAttribute("class","ac-item");b.innerHTML+="<img src='../../../../themes/custom/bbq_nation/assets/images/mappin.png'></img>";b.innerHTML+="<span>"+predictions[i].description+"</span>";b.innerHTML+="<input id="+predictions[i].place_id+" type='hidden' value='"+predictions[i].description+"'>";b.addEventListener("click",function(e){inputBox.value=this.getElementsByTagName("input")[0].value;if(document.getElementById('searchInputAutocomplete-list')!=null)document.getElementById('searchInputAutocomplete-list').remove();var placeRequest={placeId:""+this.getElementsByTagName("input")[0].id+""};geocoderService.geocode(placeRequest).then(({results})=>{if(!results)return false;DELIVERY_PROPS.DELIVERY_LATITUDE=results[0].geometry.location.lat();DELIVERY_PROPS.DELIVERY_LONGITUDE=results[0].geometry.location.lng();$('.search_error_message').hide();}).catch((e)=>window.alert("Geocoder failed due to: "+e));});a.appendChild(b);}});}else return false;},timeDelay);}else{if(document.getElementById('searchInputAutocomplete-list')!=null)document.getElementById('searchInputAutocomplete-list').remove();}});inputBox.addEventListener("keydown",function(e){var x=document.getElementById("searchInputAutocomplete-list");if(x)x=x.getElementsByTagName("div");if(e.code=="ArrowDown"){currentFocus++;addActive(x);}else if(e.code=="ArrowUp"){currentFocus--;addActive(x);}else{if(e.code=="Enter"){e.preventDefault();if(currentFocus>-1)if(x)x[currentFocus].click();}}});function addActive(x){if(!x)return false;removeActive(x);if(currentFocus>=x.length)currentFocus=0;if(currentFocus<0)currentFocus=(x.length-1);x[currentFocus].classList.add("autocomplete-active");}function removeActive(x){for(var i=0;i<x.length;i++)x[i].classList.remove("autocomplete-active");}document.addEventListener("click",function(e){if(document.getElementById('searchInputAutocomplete-list')!=null)document.getElementById('searchInputAutocomplete-list').remove();});}};}function setOutletBasedOnDelviery(){var brandUrl='';var urlParams=new URLSearchParams(location.search);brandUrl=urlParams.get('brand');var nameSearch=document.getElementById("searchInput").value;if(nameSearch!=0)$.ajax({url:'/api/v1/get-one-nearby-branch',type:'POST',headers:getHeaders(),data:JSON.stringify({"lat":DELIVERY_PROPS.DELIVERY_LATITUDE,"long":DELIVERY_PROPS.DELIVERY_LONGITUDE}),dataType:"json",success:function(data){if(!$.isEmptyObject(data)){localStorage.setItem('latitude',DELIVERY_PROPS.DELIVERY_LATITUDE);localStorage.setItem('longitude',DELIVERY_PROPS.DELIVERY_LONGITUDE);localStorage.setItem('branch_id',data.branch_id);localStorage.setItem('branch_name',data.branch_name);localStorage.setItem('city_name',data.city_name);DELIVERY_PROPS.BRANCH_ID=localStorage.getItem("branch_id");localStorage.setItem('Search_InputVAL',nameSearch);if(window.location.pathname=='/dumsafar-delivery-home-page'||window.location.pathname=='/dumsafar-delivery'||brandUrl=='dumsafar')setOutletBasedOnDelvieryLocation(dumsafarBrandId);else location.href="/delivery";}else $('.search_error_message').show();}});else alert('Please Choose location');};$('#setManualCouponClick').click(function(){getValidateVoucher();});function getValidateVoucher(){var setManualCoupon=document.getElementById("setManualCoupon").value;if(setManualCoupon!=0)$.ajax({url:'/api/v1/delivery/validate-voucher-coupon',type:'POST',headers:getHeaders(),dataType:"json",data:JSON.stringify({customer_id:getMobileNumber(),branch_id:DELIVERY_PROPS.BRANCH_ID,barcode:setManualCoupon}),success:function(data){if(data.message_type=="success"){var maxCouponAmount=parseInt(data.data.denomination)+parseInt(100);const validCoupon=validateTotal(maxCouponAmount,DELIVERY_PROPS.DELIVERY_TOTAL);const tenderKey=data.data.tender_type=='GC'?'COUPON':'VOUCHER';if(validCoupon){const postData={amount:parseFloat(data.data.denomination,10),tender_key:tenderKey,barcode:data.data.promocode,sales_sub_type:sales_sub_type_value};deliveryHttpRequest(DELIVERY_URL.UPDATE_PAYMENT,DELIVERY_REQUEST_METHODS.POST,Object.assign(postData,getCustomerDetails()),THUNK_ACTION_TYPES.GET_CART_DETAILS);if(tenderKey==="GC"&&DELIVERY_PROPS.APPLIED_OFFERS.size){DELIVERY_PROPS.APPLIED_OFFERS.forEach(function(value){removeDiscounts("OFFER",value);DELIVERY_PROPS.APPLIED_OFFERS.delete(value);});DELIVERY_PROPS.APPLIED_OFFERS.clear();}else{if(tenderKey==="OFFER"&&DELIVERY_PROPS.APPLIED_COUPON){removeDiscounts("COUPON",DELIVERY_PROPS.APPLIED_COUPON);DELIVERY_PROPS.APPLIED_COUPON=false;DELIVERY_PROPS.APPLIED_COUPON_CODE=false;}}$("#setManualCoupon").val('');$("#delivery-coupons-vouchers").hide();$("#delivery-curtain").show();}}else{if(data.message_type=="failed")toastr.error(data.message);}}});};if(window.location.pathname=='/delivery'||window.location.pathname=='/dumsafar-delivery'||window.location.pathname=='/delivery-home-page'||window.location.pathname=='/dumsafar-delivery-home-page'){$('.location-submit').click(function(){setOutletBasedOnDelviery();});var searchInVal=localStorage.getItem("Search_InputVAL");if(searchInVal)document.getElementById("searchInput").value=searchInVal;}if(window.location.pathname=='/delivery'||window.location.pathname=='/dumsafar-delivery')$('#searchInput').change(function(){setOutletBasedOnDelviery();});$.fakeLoader({spinner:"spinner6",bgColor:"rgba(0, 0, 0, 0.5)"});function loaderStop(){const loader=$(".fakeLoader");loader.removeClass("display-block");loader.addClass("hide");}function loaderStart(){const loader=$(".fakeLoader");loader.removeClass("hide");loader.addClass("display-block");}class DeliveryCatalog{constructor(deliveryCatalogDetails){if(deliveryCatalogDetails){this.menuBomNo=deliveryCatalogDetails.menu_bom_no?deliveryCatalogDetails.menu_bom_no:undefined;this.servicable=deliveryCatalogDetails.servicable?deliveryCatalogDetails.servicable:undefined;this.delivery=deliveryCatalogDetails.delivery?deliveryCatalogDetails.delivery:undefined;this.takeaway=deliveryCatalogDetails.takeaway?deliveryCatalogDetails.takeaway:undefined;this.distance=deliveryCatalogDetails.distance?deliveryCatalogDetails.distance:undefined;this.duration=deliveryCatalogDetails.duration?deliveryCatalogDetails.duration:undefined;this.box=deliveryCatalogDetails.box.map((b)=>new DeliveryBox(b));this.individualItems=deliveryCatalogDetails.image.concat(deliveryCatalogDetails.text).map((i)=>new DeliveryBox(i));}}}class DeliveryBox{constructor(box){this.categoryCode=box.category_code;this.categoryDesc=box.category_desc;this.categorySeq=box.category_seq;this.level=box.level;this.subcategory=box.subcategory.map((s)=>new SubCategory(s));}}class SubCategory{constructor(subCategory){this.subcategoryCode=subCategory.subcategory_code;this.subcategoryDesc=subCategory.subcategory_desc;this.subcategorySeq=subCategory.subcategory_seq;this.items=subCategory.items.map((item)=>{const deliveryItem=new DeliveryItem(item);deliveryItemsMap.set(deliveryItem.itemCode,deliveryItem);return deliveryItem;});}}class DeliveryItem{constructor(item){this.itemImagePath=item.item_image_path;this.itemDesc=item.item_desc;this.itemSeq=item.item_seq;this.foodType=parseInt(item.food_type);this.cmsOfferId=item.cms_offer_id;this.customize=item.customize?parseInt(item.customize,10):undefined;this.avilability=item.avilability;this.itemTag=item.item_tag;this.level=item.level;this.itemPrice=item.item_price;this.originalPrice=item.original_price;this.itemCode=item.item_code;this.itemName=item.item_name;this.descriptionItems=item.item_image_path;this.options=item.options.map((option)=>new Option(option));this.promotionMessage=item.promotion_message;}}class Option{constructor(option){this.optionCode=option.option_code;this.optionTitle=option.option_title;this.optionDesc=option.option_desc;this.threshold=parseInt(option.threshold);this.price=option.price;this.originalPrice=option.original_price;this.foodType=parseInt(option.food_type);this.optionItems=option.option_items.map((optionItem)=>new OptionItem(optionItem));}}class OptionItem{constructor(optionItem){this.itemCode=optionItem.item_code;this.itemName=optionItem.item_name;this.price=optionItem.price;this.originalPrice=optionItem.original_price;this.foodType=parseInt(optionItem.food_type);this.allowMultiple=optionItem.allow_muliple;}}class AddedOptionsItems{constructor(threshold){this.threshold=threshold;}}class AddToCart{constructor(itemDetailId,deliveryItemId,quantity){this.customer_id=getMobileNumber();this.branch_id=DELIVERY_PROPS.BRANCH_ID;this.item_detail_id=itemDetailId;this.item_id=deliveryItemId;this.quantity=quantity.toString();if(addedDeliveryItemsMap.has(deliveryItemId)){this.item_details=[];addedDeliveryItemsMap.get(deliveryItemId).forEach((item)=>item.forEach((quantity,itemId)=>{this.item_details.push({item_id:itemId,quantity:quantity.toString()});}));}}}$(document).ready(function(){$(this).scrollTop(0);});const getMobileNumber=()=>{if(localStorage.getItem('mobile_number')!=null)return localStorage.getItem('mobile_number').toString();else return drupalSettings.delivery.mobile_number;};const getEmail=()=>{if(localStorage.getItem('email')!=null)return localStorage.getItem('email').toString();else return drupalSettings.delivery.email;};$("#header--DELIVERY\\/TAKEAWAY").click((e)=>{e.preventDefault();if(isAnonymous())$(".button--signin").trigger("click");else{$("#delivery-cart-curtain").addClass("reservation--visible");$('#via-delivery').addClass('active');if($(".delivery-items-select").hasClass("deliveryactive")){$('#via-delivery').addClass('active');$("#via-takeaway").removeClass("active");deliveryTabActive=true;$("#delivery-pickup-text").text("DELIVER IN");$("#add-new-delivery-address-block").show();$("#selected-delivery-addresses").removeClass("hidden");enableOrDisablePayNow();getDeliveryAddressDetails();$("#delivery--order-type").hide();$("#delivery--order-type").removeClass("delivery--order-type-show");$('#via-delivery').trigger('click');}else{if($(".takeaway-items-select").hasClass("deliveryactive")){$('#via-takeaway').trigger('click');$('#via-takeaway').addClass('active');$("#via-delivery").removeClass("active");deliveryTabActive=false;$("#delivery--order-type").addClass("delivery--order-type-show");$("#delivery-pickup-text").text("PICKUP TIMINGS");$("#add-new-delivery-address-block").hide();$("#saved-delivery-addresses").addClass("hidden");$("#selected-delivery-addresses").addClass("hidden");$('#delivery-address-map-block').hide();enableOrDisablePayNow();getDeliveryAddressDetails();setDeliveryDayOptions($('#cart-delivery-days').val());}}$("#delivery--order-type").hide();setCustomerDeliveryAddress();getCartDetailsAndRebuild(THUNK_ACTION_TYPES.GET_CART_DETAILS,getCustomerSmiles);}if(deliveryTabActive==false)$("#via-delivery").addClass("click-disable");else $("#via-delivery").removeClass("click-disable");});$(document).mouseup(function(e){var container=$('.reservation__block');if(!container.is(e.target)&&container.has(e.target).length===0){$('#delivery-cart-curtain').removeClass('reservation--visible');$('#via-delivery').removeClass('active');$('#via-takeaway').removeClass('active');}});$(()=>{if(!isAnonymous())$.ajax({method:'GET',url:'/api/v1/user',headers:getHeaders(),beforeSend:function(){loaderStart();},complete:function(){loaderStop();},success:function(data){localStorage.setItem('mobile_number',data.mobile_number);localStorage.setItem('email',data.email);localStorage.setItem('user_name',data.name);}});if(window.location.pathname=='/delivery-home-page'||window.location.pathname=='/dumsafar-delivery-home-page'){localStorage.removeItem('Search_InputVAL');document.getElementById('searchInput').value="";}const showDeliveryCart=sessionStorage.getItem(DELIVERY_PROPS.SHOW_DELIVERY_CART_ON_RELOAD);if(showDeliveryCart){sessionStorage.removeItem(DELIVERY_PROPS.SHOW_DELIVERY_CART_ON_RELOAD);triggerDeliveryCartClick();}if(localStorage.getItem('branch_latitude')&&localStorage.getItem('branch_longitude')){if(!localStorage.getItem('latitude')&&!localStorage.getItem('longitude'))if(navigator.geolocation)navigator.geolocation.getCurrentPosition(setLocation,handleNavigationError,{enableHighAccuracy:true,timeout:20000});else showLocationErrorAlert();if(localStorage.getItem('latitude')!=null&&localStorage.getItem('longitude')!=null){DELIVERY_PROPS.LATITUDE=localStorage.getItem('latitude');DELIVERY_PROPS.LONGITUDE=localStorage.getItem('longitude');}else{DELIVERY_PROPS.LATITUDE=localStorage.getItem('branch_latitude');DELIVERY_PROPS.LONGITUDE=localStorage.getItem('branch_longitude');}DELIVERY_PROPS.BRANCH_ID=localStorage.getItem("branch_id");deliveryHttpRequest(DELIVERY_URL.GET_BRANCH_BY_ID(DELIVERY_PROPS.BRANCH_ID),DELIVERY_REQUEST_METHODS.GET,undefined,THUNK_ACTION_TYPES.GET_BRANCH_BY_ID);if(isDeliveryPage())getCartDetailsAndRebuild(THUNK_ACTION_TYPES.GET_CART_DETAILS_AND_LOAD_CATALOG);if(isDumsafarDeliveryPage())getCartDetailsAndRebuild(THUNK_ACTION_TYPES.GET_CART_DETAILS_AND_LOAD_CATALOG);}else if(navigator.geolocation)navigator.geolocation.getCurrentPosition(setLocation,handleNavigationError,{enableHighAccuracy:true,timeout:20000});else showLocationErrorAlert();});$(document).on("click","#bbq-location-card",(e)=>{if(navigator.geolocation)navigator.geolocation.getCurrentPosition(setLocation,handleNavigationError,{enableHighAccuracy:true,timeout:20000});else showLocationErrorAlert();});const handleNavigationError=(e)=>{showLocationErrorAlert();};const showLocationErrorAlert=()=>{if(isDeliveryPage())if(localStorage.getItem('branch_latitude')===null&&localStorage.getItem('branch_longitude')===null)$.alert({title:"Oops!",useBootstrap:false,boxWidth:"30%",content:"Location access is Blocked. Change your location settings in browser or select location manually",type:"red"});};const setLocation=(position)=>{if(position&&position.coords){DELIVERY_PROPS.LATITUDE=position.coords.latitude;DELIVERY_PROPS.LONGITUDE=position.coords.longitude;localStorage.setItem('latitude',position.coords.latitude);localStorage.setItem('longitude',position.coords.longitude);$.ajax({url:'/api/v1/get-one-nearby-branch',type:'POST',headers:getHeaders(),data:JSON.stringify({"lat":position.coords.latitude,"long":position.coords.longitude}),dataType:"json",success:function(data){if(!$.isEmptyObject(data)){localStorage.setItem('branch_id',data.branch_id);localStorage.setItem('branch_name',data.branch_name);localStorage.setItem('city_name',data.city_name);$('.header-left #bbq-selected-branch').text(data.branch_name+', '+data.city_name);$('#bbq-location-select').val(data.branch_id).trigger('change');DELIVERY_PROPS.BRANCH_ID=localStorage.getItem("branch_id");deliveryHttpRequest(DELIVERY_URL.GET_BRANCH_BY_ID(DELIVERY_PROPS.BRANCH_ID),DELIVERY_REQUEST_METHODS.GET,undefined,THUNK_ACTION_TYPES.GET_BRANCH_BY_ID);if(isDeliveryPage())getCartDetailsAndRebuild(THUNK_ACTION_TYPES.GET_CART_DETAILS_AND_LOAD_CATALOG);}else{$('.delivery-error-message').html(`
                  <div>Didn't find outlet near your location. Please select location manually</div>
                  `);$('.delivery-error-message').addClass('delivery-loyalty-points-block-show');}}});}};const getCartDetailsAndRebuild=(action=THUNK_ACTION_TYPES.GET_CART_DETAILS,callback)=>{if(isAnonymous())if(DELIVERY_PROPS.BRANCH_ID===null)showLocationErrorAlert();else{deliveryHttpRequest(DELIVERY_URL.GET_DELIVERY_CATALOG,DELIVERY_REQUEST_METHODS.POST,{branch_id:DELIVERY_PROPS.BRANCH_ID.toString(),latitude:DELIVERY_PROPS.LATITUDE.toString(),longitude:DELIVERY_PROPS.LONGITUDE.toString()},THUNK_ACTION_TYPES.GET_DELIVERY_CATALOG);$('#delivery-products').addClass("delivery-products-show");}else{deliveryHttpRequest(DELIVERY_URL.GET_CART_DETAILS,DELIVERY_REQUEST_METHODS.POST,{customer_id:getMobileNumber(),branch_id:DELIVERY_PROPS.BRANCH_ID,transaction_type:deliveryTabActive?1:2,source:"Web",soruce_version:"5.1"},action,false,{callback});$('#delivery-products').addClass("delivery-products-show");}};const getDiscountList=(tenderKey,discounts)=>{let discountListHtml="";discounts.forEach((discount)=>{discountListHtml+=`<div class="left">
                            <div class="heading row align-center">
                                <h5>${getAppliedDiscountHeader(tenderKey,discount)}</h5>
                            <a href="#" data-tender_key="${tenderKey}" data-payment_id="${discount.payment_id}" data-barcode="${discount.barcode}" class="delivery-remove-discount remove-link">Remove</a>
                            </div>
                           </div>`;});return discountListHtml;};const getAppliedDiscountHeader=(tenderKey,discount)=>{let text="";if(discount.promocode)text=discount.promocode+" - ";text+=getCurrencyCode()+discount.amount.toLocaleString("en")+" discount through "+tenderKey.toLowerCase();return text;};const getMaximumLoyaltyApplicable=()=>{let maximumApplicable=DELIVERY_PROPS.LOYALTY_POINTS;if(DELIVERY_PROPS.DELIVERY_TOTAL<maximumApplicable)maximumApplicable=DELIVERY_PROPS.DELIVERY_TOTAL;if(maximumApplicable>=1)$('#delivery-loyalty-points-block').addClass('delivery-loyalty-points-block-show');return maximumApplicable;};const disableLoyaltyInputAndButton=()=>{$("#use-smiles-in-delivery").addClass("anchor-disabled");$("#smile-point-input-value").prop("disabled",true);};const enableLoyaltyInputAndButton=()=>{$("#use-smiles-in-delivery").removeClass("anchor-disabled");$("#smile-point-input-value").prop("disabled",false);};const rebuildLoyaltyPoints=(currentValue,currentElement)=>{const buttonElement=$("#use-smiles-in-delivery");if(DELIVERY_PROPS.LOYALTY_APPLIED)disableLoyaltyInputAndButton();else{if(DELIVERY_PROPS.LOYALTY_POINTS){let value;let element;if(currentElement)element=currentElement;else{element=$("#smile-point-input-value");buttonElement.removeClass("anchor-disabled");element.prop("disabled",false);}if(currentValue)value=currentValue;else value=parseInt(element.val(),10);let maximumApplicable=getMaximumLoyaltyApplicable();let buttonText;if(value<maximumApplicable)buttonText="Use Partial Smiles";else buttonText="Use All Smiles";if(value>maximumApplicable){element.val(maximumApplicable);buttonText="Use All Smiles";}buttonElement.text(buttonText);}}};const getDeliveryDatesHtml=(deliveryDates)=>{let deliveryDatesHtml="";deliveryDatesMap.clear();deliveryDates.forEach((deliveryDate)=>{deliveryDatesMap.set(deliveryDate.date,deliveryDate.time);deliveryDatesHtml+=`<option value="${deliveryDate.date}">${deliveryDate.date_label}</option>`;});return deliveryDatesHtml;};const setDeliveryDayOptions=(value)=>{if(isDeliveryCartOpen())if(deliveryDatesMap.size){let optionsValue=deliveryDatesMap.get(value).map((time)=>`<option value="${time}">${time}</option>`);const hoursElement=$("#cart-delivery-hours");hoursElement.html(optionsValue);hoursElement.show();renderCustomSelect("#cart-delivery-hours");$("#cart-delivery-hours").trigger('change');}};const getFoodTypeCssClass=(foodType)=>{const cardClass="";if(foodType===0)return "veg";else{if(foodType===1)return "nonveg";}return cardClass;};const getCartItemHtml=(items)=>{let cartItemHtml="";items.forEach((cartItem)=>{cartItemHtml+=`<div class="reservation__item">
                        <div class="reservation__item__card ${getFoodTypeCssClass(parseInt(cartItem.food_type))}">
                          <div class="reservation__item__title">
                            <h5>${cartItem.item_name}</h5>
                          </div>
                          <div class="reservation__item__form-wrap">
                            <form class="form form--reservation">
                              <div class="value-button decrease decrease-added-delivery-item" data-item-code="${cartItem.item_id}"></div>
                              <input type="text" class="number" readonly ${getInputValueAndId(cartItem.quantity,cartItem.item_id,"cart-input")} />
                              <div class="value-button increase increase-added-delivery-item" data-item-code="${cartItem.item_id}"></div>
                            </form>
                            <span class="delivery__item__total">${getCurrencyCode()}${cartItem.total}</span>
                          </div>
                        </div>
                      </div>`;});return cartItemHtml;};const getDeliveryAddressDetails=()=>{$("#delivery-takeaway-branch-name").text(cartRawData.branch_name);if(deliveryTabActive){if(cartRawData.delivery_address)$("#delivery-takeaway-address").text(cartRawData.delivery_address);$("#add-new-delivery-address-block").show();}else $("#delivery-takeaway-address").text(cartRawData.branch_address);};const getDeliveryNotServicable=()=>{$("#delivery-takeaway-branch-name").text(cartRawData.branch_name);if(deliveryTabActive){if(cartRawData.delivery_address)$("#delivery-takeaway-address").text(cartRawData.delivery_address);$("#add-new-delivery-address-block").show();}else $("#delivery-takeaway-address").text(cartRawData.branch_address);};const setDeliveryTypeButtons=()=>{if(cartRawData.delivery){const deliveryElement=$("#via-delivery");deliveryElement.show();deliveryElement.addClass("active");}if(cartRawData.takeaway){const takeawayElement=$("#via-takeaway");takeawayElement.show();if(!cartRawData.delivery){deliveryTabActive=false;takeawayElement.addClass("active");}}};const getDeliveryCart=(cartDetails)=>{cartRawData=cartDetails;if(cartDetails&&cartDetails.item){const daysElement=$("#cart-delivery-days");daysElement.html(getDeliveryDatesHtml(cartDetails.lst_delivery_dates));daysElement.show();renderCustomSelect("#cart-delivery-days");if(!DELIVERY_PROPS.DELIVERY_DATE){DELIVERY_PROPS.DELIVERY_DATE=cartDetails.lst_delivery_dates[0].date;setDeliveryDayOptions(DELIVERY_PROPS.DELIVERY_DATE);}$("#delivery-cart-items").html(getCartItemHtml(cartDetails.item));$("#outer-delivery-cart-items").html(getCartItemHtml(cartDetails.item));let cartDetailsData=cartDetails.item;let cardDetialsQty=0;cartDetailsData.forEach((element)=>{cardDetialsQty+=parseInt(element.quantity);});$("#outer-cart-item-count").html(cardDetialsQty+' '+"Item");Moengage.track_event("Delivery_Takeaway_Checkout",{"Catalog_Cart_Checkout":cardDetialsQty,"Mobile_Number":localStorage.getItem('mobile_number'),"Login_Type":localStorage.getItem('email')});var childDivs=document.getElementById('delivery-cart-items').getElementsByClassName('reservation__item');var childCount;var itemText='item';for(i=0;i<childDivs.length;i++)childCount=i;$("#delivery-count").html(i);if(i>=1){$("#delivery-proceed-to-checkout").addClass('delivery-show-button');$(".outer-delivery-cart-items-mobile").addClass('delivery-show-button-mobile');}if(i>=2)itemText='items';$("#delivery-count-mobile").html(i+' '+itemText);}else{}getDeliveryAddressDetails();};const sideBarItemHtml=(categoryCode,categoryDesc)=>{return `<li><a href="#${categoryCode}"> ${categoryDesc} </a></li>`;};const getInputValueAndId=(quantity,id,suffix)=>{return "value="+quantity+" id="+id+"-"+suffix+" ";};const getAddToCartHtml=(item)=>{if(getCartDetails.get(item.itemCode))return `<div class='number' id="${item.itemCode}">
                <span class='minus decrease-added-delivery-item' data-item-code="${item.itemCode}"></span>
                <input type='text' disabled ${getInputValueAndId(getCartDetails.get(item.itemCode).quantity,item.itemCode,"input")} />
                <span class='plus increase-added-delivery-item' data-item-code="${item.itemCode}"></span>
              </div>`;else return `<a href="#" class="cta modalButton ${getCustomizableButton(item)}" id="${item.itemCode}"> Add </a>`;};const getCustomizableButton=(item)=>{if(item.customize)return 'add-box-item';else return 'add-individual-item';};const getItemPromotionMessageHtml=(promotionMessage)=>{if(promotionMessage)return `<span class="item-promotion-message">${promotionMessage}</span>`;return "";};const getItemTagHtml=(tag)=>{if(tag)return `<span>${tag}</span>`;return "";};const getImage=(imagePath,tag,promotionMessage="")=>{if(imagePath)return `<div class="image">
              ${getItemPromotionMessageHtml(promotionMessage)}
              <img src=${imagePath}>
              ${getItemTagHtml(tag)}
            </div>`;return "";};const getImageWithMoreInfo=(imagePath,tag,promotionMessage="",infoNeeded,itemCode,itemIndex)=>{if(imagePath){let moreInfoButtonimage='';moreInfoButtonimage=`<div class="image">
          ${getItemPromotionMessageHtml(promotionMessage)}
          <a data-model-id="#modal-${itemIndex}-${itemCode}" class='btn btn-primary show-item-model'><img src=${imagePath}></a>
          ${getItemTagHtml(tag)}
        </div>`;return `${moreInfoButtonimage}`;}return "";};jQuery(document).on('click','.show-item-model',function(){event.preventDefault();let El=jQuery(this);let modalid=El.attr('data-model-id');jQuery('.item-model').hide();jQuery(modalid).fadeIn();var cardInfoTitle=$(this).closest(".content").find(".title").text();Moengage.track_event("Delivery_Takeaway_Product_Item_info",{"Mobile_Number":localStorage.getItem('mobile_number'),"Login_Type":localStorage.getItem('email'),"Catalog_Product_Item":cardInfoTitle,"Catalog_Product_Item_info":"Product_Info_click"});});jQuery(document).on('click','.hide-item-model',function(){jQuery('.item-model').hide();});const getBoxHtml=(subCategory,vegOnly)=>{let subCategoryHtml="";let itemIndex=0;subCategory.forEach((eachCat)=>{if(eachCat.items.length)eachCat.items.forEach((item)=>{let modalContent="";let moreInfoButton="";if(!vegOnly||(vegOnly&&item.foodType===0)){subCategoryHtml+=`<div class="deliver-card ${getFoodTypeCssClass(item.foodType)}">`;let originalPrice="";if(item.itemPrice!=item.originalPrice)originalPrice=`<span class="original-price">${getCurrencyCode()}${item.originalPrice}</span> `;if(item.options.length!==0){moreInfoButton=`<button data-model-id="#modal-${itemIndex}-${item.itemCode}" class='btn btn-primary show-item-model'>@</button>`;modalContent+="<div class='modalContent-start'>";item.options.forEach((optionRow)=>{modalContent+=`<h2>${optionRow.optionTitle}</h2>`;if(optionRow.optionItems.length){modalContent+=`<ul class='options'>`;optionRow.optionItems.forEach((optionItem)=>{modalContent+=`<li>${optionItem.itemName}</li>`;});modalContent+=`</ul>`;}});modalContent+=`</div>`;}subCategoryHtml+=`
                    ${getImage(item.itemImagePath,item.itemTag,item.promotionMessage)}
                    <div class="content">
    <div class="title">${item.itemName}</div>
    <div class="description">
      <p>${item.itemDesc}${moreInfoButton}</p>
      <span class="desc-show-more">...More</span>
    </div>
    <div class="price-cart__details">
        <div class="price">${originalPrice}${getCurrencyCode()}${item.itemPrice}</div>
                        <div class="cart">
                            ${getAddToCartHtml(item)}
                          ${item.customize?'<div class="customize"> +Customizable </div>':''}
                              </div></div></div>`;subCategoryHtml+=`<div id="modal-${itemIndex}-${item.itemCode}" class='modal-content item-model'>
              <div class="modal-content-box block">
                <span class="close-btn hide-item-model">x</span>
                ${getImage(item.itemImagePath,item.itemTag,item.itemName)}
                <div class="bbqbox__model-content">${modalContent}</div>
                <div class="bbqbox__model-addbtn">
                ${getAddToCartHtml(item)}
                <div class="price-add-btn"> ₹${item.itemPrice}</div>
                </div></div>
              </div>`;subCategoryHtml+="</div>";}itemIndex++;});});return subCategoryHtml;};const getDescription=(description)=>{if(description)return `<div class="description">
                ${description}
            </div>`;return "";};const getDescriptionWithMoreInfo=(description,infoNeeded,itemCode,index)=>{if(description){let moreInfoButton='';if(infoNeeded)moreInfoButton=`<button data-model-id="#modal-${index}-${itemCode}" class='btn btn-primary show-item-model'>@</button>`;return `<div class="description">
              <p>${description}${moreInfoButton}</p><span class="desc-show-more">...More</span>
          </div>`;}return "";};const getCardButtonHtml=(buttonText,buttonClass,buttonId,dataAttributes,quantity)=>{if(buttonText)if(quantity==null)return `<a href="#" class="button modalButton ${buttonClass}" id="${buttonId}" ${dataAttributes}>${buttonText}</a>`;else return `<div class='number'>
                <span class='minus decrease-added-delivery-item' ${dataAttributes}></span>
                <input type='text' disabled ${getInputValueAndId(quantity,buttonId,"input")} />
                <span class='plus increase-added-delivery-item' ${dataAttributes}></span>
              </div>`;return "";};const getCardHtml=(title,price,image,description,tag,buttonText,titleAdditionClass,buttonClass,buttonId,dataAttributes,quantity)=>{return `<div class="list-card ${titleAdditionClass}">

            <div class="content">
              <div class="content__heading">
                <div class="title">
                  ${title}
                </div>
              </div>
              ${getDescription(description)}
              <div class="delivery-list-card-price">${getCurrencyCode()}${price}/-</div>
            </div>
            ${getCardButtonHtml(buttonText,buttonClass,buttonId,dataAttributes,quantity)}
          ${getImage(image,tag)}
          </div>`;};const getCardWithMoreInfoHtml=(title,price,image,description,options,item,itemIndex,tag,buttonText,titleAdditionClass,buttonClass,buttonId,dataAttributes,quantity)=>{let res='';let infoNeeded=false;if(options.length!==0)infoNeeded=true;res+=`<div class="list-card ${titleAdditionClass}">
          <div class="content">
            <div class="content__heading">
              <div class="title">
                ${title}
              </div>
            </div>
            ${getDescriptionWithMoreInfo(description)}
            <div class="delivery-list-card-price">${getCurrencyCode()}${price}/-
          ${getCardButtonHtml(buttonText,buttonClass,buttonId,dataAttributes,quantity)}</div></div>`;if(item.customize)res+=`<div class="lbl-customize">+customizable</div>`;res+=`${getImageWithMoreInfo(image,tag,'',infoNeeded,item.itemCode,itemIndex)}`;res+=`${getCardModalInfo(options,item,itemIndex)}`;res+=`</div>`;return res;};const getCardModalInfo=(options,item,itemIndex)=>{let modalContent='';let subCategoryHtml='';modalContent+="<div class='modalContent-start'>";if(options.length!==0)options.forEach((optionRow)=>{let itemTitle=optionRow.optionTitle;if(optionRow.optionTitle=='')itemTitle=optionRow.optionDesc;modalContent+=`<h2>${itemTitle}</h2>`;if(optionRow.optionItems.length){modalContent+=`<ul class='options'>`;optionRow.optionItems.forEach((optionItem)=>{modalContent+=`<li>${optionItem.itemName}</li>`;});modalContent+=`</ul>`;}});else modalContent+=`<div class="description"><p>${item.itemDesc}</p></div>`;modalContent+=`</div>`;subCategoryHtml+=`<div id="modal-${itemIndex}-${item.itemCode}" class='modal-content item-model'>
              <div class="modal-content-box block">
                <span class="close-btn hide-item-model">x</span>
                ${getImage(item.itemImagePath,item.itemTag)}
                <div class="title">${item.itemName}</div>
                <div class="bbqbox__model-content">${modalContent}</div>
                <div class="bbqbox__model-addbtn">
                ${getAddToCartHtml(item)}
                <div class="price-add-btn"> ₹${item.itemPrice}</div>
                </div></div>
              </div>`;return subCategoryHtml;};const getImageAndTextHtml=(subCategory,price,vegOnly)=>{let subCategoryHtml="";let itemIndex=0;subCategory.forEach((s)=>{s.items.forEach((item)=>{if(!vegOnly||(vegOnly&&item.foodType===0)){let subCategoryListItemHtml=getCardWithMoreInfoHtml(item.itemName,item.itemPrice,item.itemImagePath,item.itemDesc,item.options,item,itemIndex,undefined,"Add",getFoodTypeCssClass(item.foodType),"add-individual-item",item.itemCode,`data-item-code=${item.itemCode}`,getCartDetails.has(item.itemCode)?getCartDetails.get(item.itemCode).quantity:undefined);subCategoryHtml+=`<div>${subCategoryListItemHtml}</div>`;}itemIndex++;});});return subCategoryHtml;};const populateDeliveryPage=(deliveryCatalog,vegOnly=false)=>{if(deliveryCatalog.servicable){let boxItemsHtml="";let sideBarHtml="";deliveryCatalog.box.forEach((catalog)=>{boxItemsHtml+=`<div class="products-row" id="${catalog.categoryCode}">
                        <div class="product__title">${catalog.categoryDesc}</div>
                        <div class="product-items">${getBoxHtml(catalog.subcategory,vegOnly)}</div>
                     </div>`;sideBarHtml+=sideBarItemHtml(catalog.categoryCode,catalog.categoryDesc);});let imageAndTextHtml="";deliveryCatalog.individualItems.forEach((item)=>{imageAndTextHtml+=`<div id="${item.categoryCode}" class="subtitle">
                            ${item.categoryDesc}
                           </div>
                           <div>${getImageAndTextHtml(item.subcategory,item.itemPrice,vegOnly)}</div>`;sideBarHtml+=sideBarItemHtml(item.categoryCode,item.categoryDesc);});$("#delivery-items").html(sideBarHtml);$("#model-delivery-items").html(sideBarHtml);$("#takeaway-items").html(sideBarHtml);$("#delivery-box-items").html(boxItemsHtml);$("#delivery-image-and-text-items").html(imageAndTextHtml);}};const getDeliverHereClass=(address)=>{if(!address.servicable)return DELIVERY_PROPS.ANCHOR_DISABLED;else return "delivery-cart-deliver-here";};const deliveryAddressCard=(address)=>{let addressSelected='';if(deliveryTabActive&&cartRawData)if(address.address_id==cartRawData.delivery_address_id&&deliveryCustomerAddress.has(cartRawData.delivery_address_id)&&deliveryCustomerAddress.get(cartRawData.delivery_address_id).servicable)addressSelected='addSelected';return `<div class=\"saved-address--block\">
            <div class=\"saved-address--block-content ${addressSelected}\">
            <input type="radio" data-address-id="${address.address_id}" class="${getDeliverHereClass(address)}">
            <div class="saved-address-flat">${address.flat_no}</div>
            <div class="saved-address-main">${address.address}</div>
            </div>
            <div class=\"saved-address--block-action row\">

            <button data-address-id="${address.address_id}" class="edit-saved-address" style="display: none;">Edit</button>
            <div class="edit-saved-address-block"></div>
            </div>
          </div>`;};const setCartDeliveryAddress=(customerAddress)=>{let addressHtml='<div class="saved-address--title">Delivers to</div><a id="hide-saved-delivery-address">Hide</a>';customerAddress.forEach((address)=>{deliveryCustomerAddress.set(address.address_id,address);enableOrDisablePayNow();addressHtml+=deliveryAddressCard(address);});$("#saved-delivery-addresses").html(addressHtml);$(".saved-address--block-content .anchor-disabled").parent().parent().addClass("disable-address-wrap");$(".disable-address-wrap").first().addClass("disable-address-wrap-text");};$(document).on("click","#hide-saved-delivery-address",(e)=>{e.preventDefault();$("#saved-delivery-addresses").addClass("hidden");});const getCustomerDetails=()=>{return{customer_id:getMobileNumber(),branch_id:DELIVERY_PROPS.BRANCH_ID};};const setCustomerDeliveryAddress=()=>{deliveryHttpRequest(DELIVERY_URL.GET_CUSTOMER_ADDRESS,DELIVERY_REQUEST_METHODS.POST,getCustomerDetails(),THUNK_ACTION_TYPES.GET_CUSTOMER_ADDRESS);};const completeVoucherCheckout=(transaction)=>{const postData={payment_id:transaction.razorpay_payment_id};deliveryHttpRequest(DELIVERY_URL.VALIDATE_PAYMENT,DELIVERY_REQUEST_METHODS.POST,Object.assign(postData,getCustomerDetails()),THUNK_ACTION_TYPES.VALIDATE_PAYMENT);};const proceedToPayment=(orderId)=>{deliveryOrderId=orderId;const options={order_id:orderId,amount:DELIVERY_PROPS.DELIVERY_TOTAL,currency:DELIVERY_PROPS.CURRENCY,name:"Barbeque Nation",image:"/themes/custom/bbq_nation/assets/images/bbqn-logo.svg",handler:(transaction)=>{completeVoucherCheckout(transaction);},prefill:{contact:getMobileNumber(),email:getEmail()}};window.rzpay=new Razorpay(options);rzpay.open();};const voucherAndCouponItemHtml=(voucherOrCoupon,tenderKey)=>{let applyText="APPLY "+tenderKey;let additionalClass="";if(tenderKey==="VOUCHER"&&DELIVERY_PROPS.APPLIED_VOUCHERS.has(voucherOrCoupon.barcode)){applyText="APPLIED";additionalClass="coupon-applied";}else{if(tenderKey==="COUPON")if(DELIVERY_PROPS.APPLIED_COUPON_CODE)if(voucherOrCoupon.barcode===DELIVERY_PROPS.APPLIED_COUPON_CODE){applyText="APPLIED";additionalClass="coupon-applied";}else additionalClass=DELIVERY_PROPS.ANCHOR_DISABLED;}let CouponCheckClass='';if(tenderKey==="COUPON"){switch(sales_sub_type_value){case 'Takeaway':if(voucherOrCoupon.sales_sub_type!=='Takeaway'&voucherOrCoupon.sales_sub_type!=='')CouponCheckClass='coupon-hide';break;case 'Delivery':if(voucherOrCoupon.sales_sub_type=='Takeaway')CouponCheckClass='coupon-hide';break;case 'Instant':if(voucherOrCoupon.sales_sub_type!=='Instant')CouponCheckClass='coupon-hide';break;case 'Schedule':if(voucherOrCoupon.sales_sub_type!=='Schedule')CouponCheckClass='coupon-hide';break;};};if(tenderKey==="VOUCHER"||tenderKey==="COUPON")DELIVERY_PROPS.SHOW_DELIVERY_COUPON_HTML=voucherOrCoupon.rule_description;return `<div class="coupon-card row align-center space-between ${CouponCheckClass}">
            <div class="coupon__left">
              <div class="coupon-title">${voucherOrCoupon.title}</div>
              <div class="coupon-description">${voucherOrCoupon.description}</div>
              <div class="coupon-link">
                <a class="read-more-delivery-coupon-description" href="#">Read More</a>
              </div>
            </div>
            <div class="coupon__right">
              <div class="coupon-cta">
                <a class="apply-coupons-vouchers-for-delivery ${additionalClass}" data-amount="${voucherOrCoupon.denomination}" data-tender_key="${tenderKey}" data-barcode="${voucherOrCoupon.barcode}" href="#">${applyText}</a>
              </div>
              <div class="coupon-code">Code:
                <span>${voucherOrCoupon.barcode}</span>
              </div>
            </div>
          </div>`;};$(document).on('click','.read-more-delivery-coupon-description',(e)=>{e.preventDefault();$.dialog({title:'Description',boxWidth:'50%',useBootstrap:false,content:DELIVERY_PROPS.SHOW_DELIVERY_COUPON_HTML});$("#delivery-coupons-vouchers").show();e.preventDefault();});$(document).on('click','.jconfirm-closeIcon',(e)=>{e.preventDefault();$("#delivery-cart-curtain").addClass("reservation--visible");$(".jconfirm-light").hide();$(".jconfirm-light").removeClass("jconfirm-open");$("#delivery-coupons-vouchers").show();e.preventDefault();});const populateVouchersAndCoupons=(voucherAndCoupons,type)=>{let data="";let label="";let offersData="";let offersLabel="";if(type==="VOUCHER"){label="VOUCHERS";if(voucherAndCoupons.voucher&&voucherAndCoupons.voucher.length>0)data=voucherAndCoupons.voucher;}else{if(type==="COUPON"){label="COUPONS";if(voucherAndCoupons.coupon&&voucherAndCoupons.coupon.length>0)data=voucherAndCoupons.coupon;offersLabel="OFFERS";if(voucherAndCoupons.offer&&voucherAndCoupons.offer.length>0)offersData=voucherAndCoupons.offer;}}$("#delivery-voucher-coupon-title").text("AVAILABLE "+label);if(data){let voucherOrCouponHtml="";data.forEach((v)=>{voucherOrCouponHtml+=voucherAndCouponItemHtml(v,type);});$("#delivery-voucher-coupon-listing").html(voucherOrCouponHtml);}else $("#delivery-voucher-coupon-listing").html(`<div>No ${label.toLowerCase()} available.</div>`);if(type==="COUPON"){$("#delivery-offers-title").text("AVAILABLE "+offersLabel);if(offersData){type="OFFER";let voucherOrCouponHtml="";offersData.forEach((v)=>{voucherOrCouponHtml+=voucherAndCouponItemHtml(v,type);});$("#delivery-offers-listing").html(voucherOrCouponHtml);}else $("#delivery-offers-listing").html(`<div>No ${offersLabel.toLowerCase()} available.</div>`);}else{if(type==="VOUCHER"){$("#delivery-offers-title").text("");$("#delivery-offers-listing").html("");}}};const resetCartDetails=()=>{DELIVERY_PROPS.DELIVERY_ORDER_ID=undefined;DELIVERY_PROPS.DELIVERY_TOTAL=undefined;DELIVERY_PROPS.LOYALTY_APPLIED=false;DELIVERY_PROPS.APPLIED_COUPON=false;DELIVERY_PROPS.APPLIED_COUPON_CODE=false;DELIVERY_PROPS.APPLIED_OFFERS.clear();DELIVERY_PROPS.APPLIED_VOUCHERS.clear();$("#delivery-applied-discounts").empty();const deliveryPriceBreakUpElement=$("#delivery-price-break-up, #outer-delivery-price-break-up");deliveryPriceBreakUpElement.empty();deliveryPriceBreakUpElement.hide();$("#delivery-total-amount").empty();$("#delivery-total-amount2").empty();};$(document).on('click','#selected-delivery-address-block, #selected-delivery-address-block-mobile',function(){$(".select-address-popup-outer").removeClass("popup-hidden");$(".saved-address--block-content .anchor-disabled").parent().parent().addClass("disable-address-wrap");$(".disable-address-wrap").first().addClass("disable-address-wrap-text");});const isDeliveryCartOpen=()=>{return $("#delivery-cart-curtain").hasClass("reservation--visible");};function todayTimeDate(timeDate=null,HourFormate=24,dateSeparator="/"){let dtobj=new Date();let year=dtobj.getFullYear();let month=dtobj.getMonth();let date=dtobj.getDate();let hour=dtobj.getHours();let minutes=dtobj.getMinutes();let current_time=hour+":"+minutes;if(HourFormate==12)if(hour>12){hour=hour-12;current_time=hour+":"+minutes+" PM";}else current_time=hour+":"+minutes+" AM";if(timeDate=='time')return current_time;else if(timeDate="date")return year+dateSeparator+month+dateSeparator+date;else return year+dateSeparator+month+dateSeparator+date+" "+current_time;}var isTodayDelivery=false;var timeSlotWrap=$('.time-slots-wrap');var mk_selectedDeliveryTime=todayTimeDate(null,12);var mk_selectedDateSlot=todayTimeDate("date");var data={};var monthSlotHtml="";const setIsTodayDelivery=(flag)=>{isTodayDelivery=flag;};const showModalOfSelectDeliverySlot=()=>{$('.delivery-slot-wrap-modal').show();};const hideModalOfSelectDeliverySlot=()=>{$('.delivery-slot-wrap-modal').hide();};$(document).on('click','.hideModalOfSelectDeliverySlot',function(){hideModalOfSelectDeliverySlot();});const setDeliverySlot=(slotType)=>{if(typeof slotType=='undefined'||slotType==null||slotType==""){alert("Please select delivery slot");return;}if(slotType==='other'){mk_selectedDeliveryTime=null;setIsTodayDelivery(false);showModalOfSelectDeliverySlot();return true;}if(slotType==='today'){setIsTodayDelivery(true);hideModalOfSelectDeliverySlot();let dObj=new Date();let timeSlot=getTime12Format(dObj);let mP=(dObj.getMonth()>=10)?'':0;let dP=(dObj.getDay()>=10)?'':0;mk_selectedDeliveryTime=dObj.getFullYear()+"/"+mP+dObj.getMonth()+"/"+dP+dObj.getDay()+" "+timeSlot;return true;}};const doEmptyTimeSlotWrap=()=>{timeSlotWrap.html('');};$(document).on('click','.timeSlotClicked',function(){mk_selectedDeliveryTime=$(this).attr('data-time-slot');$(".other-day-delivery").html("Schedule"+'</br>'+mk_selectedDeliveryTime);});$(document).on('click','.instant-delivery',function(){$(".other-day-delivery").html("Schedule");});$(document).ready(function(){if($('#via-takeaway').value===""){$('.other-day-delivery').addClass('btn-disable');$('.deliver-by').addClass('display-none');}else{$('.other-day-delivery').removeClass('btn-disable');$('.deliver-by').removeClass('display-none');}});$(document).on('click','#via-takeaway',function(){$('.other-day-delivery').addClass('btn-disable');$('.deliver-by').addClass('display-none');$('.delivery-eatimated-time').addClass("hidden");sales_sub_type_value="Takeaway";});$(document).on('click','#via-delivery',function(){$('.other-day-delivery').removeClass('btn-disable');$('.deliver-by').removeClass('display-none');$('.delivery-eatimated-time').removeClass("hidden");$(".cart__add-new-address").removeClass("hidden");$(".cart__address-outer").removeClass("cart-takeaway-extend");sales_sub_type_value="Delivery";if($('.instant-delivery').hasClass('active'))sales_sub_type_value="Instant";});const getTime12Format=(etS,extendMinutes)=>{if(typeof extendMinutes=="undefined")extendMinutes=0;else extendMinutes=(lst_delivery_schedule_interval/60);var v=new Date(etS);v.setMinutes(v.getMinutes()+extendMinutes);let newH=v.getHours()%12||12;newH=(newH>=10?'':'0')+newH;let newMin=(v.getMinutes()>=10?'':'0')+v.getMinutes();let am_pm=v.getHours()>=12?"PM":"AM";return newH+":"+newMin+" "+am_pm;};var lst_delivery_schedule_dates=[];var lst_delivery_schedule_interval=null;var cart_brand_id=0;const dateSlotClicked=(dateSlotIndex)=>{doEmptyTimeSlotWrap();mk_selectedDeliveryTime=null;mk_selectedDateSlot=$(this).attr('data-dl-date');let timeSlots=lst_delivery_schedule_dates[parseInt(dateSlotIndex)].time;if(typeof timeSlots=="undefined"||timeSlots==null||timeSlots.length===0)return false;let timeSlotHtml="";$.each(timeSlots,function(ix,etS){let timeArr=etS.split(' ');let newsTmSlot=getTime12Format(etS,true);let visibleTime=timeArr[1]+" "+timeArr[2];timeSlotHtml+="<div class='schedule-date-btn'><button class='btn time-slot-btn timeSlotClicked'  data-time-slot='"+etS+"'>"+visibleTime+" - "+newsTmSlot+"</button></div>";});timeSlotWrap.html(timeSlotHtml);return true;};$(document).on('click','.schedule-delivery-btn',function(){$('.schedule-delivery-btn').removeClass('active');$(this).addClass('active');$('#date-slot-id-0').trigger('click');});$(document).on('click','.date-slot-btn',function(){$('.date-slot-btn').removeClass('active');$(this).addClass('active');});$(document).on('click','.time-slot-btn',function(){$(document).find('.time-slot-btn').removeClass('active');$(this).addClass('active');});$(function(){setDeliverySlot('today');setTimeout(function(){$('#date-slot-id-0').trigger('click');});});$(document).on('click','.other-day-delivery',function(){setDeliverySlot('other');sales_sub_type_value="Schedule";});$(document).on('click','.instant-delivery',function(){setDeliverySlot('today');sales_sub_type_value="Instant";});$(document).on('click','.dateSlotClicked',function(){let indexVAl=$(this).attr('data-index');dateSlotClicked(indexVAl);});const deliveryHttpRequest=(url,requestMethod=DELIVERY_REQUEST_METHODS.GET,postData,actionType,reload=false,extraProps={})=>{$.ajax({dataType:"json",method:requestMethod,url,data:requestMethod!==DELIVERY_REQUEST_METHODS.GET?JSON.stringify(postData):postData,beforeSend:function(){if(DELIVERY_PROPS.LOADING_COUNT===0)loaderStart();DELIVERY_PROPS.LOADING_COUNT+=1;},complete:function(){DELIVERY_PROPS.LOADING_COUNT-=1;if(DELIVERY_PROPS.LOADING_COUNT<0)DELIVERY_PROPS.LOADING_COUNT=0;if(DELIVERY_PROPS.LOADING_COUNT===0)loaderStop();},headers:getHeaders(),success(data){if(data){if(typeof extraProps==="function")extraProps();if(reload)window.location.reload();else{data=data;switch(actionType){case THUNK_ACTION_TYPES.GET_CART_DETAILS_AND_LOAD_CATALOG:case THUNK_ACTION_TYPES.GET_CART_DETAILS:getCartDetails=new Map();if(data.data){lst_delivery_schedule_dates=data.data.lst_delivery_schedule_dates;lst_delivery_schedule_interval=data.data.lst_delivery_schedule_interval;cart_brand_id=data.data.brand_id;if(monthSlotHtml==""){monthSlotHtml+="<div class='date-wrap'>";$.each(data.data.lst_delivery_schedule_dates,function(index,slot){monthSlotHtml+="<button class='date-slot-btn dateSlotClicked' id='date-slot-id-"+index+"'  data-date-id='"+index+"' data-index='"+index+"'  data-dl-date='"+slot.date+"'>"+slot.date_label+"</button>";});monthSlotHtml+="</div>";if($('#delivery-slot-wrap').html()=="")$('#delivery-slot-wrap').html(monthSlotHtml);}$('#delivery-products').addClass("delivery-products-show");getDeliveryCart(data.data);$("#delivery-no-items-message").addClass("hidden");$("#delivery-cart-curtain-block").removeClass("hidden");DELIVERY_PROPS.DELIVERY_ORDER_ID=data.data.order_id;var deliveryOrderData={'booking_id':DELIVERY_PROPS.DELIVERY_ORDER_ID,'mobile_number':data.data.customer_id};Cookies.set('delivery_details',JSON.stringify(deliveryOrderData));DELIVERY_PROPS.DELIVERY_TOTAL=parseInt(data.data.final_break_up,10);if(data.data.tender&&data.data.tender.length>0){let appliedDiscountHtml="";data.data.tender.forEach((t)=>{if(t&&t.lstTender&&t.lstTender.length<=0)if(t.tender_key==="COUPON"){DELIVERY_PROPS.APPLIED_COUPON=false;DELIVERY_PROPS.APPLIED_COUPON_CODE=false;}else if(t.tender_key==="VOUCHER")DELIVERY_PROPS.APPLIED_VOUCHERS.clear();else{if(t.tender_key==="OFFER")DELIVERY_PROPS.APPLIED_OFFERS.clear();}if(t&&t.lstTender&&t.lstTender.length>0){if(t.tender_key==="SMILES")DELIVERY_PROPS.LOYALTY_APPLIED=true;else if(t.tender_key==="COUPON")t.lstTender.forEach((tenderItem)=>{DELIVERY_PROPS.APPLIED_COUPON=tenderItem.barcode;DELIVERY_PROPS.APPLIED_COUPON_CODE=tenderItem.promocode;});else if(t.tender_key==="VOUCHER"){DELIVERY_PROPS.APPLIED_VOUCHERS.clear();t.lstTender.forEach((tenderItem)=>{DELIVERY_PROPS.APPLIED_VOUCHERS.add(tenderItem.barcode);});}else{if(t.tender_key==="OFFER"){DELIVERY_PROPS.APPLIED_OFFERS.clear();t.lstTender.forEach((tenderItem)=>{DELIVERY_PROPS.APPLIED_OFFERS.add(tenderItem.barcode);});}}appliedDiscountHtml+=`<div>
                                                ${getDiscountList(t.tender_key,t.lstTender)}
                                              </div>`;}else{if(t.tender_key==="SMILES")DELIVERY_PROPS.LOYALTY_APPLIED=false;}});$("#delivery-applied-discounts").html(appliedDiscountHtml);}$('#smile_you_got').text(data.data.smiles_on_order);let priceBreakUpHtml="";data.data.lst_tax_charges.forEach((priceBreakUp)=>{priceBreakUpHtml+=`<div class="gst">
                                          <h5>${priceBreakUp.label}</h5>
                                          <span>${getCurrencyCode()}${priceBreakUp.value}</span>
                                         </div>`;});const deliveryPriceBreakUpElement=$("#delivery-price-break-up, #outer-delivery-price-break-up");deliveryPriceBreakUpElement.html(priceBreakUpHtml);deliveryPriceBreakUpElement.show();$("#delivery-total-amount").html(`${getCurrencyCode()}${data.data.final_break_up}`);$("#delivery-total-amount2").html(`${getCurrencyCode()}${data.data.final_break_up}`);rebuildLoyaltyPoints();if(data.data.item)data.data.item.forEach((addedItem)=>{getCartDetails.set(addedItem.item_id,addedItem);});if(isDeliveryCartOpen()){getDeliveryCart(data.data);if(data.data.delivery_address!=''){$('#selected-delivery-addresses').show();$(".add-new-address").hide();$(".selected-address-addresses-mobile").show();enableOrDisablePayNow();if($('#delivery-generate-payment').hasClass('anchor-disabled')){$("#selected-delivery-address-block, #selected-delivery-address-block-mobile").html(`<div class="blink_me">
                              <div>Selected Address is not serviceable. Select or Add a new Address</div>
                            </div>`);$('#delivery-takeaway-address').html('');}else $("#selected-delivery-address-block, #selected-delivery-address-block-mobile").html(`<div class="saved-address--content">${data.data.delivery_address}</div>`);}else{$("#selected-delivery-address-block, #selected-delivery-address-block-mobile").html(`<div class="blink_me">
                            <div>Selected Address is not serviceable. Select or Add a new Address</div>
                          </div>`);$('#delivery-takeaway-address').html('');}}}else{if(isDeliveryCartOpen()){$("#delivery-no-items-message").removeClass("hidden");$("#delivery-cart-curtain-block").addClass("hidden");}resetCartDetails();}if(allDeliveryItems){populateDeliveryPage(allDeliveryItems);menuAccordingVegNonveg();}if(extraProps.callback)extraProps.callback();if(actionType===THUNK_ACTION_TYPES.GET_CART_DETAILS_AND_LOAD_CATALOG)deliveryHttpRequest(DELIVERY_URL.GET_DELIVERY_CATALOG,DELIVERY_REQUEST_METHODS.POST,{branch_id:DELIVERY_PROPS.BRANCH_ID.toString(),latitude:DELIVERY_PROPS.LATITUDE.toString(),longitude:DELIVERY_PROPS.LONGITUDE.toString()},THUNK_ACTION_TYPES.GET_DELIVERY_CATALOG);break;case THUNK_ACTION_TYPES.GET_DELIVERY_CATALOG:allDeliveryItems=new DeliveryCatalog(data.data);populateDeliveryPage(allDeliveryItems);menuAccordingVegNonveg();break;case THUNK_ACTION_TYPES.ADD_TO_CART:if(data&&data.message_type&&data.message_type==="success")getCartDetailsAndRebuild();else{if(data&&data.message_type==="failed")window.location.reload();}break;case THUNK_ACTION_TYPES.UPDATE_ORDER_ADDRESS:if(data&&data.message_type==="success")getCartDetailsAndRebuild();break;case THUNK_ACTION_TYPES.GET_CUSTOMER_ADDRESS:if(data.message_type==="success"&&data.data)setCartDeliveryAddress(data.data.address);break;case THUNK_ACTION_TYPES.ADD_CUSTOMER_ADDRESS:if(data.message_type==="success"&&data.data&&data.data.address&&data.data.address.length===1&&data.data.address[0].address_id){setCustomerDeliveryAddress();const currentAddress=data.data.address[0];deliveryCustomerAddress.set(currentAddress.address_id,currentAddress);$("#delivery-address-map-block").hide();$('#selected-delivery-addresses').show();$("#add-new-delivery-address-block").show();if(extraProps.element)extraProps.element[0].reset();deliveryHttpRequest(DELIVERY_URL.UPDATE_ORDER_ADDRESS,DELIVERY_REQUEST_METHODS.POST,{...{address_id:currentAddress.address_id},...getCustomerDetails()},THUNK_ACTION_TYPES.UPDATE_ORDER_ADDRESS,false,()=>$("#saved-delivery-addresses").addClass("hidden"));}break;case THUNK_ACTION_TYPES.GET_SMILES:DELIVERY_PROPS.LOYALTY_POINTS=data.available_points;DELIVERY_PROPS.LOYALTY_EXCHANGE_RATE=data.redeem_amount/data.redeemable_points;$("#smile-point-input-value").val(getMaximumLoyaltyApplicable());$("#all-smile-you-have").text(getMaximumLoyaltyApplicable());if(!DELIVERY_PROPS.LOYALTY_POINTS)disableLoyaltyInputAndButton();else enableLoyaltyInputAndButton();break;case THUNK_ACTION_TYPES.GET_COUPON_VOUCHER:if(data.message_type==="success"&&data.data)populateVouchersAndCoupons(data.data,extraProps.type);break;case THUNK_ACTION_TYPES.GENERATE_PAYMENT:if(data.message_type==="success"&&data.data)if(data.data.payment_order_id)proceedToPayment(data.data.payment_order_id);else setTimeout(function(){window.location.href="/profile#delivery";},1000);break;case THUNK_ACTION_TYPES.VALIDATE_PAYMENT:if(data.message_type==="success"){Moengage.track_event("Delivery_Takeaway_Order_Status",{"Mobile_number":localStorage.getItem('mobile_number'),"Login_Type":localStorage.getItem('email'),"Delivery_Takeaway_Status":"Success","Oderid":deliveryOrderId});setTimeout(function(){window.location.href="/profile#delivery";},1000);}else Moengage.track_event("Delivery_Takeaway_Order_Status",{"Mobile_Number":localStorage.getItem('mobile_number'),"Login_Type":localStorage.getItem('email'),"Delivery_Takeaway_Status":"Failure","Error":"Order not valid.","Oderid":deliveryOrderId});break;case THUNK_ACTION_TYPES.GET_BRANCH_BY_ID:$("#delivery-branch-background-image").attr("src",data.branch_image);break;}if(data.data)if(data.data.delivery===false){$('.delivery-items-select').click(false);$('.takeaway-items-select').trigger('click');$('#via-delivery').click(false);$('#takeaway-items').addClass('deliveryactive');$('.delivery-items-select').parent().addClass('delivery_item_fals');}else if(data.data.takeaway===false){$('.takeaway-items-select').hide();$('.delivery-items-select').trigger('click');$('#via-takeaway').click(false);}else{if(data.data.delivery===false&&data.data.takeaway===false){$('.add-individual-item').click(false);$('#delivery-proceed-to-checkout').click(false);}}}}},error(data){}});};const addAddressHtml=(phoneNumber="",addressId="",flatNo="",address="",landmark="",pincode="",tagTypeadd="")=>{return `<form class="add-delivery-address-form">
              <div class="add-address-location">
                <img src="../../../../themes/custom/bbq_nation/assets/images/add-location-icon.jpg">
                <div class="add-address-location-add">
                  <h4>Selected Address</h3>
                  <div class="map-location-value">
                    <p class="map-location-value-add">${address}</p>
                    <input type="text" name="address_id" hidden value="${addressId}">
                    <input type="text" name="address" class="address-field" hidden required value="${address}">
                  </div>
                </div>
              </div>
              <label>Door/Flat</label>
              <input type="text" name="flat_no" required value="${flatNo}">
              <label>Nearest landmark</label>
              <input type="text" name="landmark" required value="${landmark}">
              <input type="number" name="pincode" required hidden value="${pincode}">
              <input type="number" name="phone_no" required hidden value="${phoneNumber}">
              <div>
              <label>Tag this location</label>
              <ul class="radio-button-tag">
                <li><span class="add-home-icon">Home</span><input type="radio" name="tag_type" value="Home" id="tagHome" class="add-detials-tag" ></li>
                <li><span class="add-work-icon">Work</span><input type="radio" name="tag_type" value="Work" id="tagWork" class="add-detials-tag" ></li>
                <li><span class="add-other-icon">Other</span><input type="radio" name="tag_type" value="Other" id="tagOther" class="add-detials-tag" ></li>
              </ul>
              </div>

              <input class="save-add-dumsafar" type="submit" value="SAVE ADDRESS" />
            </form>`;};;const getCustomerSmiles=()=>{deliveryHttpRequest(DELIVERY_URL.GET_SMILES,DELIVERY_REQUEST_METHODS.GET,{amount:1,currency:DELIVERY_PROPS.CURRENCY},THUNK_ACTION_TYPES.GET_SMILES);};const getDisplayStyle=(index)=>{if(index===0)return "display: block";return "display: none";};const getThresholdAndAllowMultipleDataAttributes=(allowMultiple,threshold)=>{return("data-allow-multiple="+allowMultiple+" data-threshold="+threshold);};const getIncreaseClass=(threshold,allowMultiple)=>{if(allowMultiple==="false")return DELIVERY_PROPS.ANCHOR_DISABLED;return "";};const splitIdToDeliveryCode=(id)=>{const splitId=id.split("-");const deliveryItemCode=splitId[0];const optionCode=deliveryItemCode+"-"+splitId[1];const optionItemCode=splitId[2];return{deliveryItemCode,optionCode,optionItemCode};};const extractThresholdAndAllowMultipleDataAttributes=(e)=>{const allowMultiple=e.target.dataset.allowMultiple;const threshold=parseInt(e.target.dataset.threshold);return{allowMultiple,threshold};};const validateAndEnableOrDisableNextButtonAndProgressBar=(threshold,deliveryItemCode,optionCode,action=DELIVERY_PROPS.ITEM_ACTIONS.ADD)=>{const deliveryItem=deliveryItemsMap.get(deliveryItemCode);const individualPercentage=100/deliveryItem.options.length/boxIndividualItemInOptionCount.get(optionCode);const progressElement=$("#box-delivery-items-progress");let overallPercentage=0;if(progressBarPercentageMap.has(deliveryItemCode))overallPercentage=progressBarPercentageMap.get(deliveryItemCode);if(addedDeliveryItemsMap.get(deliveryItemCode).get(optionCode).size===threshold)$("#box-delivery-items-next").removeClass(DELIVERY_PROPS.ANCHOR_DISABLED);else{const nextButton=$("#box-delivery-items-next");if(!nextButton.hasClass(DELIVERY_PROPS.ANCHOR_DISABLED))nextButton.addClass(DELIVERY_PROPS.ANCHOR_DISABLED);}let nextWidth;if(action===DELIVERY_PROPS.ITEM_ACTIONS.ADD){nextWidth=overallPercentage+individualPercentage;if(nextWidth>100)nextWidth=100;if(nextWidth===100)$("#box-delivery-items-next").text("Add");}else{if(overallPercentage===100)$("#box-delivery-items-next").text("Next");nextWidth=overallPercentage-individualPercentage;if(nextWidth<0)nextWidth=0;}progressElement.width(nextWidth+"%");progressBarPercentageMap.set(deliveryItemCode,nextWidth);};const getListActiveClass=(index)=>{if(index===0)return "active";return "";};const enableOrDisablePayNow=()=>{if(deliveryTabActive&&cartRawData)if(deliveryCustomerAddress.has(cartRawData.delivery_address_id)&&deliveryCustomerAddress.get(cartRawData.delivery_address_id).servicable){$("#delivery-generate-payment").removeClass(DELIVERY_PROPS.ANCHOR_DISABLED);$("#selected-delivery-address-block, #selected-delivery-address-block-mobile").html(`<div class="saved-address--content">${cartRawData.delivery_address}</div>`);}else $("#delivery-generate-payment").addClass(DELIVERY_PROPS.ANCHOR_DISABLED);else $("#delivery-generate-payment").removeClass(DELIVERY_PROPS.ANCHOR_DISABLED);if($('#delivery-generate-payment').hasClass('anchor-disabled')){$("#selected-delivery-address-block, #selected-delivery-address-block-mobile").html(`<div class="blink_me">
            <div>Selected Address is not serviceable. Select or Add a new Address</div>
          </div>`);$('#delivery-takeaway-address').html('');}};$(function(){if(jQuery("#via-delivery").hasClass("active"))jQuery("#delivery--order-type").hide();});$(document).on("click","#via-delivery",(e)=>{e.preventDefault();deliveryTabActive=true;$("#delivery-pickup-text").text("DELIVER IN");$("#add-new-delivery-address-block").show();$("#selected-delivery-addresses").removeClass("hidden");enableOrDisablePayNow();getDeliveryAddressDetails();$("#via-delivery").addClass("active");$("#via-takeaway").removeClass("active");$("#delivery--order-type").hide();$("#delivery--order-type").removeClass("delivery--order-type-show");if($('#delivery-generate-payment').hasClass('anchor-disabled')){$("#selected-delivery-address-block, #selected-delivery-address-block-mobile").html(`<div class="blink_me">
           <div>Selected Address is not serviceable. Select or Add a new Address</div>
        </div>`);$('#delivery-takeaway-address').html('');}getCartDetailsAndRebuild();});$(document).on("click","#via-takeaway",(e)=>{e.preventDefault();deliveryTabActive=false;$("#delivery-pickup-text").text("PICKUP TIMINGS");$("#add-new-delivery-address-block").hide();$("#saved-delivery-addresses").addClass("hidden");$(".cart__add-new-address").addClass("hidden");$(".cart__address-outer").addClass("cart-takeaway-extend");$("#selected-delivery-addresses").addClass("hidden");enableOrDisablePayNow();getDeliveryAddressDetails();$("#via-takeaway").addClass("active");$("#via-delivery").removeClass("active");$("#delivery--order-type").show();$("#delivery--order-type").addClass("delivery--order-type-show");$('#delivery-address-map-block').hide();setDeliveryDayOptions($('#cart-delivery-days').val());getCartDetailsAndRebuild();});$(document).on("click","#add-new-address-btn",(e)=>{e.preventDefault();$('#delivery-address-map-block').hide();$('#add-new-delivery-address-block').show();});$(document).on("change","#cart-delivery-hours",(e)=>{DELIVERY_PROPS.DELIVERY_DATE=e.target.value;});$(document).on("click","#add-new-delivery-address",(e)=>{e.preventDefault();if(window.location.pathname=='/delivery'||window.location.pathname=='/dumsafar-delivery')attachGMapLibrary();setTimeout(function(){var lat_no=parseFloat(DELIVERY_PROPS.LATITUDE);var long_no=parseFloat(DELIVERY_PROPS.LONGITUDE);let mapElement="delivery-address-map";if(screen.width<641)mapElement="delivery-address-map-mobile";const myLatLng={lat:lat_no,lng:long_no};let mapProp={center:new google.maps.LatLng(myLatLng),zoom:15};let map=new google.maps.Map(document.getElementById(mapElement),mapProp);let marker=new google.maps.Marker({position:myLatLng,map,draggable:true,title:"Location"});google.maps.event.addListener(marker,"dragend",(e)=>{DELIVERY_PROPS.LATITUDE=e.latLng.lat();DELIVERY_PROPS.LONGITUDE=e.latLng.lng();reverseGeocodeLatLng();});reverseGeocodeLatLng();$("#hide-saved-delivery-address").trigger('click');$("#delivery-address-map-block").show();$("#add-delivery-address").html(addAddressHtml(getMobileNumber()));$("#add-new-delivery-address-block").hide();$('.address-field').prop('readonly',true);$('#tagWork').click(function(){$('.add-detials-tag').prop('checked',false);$('.radio-button-tag li').removeClass('active');$(this).parent().addClass('active');$('.add-detials-tag#tagWork').prop('checked',true);});$('#tagHome').click(function(){$('.add-detials-tag').prop('checked',false);$('.radio-button-tag li').removeClass('active');$(this).parent().addClass('active');$('.add-detials-tag#tagHome').prop('checked',true);});$('#tagOther').click(function(){$('.add-detials-tag').prop('checked',false);$('.radio-button-tag li').removeClass('active');$(this).parent().addClass('active');$('.add-detials-tag#tagOther').prop('checked',true);});},500);});const reverseGeocodeLatLng=()=>{const geocoder=new google.maps.Geocoder();var lat_no=parseFloat(DELIVERY_PROPS.LATITUDE);var long_no=parseFloat(DELIVERY_PROPS.LONGITUDE);const latlng={lat:lat_no,lng:long_no};geocoder.geocode({location:latlng},(results,status)=>{if(status==="OK")if(results[0]){const formElement=$("#add-delivery-address").find("form");formElement.find('input[name="address"]').val(results[0].formatted_address);formElement.find('.map-location-value-add').text(results[0].formatted_address);for(const addressComponent of results[0].address_components)if(addressComponent.types.includes("postal_code")){formElement.find('input[name="pincode"]').val(addressComponent.long_name);break;}}});};$(document).on("submit",".add-delivery-address-form",(e)=>{const deliveryAddress={customer_id:getMobileNumber()};const element=$(e.target);element.serializeArray().forEach((value)=>(deliveryAddress[value.name]=value.value));deliveryAddress["latitude"]=DELIVERY_PROPS.LATITUDE.toString();deliveryAddress["longitude"]=DELIVERY_PROPS.LONGITUDE.toString();e.preventDefault();deliveryHttpRequest(DELIVERY_URL.ADD_CUSTOMER_ADDRESS,DELIVERY_REQUEST_METHODS.POST,deliveryAddress,THUNK_ACTION_TYPES.ADD_CUSTOMER_ADDRESS,false,{element});$(".address-popup-outer").toggle("popup-hidden");$('#selected-delivery-addresses, .selected-address-addresses-mobile').show();$('.add-new-address').hide();});$(document).on("click",".delivery-cart-deliver-here",(e)=>{const addressId=e.target.dataset.addressId;deliveryHttpRequest(DELIVERY_URL.UPDATE_ORDER_ADDRESS,DELIVERY_REQUEST_METHODS.POST,{...{address_id:addressId},...getCustomerDetails()},THUNK_ACTION_TYPES.UPDATE_ORDER_ADDRESS,false,()=>$("#saved-delivery-addresses").addClass("hidden"));$('.delivery-cart-deliver-here').parent().removeClass('addSelected');$(e.target).parent().addClass('addSelected');$('#address-block-close').trigger('click');});$(document).on("change",".add-delivery-address-form",(e)=>{const formElement=$(e.target).parent();let valid=true;for(const inputValue of formElement.serializeArray())if(inputValue.name!=="address_id"&&!inputValue.value){valid=false;break;}const submitButton=formElement.find(":submit");});$(document).on("click","#delivery-generate-payment",(e)=>{e.preventDefault();const postBody={delivery_time:deliveryTabActive?mk_selectedDeliveryTime:DELIVERY_PROPS.DELIVERY_DATE,transaction_type:deliveryTabActive?1:2,source:"WEB",customer_name:localStorage.getItem('user_name'),ordering_name:localStorage.getItem('user_name'),ordering_phonenumber:getMobileNumber()};deliveryHttpRequest(DELIVERY_URL.GENERATE_PAYMENT,DELIVERY_REQUEST_METHODS.POST,Object.assign(postBody,getCustomerDetails()),THUNK_ACTION_TYPES.GENERATE_PAYMENT);});$(document).on("click",".edit-saved-address",(e)=>{const addressId=e.target.dataset.addressId;const address=deliveryCustomerAddress.get(addressId);$(e.target).next(".edit-saved-address-block").html(addAddressHtml(address.phone_no,address.address_id,address.flat_no,address.address,address.landmark,address.pincode,address.tag_type));});$(document).on("change","#cart-delivery-days",(e)=>{setDeliveryDayOptions(e.target.value);});$(document).on("click",".box-modal-sidebar-click",(e)=>{e.preventDefault();const id=e.target.dataset.id;const listId=id+"-list";$(".box-item-container").not("#"+id).hide();$(".box-modal-sidebar-list.active").removeClass("deliveryactive");$("#"+id).show();$("#"+listId).addClass("deliveryactive");});$(document).on("click","#delivery-products-sidebar .tab-item",(e)=>{var elems=document.querySelectorAll("#delivery-products-sidebar .deliveryactive");[].forEach.call(elems,function(el){el.classList.remove("deliveryactive");});e.target.className+=" deliveryactive";$(".sidebar .sidebar-items").removeClass("is-active");var idValue=e.target.id;var id=idValue.trim("#");$(""+id).addClass("is-active");});$(document).on("click",".delivery .sidebar .sidebar-items li a",(e)=>{$(".delivery .sidebar li").removeClass("active");e.target.parentElement.className+=" active";var target=e.target.attributes.href.value;$("html, body").animate({scrollTop:$(target).offset().top-100},1000);});$(document).on("click",".individual-item-checkbox",(e)=>{const individualItemCode=e.target.dataset.individualItemCode;const optionCode=e.target.dataset.optionCode;const optionItemCode=e.target.id;const threshold=e.target.dataset.threshold;if(!addedDeliveryItemsMap.has(individualItemCode))addedDeliveryItemsMap.set(individualItemCode,new Map());if(!addedDeliveryItemsMap.get(individualItemCode).has(optionCode))addedDeliveryItemsMap.get(individualItemCode).set(optionCode,new Map());if(e.target.checked)if(addedDeliveryItemsMap.get(individualItemCode).get(optionCode).size<threshold)addedDeliveryItemsMap.get(individualItemCode).get(optionCode).set(optionItemCode,1);else $(e.target).prop("checked",false);else{addedDeliveryItemsMap.get(individualItemCode).get(optionCode).delete(optionItemCode);if(addedDeliveryItemsMap.get(individualItemCode).get(optionCode).size===0)addedDeliveryItemsMap.get(individualItemCode).delete(optionCode);}if(addedDeliveryItemsMap.get(individualItemCode).size===individualItemTargetTotalCount.get(individualItemCode))$("#add-individual-item-with-options").removeClass(DELIVERY_PROPS.ANCHOR_DISABLED);else $("#add-individual-item-with-options").addClass(DELIVERY_PROPS.ANCHOR_DISABLED);});$(document).on("click","#add-individual-item-with-options",(e)=>{e.preventDefault();$('#box-and-items-modal').hide();const itemCode=e.target.dataset.itemCode;deliveryHttpRequest(DELIVERY_URL.ADD_TO_CART,DELIVERY_REQUEST_METHODS.POST,new AddToCart(0,itemCode,1),THUNK_ACTION_TYPES.ADD_TO_CART,false);});const setShowCartInSession=()=>{sessionStorage.setItem(DELIVERY_PROPS.SHOW_DELIVERY_CART_ON_RELOAD,true);};$(document).on("click",".add-individual-item",(e)=>{$(".close-btn").trigger("click");tot=0;e.preventDefault();if(isAnonymous())$(".button--signin").trigger("click");else{const individualItem=deliveryItemsMap.get(e.target.id);const individualItemCode=individualItem.itemCode;Moengage.track_event("Delivery_Takeaway_Catalog",{"Mobile_Number":localStorage.getItem('mobile_number'),"Login_Type":localStorage.getItem('email'),"Location":localStorage.getItem('branch_name'),"Delivery_Takeaway":deliveryTabActive?"Delivery":"Takeaway","Food_Type":getFoodTypeCssClass(individualItem.foodType),"Catalog_Items":individualItem.itemName});if(individualItem.options&&individualItem.options.length>0&&individualItem.customize){let individualItemHtml=getCardHtml(individualItem.itemName,individualItem.itemPrice,individualItem.itemImagePath,individualItem.itemDesc,individualItem.itemTag,undefined,getFoodTypeCssClass(individualItem.foodType));individualItemTargetTotalCount.set(individualItemCode,0);individualItem.options.forEach((option)=>{individualItemTargetTotalCount.set(individualItemCode,individualItemTargetTotalCount.get(individualItemCode)+parseInt(option.threshold));individualItemHtml+=`<div class="content__row">
                                <div class="subtitle">
                                  ${option.optionTitle}
                                  <span> (Choose any ${option.threshold}\u00A0of the following)</span>
                                </div>
                                <div class="items">
                                  ${option.optionItems.map((optionItem)=>{return `<li>
                                              <input
                                                data-individual-item-code="${individualItemCode}"
                                                data-option-code="${option.optionCode}"
                                                data-threshold="${option.threshold}"
                                                class="custom-checkbox individual-item-checkbox"
                                                id="${optionItem.itemCode}"
                                                type="checkbox"
                                                value=""
                                              >
                                              <label for="${optionItem.itemCode}">${optionItem.itemName}</label>
                                            </li>`;})};
                                </div>
                              </div>`;});individualItemHtml+=`<div class="content__row">
                              <div class="price-cart__details">
                                <div class="price">
                                  ${getCurrencyCode()} ${individualItem.itemPrice}/-
                                </div>
                                <button class="cta ${DELIVERY_PROPS.ANCHOR_DISABLED}" id="add-individual-item-with-options" data-item-code="${individualItem.itemCode}">Add</button>
                              </div>
                            </div>`;$("#individual-item-modal-content").html(individualItemHtml);$("#item-modal").show();$("#box-and-items-modal").show();if(window.location.pathname=='/dumsafar-delivery'){var btn_clr=$("#clr_code").val();var font_clr=$("#font_clr_code").val();if(btn_clr)$('.cta, .button--submit, .add-individual-item').css('background',btn_clr);if(font_clr)$('.deliver-card, .description, .delivery, .title, .price, .delivery__item__total, .product__title, .delivery-cart-curtain-block').css('color',font_clr);}$('li').find('label').each(function(){$(this).on('click',(d)=>{var id=$(d.target).attr('for');if($('a#'+id).length)$('input#'+id).trigger('click');});});}else deliveryHttpRequest(DELIVERY_URL.ADD_TO_CART,DELIVERY_REQUEST_METHODS.POST,new AddToCart(0,e.target.id,1),THUNK_ACTION_TYPES.ADD_TO_CART,false);}});$("#delivery-proceed-to-checkout").click((e)=>{e.preventDefault();triggerDeliveryCartClick();});$("#delivery-proceed-to-checkout-mobile").click((e)=>{e.preventDefault();triggerDeliveryCartClick();});const triggerDeliveryCartClick=()=>{$(".select-address-popup-outer").addClass("popup-hidden");if(!isDeliveryCartOpen())$("#header--DELIVERY\\/TAKEAWAY").trigger("click");};$(".close-add-delivery-items-modal").click((e)=>{e.preventDefault();$('#box-and-items-modal').hide();});$(document).on("click",".add-box-item",(e)=>{e.preventDefault();if(isAnonymous())$(".button--signin").trigger("click");else{const deliveryItem=deliveryItemsMap.get(e.target.id);let listItemSideBarHtml="";let listItemHtml="";if(deliveryItem){const deliveryItemCode=deliveryItem.itemCode;deliveryItem.options.forEach((option,index)=>{const optionId=deliveryItemCode+"-"+option.optionCode;listItemSideBarHtml+=`<li class="${getListActiveClass(index)} box-modal-sidebar-list" id="${optionId}-list">
                                <a class="box-modal-sidebar-click" href="#" data-id="${optionId}"> ${option.optionTitle} </a>
                              </li>`;listItemHtml+=`<div class="box-item-container" style="${getDisplayStyle(index)}" id="${optionId}">
                         <div class="subtitle">
                          ${option.optionTitle}
                          <span> (Choose any ${option.threshold}\u00A0of the following)</span>
                        </div>`;boxIndividualItemInOptionCount.set(optionId,option.optionItems.length);option.optionItems.forEach((optionItem)=>{listItemHtml+=getCardHtml(optionItem.itemName,optionItem.price,undefined,undefined,undefined,"Add",getFoodTypeCssClass(optionItem.foodType),"add-box-individual-item",optionId+"-"+optionItem.itemCode,getThresholdAndAllowMultipleDataAttributes(optionItem.allowMultiple,option.threshold));});listItemHtml+="</div>";});$("#box-modal-content").html(`<div class="modal-heading">
                                    ${getCardHtml(deliveryItem.itemName,deliveryItem.itemPrice,deliveryItem.itemImagePath,deliveryItem.itemDesc,deliveryItem.itemTag,undefined,getFoodTypeCssClass(deliveryItem.foodType))}
                                  </div>
                                  <div class="modal-content">
                                    <div class="sidebar">
                                      <div class="sidebar-items is-active" id="delivery-items">
                                        ${listItemSideBarHtml}
                                      </div>
                                    </div>
                                    <div class="cart-items">
                                      ${listItemHtml}
                                    </div>
                                  </div>
                                  <div class="progress">
                                    <label> Progress </label>
                                    <div class="progress-bar">
                                      <div class="bar" id="box-delivery-items-progress">
                                        <p class="percent"/>
                                      </div>
                                    </div>
                                    <button data-id="${deliveryItemCode}" class="${DELIVERY_PROPS.ANCHOR_DISABLED}" id="box-delivery-items-next"> Next</button>
                                  </div>`);$("#box-modal").show();$("#box-and-items-modal").show();}}});$(document).on("click","#close-delivery-curtain",(e)=>{e.preventDefault();$("#via-delivery").removeClass("active");$("#via-takeaway").removeClass("active");$("#delivery-cart-curtain").removeClass("reservation--visible");});$("#filter-delivery-item-based-on-food-type").click(function(){$(this).toggleClass("active");menuAccordingVegNonveg();});const menuAccordingVegNonveg=()=>{if($("#filter-delivery-item-based-on-food-type").hasClass("active"))populateDeliveryPage(allDeliveryItems,true);else populateDeliveryPage(allDeliveryItems);};$(document).on("click",".add-box-individual-item",(e)=>{e.preventDefault();const id=e.target.id;const{deliveryItemCode,optionCode,optionItemCode}=splitIdToDeliveryCode(id);const{allowMultiple,threshold}=extractThresholdAndAllowMultipleDataAttributes(e);const thresholdAndAllowMultipleDataAttributes=`data-id="${id}" ${getThresholdAndAllowMultipleDataAttributes(allowMultiple,threshold)}`;const addDeleteItemHtml=`<div class='number' id="${id}">
                              <span class='minus decrease-box-individual-item' ${thresholdAndAllowMultipleDataAttributes}>-</span>
                              <input type='text' value='1' id="${id}-input" />
                              <span class='plus increase-box-individual-item ${getIncreaseClass(threshold,allowMultiple)}' ${thresholdAndAllowMultipleDataAttributes}>+</span>
                            </div>`;$(e.target).replaceWith(addDeleteItemHtml);if(!addedDeliveryItemsMap.has(deliveryItemCode))addedDeliveryItemsMap.set(deliveryItemCode,new Map());if(!addedDeliveryItemsMap.get(deliveryItemCode).has(optionCode))addedDeliveryItemsMap.get(deliveryItemCode).set(optionCode,new Map());addedDeliveryItemsMap.get(deliveryItemCode).get(optionCode).set(optionItemCode,1);validateAndEnableOrDisableNextButtonAndProgressBar(threshold,deliveryItemCode,optionCode);});$(document).on("click","#box-delivery-items-next",(e)=>{e.preventDefault();const deliveryItemCode=e.target.dataset.id;if(progressBarPercentageMap.get(deliveryItemCode)===100)deliveryHttpRequest(DELIVERY_URL.ADD_TO_CART,DELIVERY_REQUEST_METHODS.POST,new AddToCart(0,deliveryItemCode,1),THUNK_ACTION_TYPES.ADD_TO_CART,true);else{const activeList=$(".box-modal-sidebar-list.active");activeList.removeClass("active");const id=activeList[0].id;const optionId=id.substring(0,id.lastIndexOf("-"));const boxItemContainer=$("#"+optionId);boxItemContainer.hide();const nextBoxItemContainer=boxItemContainer.next();nextBoxItemContainer.show();$("#"+nextBoxItemContainer[0].id+"-list").addClass("active");$(e.target).addClass(DELIVERY_PROPS.ANCHOR_DISABLED);}});$(document).on("click",".increase-added-delivery-item, .decrease-added-delivery-item",(e)=>{e.preventDefault();const itemCode=e.target.dataset.itemCode;const cartItem=getCartDetails.get(itemCode);let quantity=parseInt(cartItem.quantity);if($(e.target).hasClass("decrease-added-delivery-item"))quantity--;else{quantity++;Moengage.track_event("Delivery_Takeaway_Added",{"Catalog_Product_Item_Cart_Selection":quantity,"Mobile_Number":localStorage.getItem('mobile_number'),"Login_Type":localStorage.getItem('email')});}deliveryHttpRequest(DELIVERY_URL.ADD_TO_CART,DELIVERY_REQUEST_METHODS.POST,new AddToCart(cartItem.item_detail_id,itemCode,quantity),THUNK_ACTION_TYPES.ADD_TO_CART);});$(document).on("click",".decrease-box-individual-item, .increase-box-individual-item",(e)=>{const id=e.target.dataset.id;const{deliveryItemCode,optionCode,optionItemCode}=splitIdToDeliveryCode(id);const{allowMultiple,threshold}=extractThresholdAndAllowMultipleDataAttributes(e);const input=$("#"+id+"-input");const value=parseInt(input.val());if($(e.target).hasClass("decrease-box-individual-item")){if(value===1){$(e.target).parent().replaceWith(getCardButtonHtml("Add","add-box-individual-item",id,getThresholdAndAllowMultipleDataAttributes(allowMultiple,threshold)));addedDeliveryItemsMap.get(deliveryItemCode).get(optionCode).delete(optionItemCode);}else{let quantity=value-1;input.val(quantity);addedDeliveryItemsMap.get(deliveryItemCode).get(optionCode).set(optionItemCode,quantity);}validateAndEnableOrDisableNextButtonAndProgressBar(threshold,deliveryItemCode,optionCode,DELIVERY_PROPS.ITEM_ACTIONS.REMOVE);}else{if(value<threshold){let quantity=value+1;input.val(quantity);addedDeliveryItemsMap.get(deliveryItemCode).get(optionCode).set(optionItemCode,quantity);validateAndEnableOrDisableNextButtonAndProgressBar(threshold,deliveryItemCode,optionCode);}}});$("#smile-point-input-value").change((e)=>{const value=parseInt(e.target.value,10);rebuildLoyaltyPoints(value);});$("#use-smiles-in-delivery, #user-all-smiles-btn").click((e)=>{e.preventDefault();const appliedSmiles=parseInt($("#smile-point-input-value").val(),10);const postData={tender_key:"SMILES",amount:appliedSmiles,sales_sub_type:sales_sub_type_value};deliveryHttpRequest(DELIVERY_URL.UPDATE_PAYMENT,DELIVERY_REQUEST_METHODS.POST,Object.assign(postData,getCustomerDetails()),THUNK_ACTION_TYPES.GET_CART_DETAILS);});$("#use-smiles-in-delivery").unbind("click").click((e)=>{e.preventDefault();maximumApplicable=getMaximumLoyaltyApplicable();let appliedPoints=parseInt($("#smile-point-input-value").val(),10);if(appliedPoints<maximumApplicable)maximumApplicable=appliedPoints;if(DELIVERY_PROPS.DELIVERY_TOTAL<maximumApplicable)maximumApplicable=DELIVERY_PROPS.DELIVERY_TOTAL;const appliedSmiles=maximumApplicable;const postData={tender_key:"SMILES",amount:appliedSmiles,sales_sub_type:sales_sub_type_value};deliveryHttpRequest(DELIVERY_URL.UPDATE_PAYMENT,DELIVERY_REQUEST_METHODS.POST,Object.assign(postData,getCustomerDetails()),THUNK_ACTION_TYPES.GET_CART_DETAILS);});$(document).on("click",".apply-coupons-vouchers-for-delivery",(e)=>{e.preventDefault();var maxCouponAmount=parseInt(e.target.dataset.amount)+parseInt(100);const validCoupon=validateTotal(maxCouponAmount,DELIVERY_PROPS.DELIVERY_TOTAL);const tenderKey=e.target.dataset.tender_key;if(validCoupon){const postData={amount:parseFloat(e.target.dataset.amount,10),tender_key:e.target.dataset.tender_key,barcode:e.target.dataset.barcode,sales_sub_type:sales_sub_type_value,brand_id:cart_brand_id};deliveryHttpRequest(DELIVERY_URL.UPDATE_PAYMENT,DELIVERY_REQUEST_METHODS.POST,Object.assign(postData,getCustomerDetails()),THUNK_ACTION_TYPES.GET_CART_DETAILS);if(tenderKey==="COUPON"&&DELIVERY_PROPS.APPLIED_OFFERS.size){DELIVERY_PROPS.APPLIED_OFFERS.forEach(function(value){removeDiscounts("OFFER",value);DELIVERY_PROPS.APPLIED_OFFERS.delete(value);});DELIVERY_PROPS.APPLIED_OFFERS.clear();}else{if(tenderKey==="OFFER"&&DELIVERY_PROPS.APPLIED_COUPON){removeDiscounts("COUPON",DELIVERY_PROPS.APPLIED_COUPON);DELIVERY_PROPS.APPLIED_COUPON=false;DELIVERY_PROPS.APPLIED_COUPON_CODE=false;}}$("#delivery-coupons-vouchers").hide();$("#delivery-curtain").show();}});function validateTotal(amount,total){if(amount>total){toastr.error('Please add more items to apply this coupon');return false;}return true;}$(document).on("click",".delivery-remove-discount",(e)=>{e.preventDefault();deliveryHttpRequest(DELIVERY_URL.REMOVE_PAYMENT,DELIVERY_REQUEST_METHODS.POST,Object.assign(e.target.dataset,getCustomerDetails()),THUNK_ACTION_TYPES.GET_CART_DETAILS);DELIVERY_PROPS.APPLIED_VOUCHERS=new Set();DELIVERY_PROPS.APPLIED_OFFERS=new Set();DELIVERY_PROPS.APPLIED_COUPON=undefined;DELIVERY_PROPS.APPLIED_COUPON_CODE=undefined;});function removeDiscounts(tenderKey,discountBarcode){const postData={tender_key:tenderKey,barcode:discountBarcode,payment_id:""};deliveryHttpRequest(DELIVERY_URL.REMOVE_PAYMENT,DELIVERY_REQUEST_METHODS.POST,Object.assign(postData,getCustomerDetails()),THUNK_ACTION_TYPES.GET_CART_DETAILS);}$("#delivery-coupons-vouchers-close").click((e)=>{e.preventDefault();$("#delivery-coupons-vouchers").hide();$("#delivery-curtain").show();});$("#send-app-link").click((e)=>{e.preventDefault();var mobile_number=$("#send_app-number").val();if(mobile_number.length>=1&&mobile_number.length<=10){$.ajax({url:'/api/v1/send-app-link',type:'POST',data:JSON.stringify({"mobile_number":mobile_number}),headers:getHeaders(),dataType:"json",success:function(data){window.location.href=data;}});$("#send_app-number").val('');$.alert({title:"SMS Sent",useBootstrap:false,boxWidth:"30%",content:"Please find sms sent to your mobile number",type:"red"});}else $.alert({title:"Mobile Number Error!",useBootstrap:false,boxWidth:"30%",content:"Please Enter a Valid Mobile Number",type:"red"});});$(".delivery-show-voucher-coupon").click((e)=>{e.preventDefault();const type=e.target.dataset.type;$("#delivery-curtain").hide();$("#delivery-coupons-vouchers").show();$("#delivery-voucher-coupon-listing").empty();deliveryHttpRequest(DELIVERY_URL.GET_COUPON_VOUCHER,DELIVERY_REQUEST_METHODS.POST,{customer_id:getMobileNumber(),order_id:DELIVERY_PROPS.DELIVERY_ORDER_ID,sales_sub_type:sales_sub_type_value,brand_id:cart_brand_id,branch_id:DELIVERY_PROPS.BRANCH_ID.toString()},THUNK_ACTION_TYPES.GET_COUPON_VOUCHER,false,{type});});var x=document.getElementById("searchInput");function getLocation(){if(navigator.geolocation)navigator.geolocation.getCurrentPosition(showPosition,showError);else x.value="Geolocation is not supported by this browser.";}function showPosition(position){lat=position.coords.latitude;lon=position.coords.longitude;DELIVERY_PROPS.DELIVERY_LATITUDE=position.coords.latitude;DELIVERY_PROPS.DELIVERY_LONGITUDE=position.coords.longitude;displayLocation(lat,lon);}function showError(error){switch(error.code){case error.PERMISSION_DENIED:x.value="User denied the request for Geolocation.";break;case error.POSITION_UNAVAILABLE:x.value="Location information is unavailable.";break;case error.TIMEOUT:x.value="The request to get user location timed out.";break;case error.UNKNOWN_ERROR:x.value="An unknown error occurred.";break;}}function displayLocation(latitude,longitude){var geocoder;geocoder=new google.maps.Geocoder();var latlng=new google.maps.LatLng(latitude,longitude);geocoder.geocode({'latLng':latlng},function(results,status){if(status==google.maps.GeocoderStatus.OK)if(results[0]){var add=results[0].formatted_address;var value=add.split(",");count=value.length;country=value[count-1];state=value[count-2];city=value[count-3];place=value[count-4];block=value[count-5];vill=value[count-6];add=value[count-7];x.value=vill+block+place+city+country;}else x.value="address not found";else x.value="Geocoder failed due to: "+status;});}$(".get__current-location").click((e)=>{e.preventDefault();getLocation();});function deliveryPromSlick(){$('#delivery-promotion').slick({infinite:true,lazyLoad:'ondemand',slidesToShow:4,slidesToScroll:1,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:3,infinite:true,dots:true}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]});};function getPromotionImages(){if(DELIVERY_PROPS.BRANCH_ID)var promotionUrl=DELIVERY_URL.DELIVERY_PROMOTIONS+'?branch_id='+DELIVERY_PROPS.BRANCH_ID;else var promotionUrl=DELIVERY_URL.DELIVERY_PROMOTIONS;$.ajax({method:'GET',url:promotionUrl,headers:getHeaders(),beforeSend:function(){loaderStart();},complete:function(){loaderStop();},success:function(data){if(data&&data.data&&data.data.length){data.data.forEach(function(value){$('#delivery-promotion').append(`<div class="items"><img src="${value.mobile_promotion.promotion_image}"></div>`);});deliveryPromSlick();}},error:function(error){console.error("Error fetching promotion images:",error);}});}$(document).ready(function(){getPromotionImages();});$(document).on("click","#add-new-delivery-address, #add-cross-btn",(e)=>{e.preventDefault();$(".address-popup-outer").toggle("popup-hidden");});$(document).on("click","#add-cross-btn-select, #selectAddressProceed",(e)=>{e.preventDefault();$(".select-address-popup-outer").addClass("popup-hidden");});var radios=document.getElementsByClassName('add-detials-tag');for(i=0;i<radios.length;i++)radios[i].onclick=function(e){if(e.ctrlKey||e.metaKey)this.checked=false;};$(".delivery__smiles-apply").addClass('hide');$(document).on("click","#user-partial-smiles-btn, #use-smiles-in-delivery",(e)=>{e.preventDefault();if($(".delivery__smiles-apply").hasClass("hide")){$(".delivery__smiles-apply").removeClass('hide');$(".delivery__smiles-apply").addClass('show');}else{if($(".delivery__smiles-apply").hasClass("show")){$(".delivery__smiles-apply").removeClass('show');$(".delivery__smiles-apply").addClass('hide');}};});$(document).on("click","#user-all-smiles-btn",(e)=>{e.preventDefault();if($(".delivery__smiles-apply").hasClass("show")){$(".delivery__smiles-apply").removeClass('show');$(".delivery__smiles-apply").addClass('hide');};});var renderedCustomSelect=[];function renderCustomSelect(selectElId){let is_alreadyBuild=false;if(renderedCustomSelect.length){for(let i=0;i<renderedCustomSelect.length;i++)if(selectElId===renderedCustomSelect[i])is_alreadyBuild=true;}if(is_alreadyBuild)return false;else renderedCustomSelect.push(selectElId);var $this=$(selectElId);var numberOfOptions=$this.children('option').length;$this.addClass('select-hidden');$this.wrap('<div class="select"></div>');$this.after('<div class="select-styled"></div>');var $styledSelect=$this.next('div.select-styled');$styledSelect.text($this.children('option').eq(0).text());var $list=$('<ul />',{'class':'select-options'}).insertAfter($styledSelect);for(var i=0;i<numberOfOptions;i++)$('<li />',{text:$this.children('option').eq(i).text(),rel:$this.children('option').eq(i).val()}).appendTo($list);var $listItems=$list.children('li');$styledSelect.click(function(e){e.stopPropagation();$('div.select-styled.active').not(this).each(function(){$(this).removeClass('active').next('ul.select-options').hide();});$(this).toggleClass('active').next('ul.select-options').toggle();});$listItems.click(function(e){e.stopPropagation();$styledSelect.text($(this).text()).removeClass('active');$this.val($(this).attr('rel'));$list.hide();});$(document).click(function(){$styledSelect.removeClass('active');$list.hide();});};$(document).on("click",".not_deliver_popup-btn, .outlet-closs-popup-cross",()=>{$('.outlet-closs-popup').toggle();});var userLocationLat=localStorage.getItem('latitude');var userLocationLong=localStorage.getItem('longitude');var userMobileNumber=localStorage.getItem('mobile_number');var userLoginType=localStorage.getItem('email');$(document).on("click",".download-app-appstore",()=>{let loc=(userLocationLat&&userLocationLong)?(userLocationLat+', '+userLocationLong):userIpAddress;Moengage.track_event("Footer_App_Intsall",{"URL":getCurrentURL,"locataion":loc,"Mobile_Number":localStorage.getItem('mobile_number'),"Login_Type":localStorage.getItem('email')});});$(document).on("click",".download-app-googleplay",()=>{Moengage.track_event("Footer_download_googleplay_app",{"URL":getCurrentURL,"locataion":userLocationLat,userLocationLong,"Mobile_Number":localStorage.getItem('mobile_number'),"Login_Type":localStorage.getItem('email')});});$(document).on("click",".delivery-takeaway-button",()=>{Moengage.track_event("Home_Delivery_Takeaway",{"Delivery_Takeaway_Click_Count":"Clicked","Mobile_Number":localStorage.getItem('mobile_number'),"Login_Type":localStorage.getItem('email')});});$(document).on("click","#promotion--banner-booknow",()=>{Moengage.track_event("Home_Delivery_Order_Now",{"Home_Click_Count":"Clicked","Mobile":localStorage.getItem('mobile_number'),"Login_Type":localStorage.getItem('email')});});if(window.location.href=='https://www.barbequenation.com/')$(document).on("click",".card--promotion .button--atc",()=>{Moengage.track_event("Home_Happinesscard",{"Home_Click_Count":"Clicked","Mobile_Number":localStorage.getItem('mobile_number'),"Login_Type":localStorage.getItem('email')});});if(window.location.pathname=='/vouchers')$(document).on("click",".card--promotion .button--atc",()=>{Moengage.track_event("Home_Happinesscard",{"Home_Click_Count":"Clicked","Mobile_Number":localStorage.getItem('mobile_number'),"Login_Type":localStorage.getItem('email')});});$(document).on("click",".card--promotion .increase-item",()=>{Moengage.track_event("Happinesscard_Added",{"Home_Click_Count":"Clicked","Mobile_Number":localStorage.getItem('mobile_number'),"Login_Type":localStorage.getItem('email')});});$(document).on("click",".card--promotion .increase-item",()=>{Moengage.track_event("Happinesscard_Added",{"Home_Click_Count":"Clicked","Mobile_Number":localStorage.getItem('mobile_number'),"Login_Type":localStorage.getItem('email')});});$(document).on("click","#delivery-generate-payment",()=>{Moengage.track_event("Delivery_Takeaway_Pay",{"Delivery_Takeaway_Pay":"Clicked","Mobile_Number":localStorage.getItem('mobile_number'),"Login_Type":localStorage.getItem('email')});});$(document).on('keypress','input.select2-search__field',(e)=>{var k=e.keyCode;return((k>64&&k<91)||(k>96&&k<123)||k==8||k==32||(k>=48&&k<=57));});function getBrandId(){var brand=0;if(window.location.pathname=='/delivery')brand=1;if(window.location.pathname=='/dumsafar-delivery')brand=2;return brand;}$(".dumsafer").click(function(e){e.preventDefault();setOutletBasedOnDelvieryLocation(dumsafarBrandId);getCartDetailsAndRebuild();});$(".ubq").click(function(e){e.preventDefault();setOutletBasedOnDelvieryLocation(UbqBrandId);getCartDetailsAndRebuild();});function setOutletBasedOnDelvieryLocation(brand_id){var nameSearch=document.getElementById("searchInput").value;if(nameSearch!=0){if(DELIVERY_PROPS.DELIVERY_LATITUDE==undefined)DELIVERY_PROPS.DELIVERY_LATITUDE=localStorage.getItem("latitude");if(DELIVERY_PROPS.DELIVERY_LONGITUDE==undefined)DELIVERY_PROPS.DELIVERY_LONGITUDE=localStorage.getItem("longitude");$.ajax({url:'/api/v1/get-one-nearby-branch-dumsafar',type:'POST',headers:getHeaders(),data:JSON.stringify({"lat":DELIVERY_PROPS.DELIVERY_LATITUDE,"long":DELIVERY_PROPS.DELIVERY_LONGITUDE,"brand_id":brand_id}),dataType:"json",beforeSend:function(){loaderStart();},complete:function(){loaderStop();},success:function(data){if(!$.isEmptyObject(data)){localStorage.removeItem('branch_id');localStorage.setItem('latitude',DELIVERY_PROPS.DELIVERY_LATITUDE);localStorage.setItem('longitude',DELIVERY_PROPS.DELIVERY_LONGITUDE);localStorage.setItem('branch_id',data.branch_id);localStorage.setItem('branch_name',data.branch_name);localStorage.setItem('city_name',data.city_name);DELIVERY_PROPS.BRANCH_ID=localStorage.getItem("branch_id");localStorage.setItem('Search_InputVAL',nameSearch);if(brand_id==UbqBrandId)window.location.href='/delivery';else window.location.href='/dumsafar-delivery';}else $('.search_error_message').show();}});}else alert('Please Choose location');};$(document).on("click",".content .description .desc-show-more",(e)=>{var desc=$('.favorites .favorite-row-wrapper .list-card .content');desc.each(function(){var ln=$(this).find('.description p').text().length;if(ln<='80')$(".content .description").removeClass("hide-more");else e.target.parentElement.className+=" hide-more";});});setTimeout(function(){var desc=$('.favorites .favorite-row-wrapper .list-card .content, .products-row .deliver-card .content');desc.each(function(){var ln=$(this).find('.description p').text().length;var lnMore=$(this).find('.description .desc-show-more');if(ln<='80')$(lnMore).css('display','none');});function checkSlickDiv(containerId){var container=$('#'+containerId);if(container.children().length===0)$('.delivery-card__carousel').css('display','none');else $('.delivery-card__carousel').css('display','block');}checkSlickDiv('delivery-promotion');},3000);$(document).on("click",".delivery .menu-modal-container .model-menu-items li a",(e)=>{$(".delivery .menu-modal-container li").removeClass("active");e.target.parentElement.className+="active";var target=e.target.attributes.href.value;$("html, body").animate({scrollTop:$(target).offset().top-100},1000);$('#menumodalContainer').fadeOut();});$(document).on("click","#openModalBtn",()=>{$('#menumodalContainer').fadeIn();});$(document).on("click","#menumodalContainer",(event)=>{if(event.target===this)$('#menumodalContainer').fadeOut();});$(document).on("click",".close-btn",()=>{$('#menumodalContainer').fadeOut();});var queryParams=getQueryParams();if(!Cookies.get(cookieName)&&cookieName&&cookieExpiry&&cookieExpiredDay&&queryParams.fbclid||queryParams.utm_fbclid||queryParams.utm_campaign||queryParams.utm_content||queryParams.utm_medium||queryParams.utm_source){Cookies.set(cookieName,JSON.stringify(queryParams));Cookies.set(cookieExpiry,JSON.stringify(queryParams),{expires:cookieExpiredDay,path:'/'});}function getQueryParams(){var queryParams={};var queryString=window.location.search.substring(1);var vars=queryString.split("&");for(var i=0;i<vars.length;i++){var pair=vars[i].split("=");queryParams[pair[0]]=decodeURIComponent(pair[1]);}return queryParams;}})(jQuery,Drupal,GoogleMaps);;const pushNotificationTokenUrl='/api/v1/push-notification-tokens';const pushNotificationsUrl='/api/v1/push-notifications';const pushNotificationsCountUrl=`${pushNotificationsUrl}/count`;const DELETE_TOKEN='DELETE_TOKEN';const CREATE_TOKEN='CREATE_TOKEN';const NOTIFICATION_COUNT='NOTIFICATION_COUNT';const POPULATE_NOTIFICATIONS='POPULATE_NOTIFICATIONS';const DELETE_NOTIFICATION='DELETE_NOTIFICATION';(function($){window.onload=()=>{$(()=>{const isUserIdDefined=setInterval(()=>{if(userId!=='undefined'){clearInterval(isUserIdDefined);fcm();}},100);});};function fcm(){var firebaseConfig={apiKey:"AIzaSyADLdDX3OEdmklM9KktYtyjZ__awKGHx24",authDomain:"barbeque-nation-d7c0e.firebaseapp.com",databaseURL:"https://barbeque-nation-d7c0e.firebaseio.com",projectId:"barbeque-nation-d7c0e",storageBucket:"barbeque-nation-d7c0e.appspot.com",messagingSenderId:"155650652337",appId:"1:155650652337:web:bd7e6d165a91ef93078a90"};function setTokenSentToServer(status){localStorage.setItem('tokenSentToServer',status);}function isTokenSentToServer(){if(localStorage.getItem('tokenIsAnonymous')&&!isAnonymous()){localStorage.removeItem('tokenIsAnonymous');return false;}else return JSON.parse(window.localStorage.getItem('tokenSentToServer'));}function saveTokenInLocal(token){localStorage.setItem('fcmToken',token);}function deleteLocalToken(){localStorage.removeItem('fcmToken');}function getLocalToken(){return localStorage.getItem('fcmToken');}function sendTokenToServer(currentToken){if(!isTokenSentToServer())if(currentToken)notificationHttpRequest(pushNotificationTokenUrl,'POST',new PushNotificationToken(currentToken),CREATE_TOKEN);}function deleteCurrentToken(){const token=getLocalToken();if(token)notificationHttpRequest(pushNotificationTokenUrl,'DELETE',new PushNotificationToken(token),DELETE_TOKEN);}$(document).on('click','.logout',(e)=>{localStorage.setItem('tokenIsAnonymous',true);deleteCurrentToken();Moengage.destroy_session();});$('.notifications').click(function(e){e.preventDefault();notificationHttpRequest(pushNotificationsUrl,'GET',undefined,POPULATE_NOTIFICATIONS);$('.notifications-snackbar').addClass('notifications-snackbar-active');$('.notifications-snackbar').fadeToggle();});function populateNotifications(notifications){const count=notifications.length;let notificationHtml='';if(count>0){notifications.forEach((notification)=>{notificationHtml+=getNotificationHtml(notification);});$('#notifications-count').text(count);$('#notification-content').html(notificationHtml);}}function getNotificationHtml(notification){const img=notification.image?notification.image:notification.icon;return `<a href="${getNotificationUrl(notification.notification_event,notification.entity_id)}" id="${notification.id}" class="row align-center notification-item">
                <div class="notifications-image"><img src="${img}" alt="image"/></div>
                <div class="notifications-content">
                  <div class="notifications-title">${notification.title}</div>
                  <div class="notifications-text">${notification.body}</div>
                </div>
              </a>`;}$(document).on('click','.notification-item',(e)=>{e.preventDefault();const anchor=$(e.target).closest('a');const id=parseInt(anchor.attr('id'),10);const url=anchor.attr('href');notificationHttpRequest(`${pushNotificationsUrl}/${id}`,'DELETE',undefined,DELETE_NOTIFICATION,url);});function getNotificationUrl(type,entityId){if(type==='voucher')return `/product/${entityId}`;else if(type==='booking')return '/profile#reservations';else if(type==='loyalty')return '/profile#smiles';else return `/node/${entityId}`;}$('.notifications-close').click(function(e){e.preventDefault();$('.notifications-snackbar').removeClass('notifications-snackbar-active');$('.notifications-snackbar').fadeOut();});if(!firebase.apps.length){firebase.initializeApp(firebaseConfig);const messaging=firebase.messaging();messaging.requestPermission().then(function(){messaging.getToken().then(function(token){sendTokenToServer(token);});}).catch(function(err){});messaging.onMessage(function(payload){if(payload.notification){const title=payload.notification.title;const options={body:payload.notification.body,icon:payload.notification.icon};if(!("Notification"in window)){}else{if(Notification.permission==="granted"){var notification=new Notification(title,options);notification.onclick=function(e){e.preventDefault();window.open(payload.fcmOptions.link);notification.close();};}}}});messaging.onTokenRefresh(function(){messaging.getToken().then(function(newToken){if(getLocalToken()!==newToken){deleteCurrentToken();sendTokenToServer(newToken);}});});}function loaderStop(){$('.fakeLoader').removeClass('display-block');$('.fakeLoader').addClass('hide');}function loaderStart(){$('.fakeLoader').removeClass('hide');$('.fakeLoader').addClass('display-block');}function notificationHttpRequest(url,method='GET',data,type,options){$.ajax({dataType:'json',url,async:!(type===DELETE_TOKEN||CREATE_TOKEN),headers:getHeaders(),beforeSend:function(){loaderStart();},complete:function(){loaderStop();},method,data:data?JSON.stringify(data):undefined,success(successData){if(type===DELETE_TOKEN){setTokenSentToServer(false);deleteLocalToken();}if(type===CREATE_TOKEN){setTokenSentToServer(true);saveTokenInLocal(data.token);}if(type===POPULATE_NOTIFICATIONS)populateNotifications(successData);if(type===DELETE_NOTIFICATION)window.location.href=options;}});}}})(jQuery);class PushNotificationToken{constructor(token){this.token=token;this.device_type='WEB';}};!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t();}(this,function(){"use strict";var e,i;function c(){return e.apply(null,arguments);}function o(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e);}function u(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e);}function l(e){return void 0===e;}function h(e){return "number"==typeof e||"[object Number]"===Object.prototype.toString.call(e);}function d(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e);}function f(e,t){var n,s=[];for(n=0;n<e.length;++n)s.push(t(e[n],n));return s;}function m(e,t){return Object.prototype.hasOwnProperty.call(e,t);}function _(e,t){for(var n in t)m(t,n)&&(e[n]=t[n]);return m(t,"toString")&&(e.toString=t.toString),m(t,"valueOf")&&(e.valueOf=t.valueOf),e;}function y(e,t,n,s){return Tt(e,t,n,s,!0).utc();}function g(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf;}function v(e){if(null==e._isValid){var t=g(e),n=i.call(t.parsedDateParts,function(e){return null!=e;}),s=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(s=s&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return s;e._isValid=s;}return e._isValid;}function p(e){var t=y(NaN);return null!=e?_(g(t),e):g(t).userInvalidated=!0,t;}i=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,s=0;s<n;s++)if(s in t&&e.call(this,t[s],s,t))return!0;return!1;};var r=c.momentProperties=[];function w(e,t){var n,s,i;if(l(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),l(t._i)||(e._i=t._i),l(t._f)||(e._f=t._f),l(t._l)||(e._l=t._l),l(t._strict)||(e._strict=t._strict),l(t._tzm)||(e._tzm=t._tzm),l(t._isUTC)||(e._isUTC=t._isUTC),l(t._offset)||(e._offset=t._offset),l(t._pf)||(e._pf=g(t)),l(t._locale)||(e._locale=t._locale),0<r.length)for(n=0;n<r.length;n++)l(i=t[s=r[n]])||(e[s]=i);return e;}var t=!1;function M(e){w(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===t&&(t=!0,c.updateOffset(this),t=!1);}function k(e){return e instanceof M||null!=e&&null!=e._isAMomentObject;}function S(e){return e<0?Math.ceil(e)||0:Math.floor(e);}function D(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=S(t)),n;}function a(e,t,n){var s,i=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),a=0;for(s=0;s<i;s++)(n&&e[s]!==t[s]||!n&&D(e[s])!==D(t[s]))&&a++;return a+r;}function Y(e){!1===c.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e);}function n(i,r){var a=!0;return _(function(){if(null!=c.deprecationHandler&&c.deprecationHandler(null,i),a){for(var e,t=[],n=0;n<arguments.length;n++){if(e="","object"==typeof arguments[n]){for(var s in e+="\n["+n+"] ",arguments[0])e+=s+": "+arguments[0][s]+", ";e=e.slice(0,-2);}else e=arguments[n];t.push(e);}Y(i+"\nArguments: "+Array.prototype.slice.call(t).join("")+"\n"+(new Error()).stack),a=!1;}return r.apply(this,arguments);},r);}var s,O={};function T(e,t){null!=c.deprecationHandler&&c.deprecationHandler(e,t),O[e]||(Y(t),O[e]=!0);}function b(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e);}function x(e,t){var n,s=_({},e);for(n in t)m(t,n)&&(u(e[n])&&u(t[n])?(s[n]={},_(s[n],e[n]),_(s[n],t[n])):null!=t[n]?s[n]=t[n]:delete s[n]);for(n in e)m(e,n)&&!m(t,n)&&u(e[n])&&(s[n]=_({},s[n]));return s;}function P(e){null!=e&&this.set(e);}c.suppressDeprecationWarnings=!1,c.deprecationHandler=null,s=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)m(e,t)&&n.push(t);return n;};var W={};function C(e,t){var n=e.toLowerCase();W[n]=W[n+"s"]=W[t]=e;}function H(e){return "string"==typeof e?W[e]||W[e.toLowerCase()]:void 0;}function R(e){var t,n,s={};for(n in e)m(e,n)&&(t=H(n))&&(s[t]=e[n]);return s;}var U={};function F(e,t){U[e]=t;}function L(e,t,n){var s=""+Math.abs(e),i=t-s.length;return(0<=e?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+s;}var N=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,G=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,V={},E={};function I(e,t,n,s){var i=s;"string"==typeof s&&(i=function(){return this[s]();}),e&&(E[e]=i),t&&(E[t[0]]=function(){return L(i.apply(this,arguments),t[1],t[2]);}),n&&(E[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e);});}function A(e,t){return e.isValid()?(t=j(t,e.localeData()),V[t]=V[t]||function(s){var e,i,t,r=s.match(N);for(e=0,i=r.length;e<i;e++)E[r[e]]?r[e]=E[r[e]]:r[e]=(t=r[e]).match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"");return function(e){var t,n="";for(t=0;t<i;t++)n+=b(r[t])?r[t].call(e,s):r[t];return n;};}(t),V[t](e)):e.localeData().invalidDate();}function j(e,t){var n=5;function s(e){return t.longDateFormat(e)||e;}for(G.lastIndex=0;0<=n&&G.test(e);)e=e.replace(G,s),G.lastIndex=0,n-=1;return e;}var Z=/\d/,z=/\d\d/,$=/\d{3}/,q=/\d{4}/,J=/[+-]?\d{6}/,B=/\d\d?/,Q=/\d\d\d\d?/,X=/\d\d\d\d\d\d?/,K=/\d{1,3}/,ee=/\d{1,4}/,te=/[+-]?\d{1,6}/,ne=/\d+/,se=/[+-]?\d+/,ie=/Z|[+-]\d\d:?\d\d/gi,re=/Z|[+-]\d\d(?::?\d\d)?/gi,ae=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,oe={};function ue(e,n,s){oe[e]=b(n)?n:function(e,t){return e&&s?s:n;};}function le(e,t){return m(oe,e)?oe[e](t._strict,t._locale):new RegExp(he(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,s,i){return t||n||s||i;})));}function he(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");}var de={};function ce(e,n){var t,s=n;for("string"==typeof e&&(e=[e]),h(n)&&(s=function(e,t){t[n]=D(e);}),t=0;t<e.length;t++)de[e[t]]=s;}function fe(e,i){ce(e,function(e,t,n,s){n._w=n._w||{},i(e,n._w,n,s);});}var me=0,_e=1,ye=2,ge=3,ve=4,pe=5,we=6,Me=7,ke=8;function Se(e){return De(e)?366:365;}function De(e){return e%4==0&&e%100!=0||e%400==0;}I("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e;}),I(0,["YY",2],0,function(){return this.year()%100;}),I(0,["YYYY",4],0,"year"),I(0,["YYYYY",5],0,"year"),I(0,["YYYYYY",6,!0],0,"year"),C("year","y"),F("year",1),ue("Y",se),ue("YY",B,z),ue("YYYY",ee,q),ue("YYYYY",te,J),ue("YYYYYY",te,J),ce(["YYYYY","YYYYYY"],me),ce("YYYY",function(e,t){t[me]=2===e.length?c.parseTwoDigitYear(e):D(e);}),ce("YY",function(e,t){t[me]=c.parseTwoDigitYear(e);}),ce("Y",function(e,t){t[me]=parseInt(e,10);}),c.parseTwoDigitYear=function(e){return D(e)+(68<D(e)?1900:2e3);};var Ye,Oe=Te("FullYear",!0);function Te(t,n){return function(e){return null!=e?(xe(this,t,e),c.updateOffset(this,n),this):be(this,t);};}function be(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN;}function xe(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&De(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Pe(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n));}function Pe(e,t){if(isNaN(e)||isNaN(t))return NaN;var n,s=(t%(n=12)+n)%n;return e+=(t-s)/12,1===s?De(e)?29:28:31-s%7%2;}Ye=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1;},I("M",["MM",2],"Mo",function(){return this.month()+1;}),I("MMM",0,0,function(e){return this.localeData().monthsShort(this,e);}),I("MMMM",0,0,function(e){return this.localeData().months(this,e);}),C("month","M"),F("month",8),ue("M",B),ue("MM",B,z),ue("MMM",function(e,t){return t.monthsShortRegex(e);}),ue("MMMM",function(e,t){return t.monthsRegex(e);}),ce(["M","MM"],function(e,t){t[_e]=D(e)-1;}),ce(["MMM","MMMM"],function(e,t,n,s){var i=n._locale.monthsParse(e,s,n._strict);null!=i?t[_e]=i:g(n).invalidMonth=e;});var We=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ce="January_February_March_April_May_June_July_August_September_October_November_December".split("_");var He="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Re(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=D(t);else{if(!h(t=e.localeData().monthsParse(t)))return e;}return n=Math.min(e.date(),Pe(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e;}function Ue(e){return null!=e?(Re(this,e),c.updateOffset(this,!0),this):be(this,"Month");}var Fe=ae;var Le=ae;function Ne(){function e(e,t){return t.length-e.length;}var t,n,s=[],i=[],r=[];for(t=0;t<12;t++)n=y([2e3,t]),s.push(this.monthsShort(n,"")),i.push(this.months(n,"")),r.push(this.months(n,"")),r.push(this.monthsShort(n,""));for(s.sort(e),i.sort(e),r.sort(e),t=0;t<12;t++)s[t]=he(s[t]),i[t]=he(i[t]);for(t=0;t<24;t++)r[t]=he(r[t]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+s.join("|")+")","i");}function Ge(e){var t;if(e<100&&0<=e){var n=Array.prototype.slice.call(arguments);n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e);}else t=new Date(Date.UTC.apply(null,arguments));return t;}function Ve(e,t,n){var s=7+t-n;return-((7+Ge(e,0,s).getUTCDay()-t)%7)+s-1;}function Ee(e,t,n,s,i){var r,a,o=1+7*(t-1)+(7+n-s)%7+Ve(e,s,i);return a=o<=0?Se(r=e-1)+o:o>Se(e)?(r=e+1,o-Se(e)):(r=e,o),{year:r,dayOfYear:a};}function Ie(e,t,n){var s,i,r=Ve(e.year(),t,n),a=Math.floor((e.dayOfYear()-r-1)/7)+1;return a<1?s=a+Ae(i=e.year()-1,t,n):a>Ae(e.year(),t,n)?(s=a-Ae(e.year(),t,n),i=e.year()+1):(i=e.year(),s=a),{week:s,year:i};}function Ae(e,t,n){var s=Ve(e,t,n),i=Ve(e+1,t,n);return(Se(e)-s+i)/7;}I("w",["ww",2],"wo","week"),I("W",["WW",2],"Wo","isoWeek"),C("week","w"),C("isoWeek","W"),F("week",5),F("isoWeek",5),ue("w",B),ue("ww",B,z),ue("W",B),ue("WW",B,z),fe(["w","ww","W","WW"],function(e,t,n,s){t[s.substr(0,1)]=D(e);});function je(e,t){return e.slice(t,7).concat(e.slice(0,t));}I("d",0,"do","day"),I("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e);}),I("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e);}),I("dddd",0,0,function(e){return this.localeData().weekdays(this,e);}),I("e",0,0,"weekday"),I("E",0,0,"isoWeekday"),C("day","d"),C("weekday","e"),C("isoWeekday","E"),F("day",11),F("weekday",11),F("isoWeekday",11),ue("d",B),ue("e",B),ue("E",B),ue("dd",function(e,t){return t.weekdaysMinRegex(e);}),ue("ddd",function(e,t){return t.weekdaysShortRegex(e);}),ue("dddd",function(e,t){return t.weekdaysRegex(e);}),fe(["dd","ddd","dddd"],function(e,t,n,s){var i=n._locale.weekdaysParse(e,s,n._strict);null!=i?t.d=i:g(n).invalidWeekday=e;}),fe(["d","e","E"],function(e,t,n,s){t[s]=D(e);});var Ze="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");var ze="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");var $e="Su_Mo_Tu_We_Th_Fr_Sa".split("_");var qe=ae;var Je=ae;var Be=ae;function Qe(){function e(e,t){return t.length-e.length;}var t,n,s,i,r,a=[],o=[],u=[],l=[];for(t=0;t<7;t++)n=y([2e3,1]).day(t),s=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),r=this.weekdays(n,""),a.push(s),o.push(i),u.push(r),l.push(s),l.push(i),l.push(r);for(a.sort(e),o.sort(e),u.sort(e),l.sort(e),t=0;t<7;t++)o[t]=he(o[t]),u[t]=he(u[t]),l[t]=he(l[t]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i");}function Xe(){return this.hours()%12||12;}function Ke(e,t){I(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t);});}function et(e,t){return t._meridiemParse;}I("H",["HH",2],0,"hour"),I("h",["hh",2],0,Xe),I("k",["kk",2],0,function(){return this.hours()||24;}),I("hmm",0,0,function(){return ""+Xe.apply(this)+L(this.minutes(),2);}),I("hmmss",0,0,function(){return ""+Xe.apply(this)+L(this.minutes(),2)+L(this.seconds(),2);}),I("Hmm",0,0,function(){return ""+this.hours()+L(this.minutes(),2);}),I("Hmmss",0,0,function(){return ""+this.hours()+L(this.minutes(),2)+L(this.seconds(),2);}),Ke("a",!0),Ke("A",!1),C("hour","h"),F("hour",13),ue("a",et),ue("A",et),ue("H",B),ue("h",B),ue("k",B),ue("HH",B,z),ue("hh",B,z),ue("kk",B,z),ue("hmm",Q),ue("hmmss",X),ue("Hmm",Q),ue("Hmmss",X),ce(["H","HH"],ge),ce(["k","kk"],function(e,t,n){var s=D(e);t[ge]=24===s?0:s;}),ce(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e;}),ce(["h","hh"],function(e,t,n){t[ge]=D(e),g(n).bigHour=!0;}),ce("hmm",function(e,t,n){var s=e.length-2;t[ge]=D(e.substr(0,s)),t[ve]=D(e.substr(s)),g(n).bigHour=!0;}),ce("hmmss",function(e,t,n){var s=e.length-4,i=e.length-2;t[ge]=D(e.substr(0,s)),t[ve]=D(e.substr(s,2)),t[pe]=D(e.substr(i)),g(n).bigHour=!0;}),ce("Hmm",function(e,t,n){var s=e.length-2;t[ge]=D(e.substr(0,s)),t[ve]=D(e.substr(s));}),ce("Hmmss",function(e,t,n){var s=e.length-4,i=e.length-2;t[ge]=D(e.substr(0,s)),t[ve]=D(e.substr(s,2)),t[pe]=D(e.substr(i));});var tt,nt=Te("Hours",!0),st={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Ce,monthsShort:He,week:{dow:0,doy:6},weekdays:Ze,weekdaysMin:$e,weekdaysShort:ze,meridiemParse:/[ap]\.?m?\.?/i},it={},rt={};function at(e){return e?e.toLowerCase().replace("_","-"):e;}function ot(e){var t=null;if(!it[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=tt._abbr,require("./locale/"+e),ut(t);}catch(e){}return it[e];}function ut(e,t){var n;return e&&((n=l(t)?ht(e):lt(e,t))?tt=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),tt._abbr;}function lt(e,t){if(null===t)return delete it[e],null;var n,s=st;if(t.abbr=e,null!=it[e])T("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),s=it[e]._config;else{if(null!=t.parentLocale)if(null!=it[t.parentLocale])s=it[t.parentLocale]._config;else{if(null==(n=ot(t.parentLocale)))return rt[t.parentLocale]||(rt[t.parentLocale]=[]),rt[t.parentLocale].push({name:e,config:t}),null;s=n._config;}}return it[e]=new P(x(s,t)),rt[e]&&rt[e].forEach(function(e){lt(e.name,e.config);}),ut(e),it[e];}function ht(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return tt;if(!o(e)){if(t=ot(e))return t;e=[e];}return function(e){for(var t,n,s,i,r=0;r<e.length;){for(t=(i=at(e[r]).split("-")).length,n=(n=at(e[r+1]))?n.split("-"):null;0<t;){if(s=ot(i.slice(0,t).join("-")))return s;if(n&&n.length>=t&&a(i,n,!0)>=t-1)break;t--;}r++;}return tt;}(e);}function dt(e){var t,n=e._a;return n&&-2===g(e).overflow&&(t=n[_e]<0||11<n[_e]?_e:n[ye]<1||n[ye]>Pe(n[me],n[_e])?ye:n[ge]<0||24<n[ge]||24===n[ge]&&(0!==n[ve]||0!==n[pe]||0!==n[we])?ge:n[ve]<0||59<n[ve]?ve:n[pe]<0||59<n[pe]?pe:n[we]<0||999<n[we]?we:-1,g(e)._overflowDayOfYear&&(t<me||ye<t)&&(t=ye),g(e)._overflowWeeks&&-1===t&&(t=Me),g(e)._overflowWeekday&&-1===t&&(t=ke),g(e).overflow=t),e;}function ct(e,t,n){return null!=e?e:null!=t?t:n;}function ft(e){var t,n,s,i,r,a=[];if(!e._d){var o,u;for(o=e,u=new Date(c.now()),s=o._useUTC?[u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()]:[u.getFullYear(),u.getMonth(),u.getDate()],e._w&&null==e._a[ye]&&null==e._a[_e]&&function(e){var t,n,s,i,r,a,o,u;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)r=1,a=4,n=ct(t.GG,e._a[me],Ie(bt(),1,4).year),s=ct(t.W,1),((i=ct(t.E,1))<1||7<i)&&(u=!0);else{r=e._locale._week.dow,a=e._locale._week.doy;var l=Ie(bt(),r,a);n=ct(t.gg,e._a[me],l.year),s=ct(t.w,l.week),null!=t.d?((i=t.d)<0||6<i)&&(u=!0):null!=t.e?(i=t.e+r,(t.e<0||6<t.e)&&(u=!0)):i=r;}s<1||s>Ae(n,r,a)?g(e)._overflowWeeks=!0:null!=u?g(e)._overflowWeekday=!0:(o=Ee(n,s,i,r,a),e._a[me]=o.year,e._dayOfYear=o.dayOfYear);}(e),null!=e._dayOfYear&&(r=ct(e._a[me],s[me]),(e._dayOfYear>Se(r)||0===e._dayOfYear)&&(g(e)._overflowDayOfYear=!0),n=Ge(r,0,e._dayOfYear),e._a[_e]=n.getUTCMonth(),e._a[ye]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=s[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[ge]&&0===e._a[ve]&&0===e._a[pe]&&0===e._a[we]&&(e._nextDay=!0,e._a[ge]=0),e._d=(e._useUTC?Ge:function(e,t,n,s,i,r,a){var o;return e<100&&0<=e?(o=new Date(e+400,t,n,s,i,r,a),isFinite(o.getFullYear())&&o.setFullYear(e)):o=new Date(e,t,n,s,i,r,a),o;}).apply(null,a),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ge]=24),e._w&&void 0!==e._w.d&&e._w.d!==i&&(g(e).weekdayMismatch=!0);}}var mt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_t=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,yt=/Z|[+-]\d\d(?::?\d\d)?/,gt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],vt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],pt=/^\/?Date\((\-?\d+)/i;function wt(e){var t,n,s,i,r,a,o=e._i,u=mt.exec(o)||_t.exec(o);if(u){for(g(e).iso=!0,t=0,n=gt.length;t<n;t++)if(gt[t][1].exec(u[1])){i=gt[t][0],s=!1!==gt[t][2];break;}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,n=vt.length;t<n;t++)if(vt[t][1].exec(u[3])){r=(u[2]||" ")+vt[t][0];break;}if(null==r)return void(e._isValid=!1);}if(!s&&null!=r)return void(e._isValid=!1);if(u[4]){if(!yt.exec(u[4]))return void(e._isValid=!1);a="Z";}e._f=i+(r||"")+(a||""),Yt(e);}else e._isValid=!1;}var Mt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function kt(e,t,n,s,i,r){var a=[function(e){var t=parseInt(e,10);if(t<=49)return 2e3+t;if(t<=999)return 1900+t;;return t;}(e),He.indexOf(t),parseInt(n,10),parseInt(s,10),parseInt(i,10)];return r&&a.push(parseInt(r,10)),a;}var St={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Dt(e){var t,n,s,i=Mt.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(i){var r=kt(i[4],i[3],i[2],i[5],i[6],i[7]);if(t=i[1],n=r,s=e,t&&ze.indexOf(t)!==new Date(n[0],n[1],n[2]).getDay()&&(g(s).weekdayMismatch=!0,!(s._isValid=!1)))return;e._a=r,e._tzm=function(e,t,n){if(e)return St[e];if(t)return 0;var s=parseInt(n,10),i=s%100;return(s-i)/100*60+i;}(i[8],i[9],i[10]),e._d=Ge.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),g(e).rfc2822=!0;}else e._isValid=!1;}function Yt(e){if(e._f!==c.ISO_8601)if(e._f!==c.RFC_2822){e._a=[],g(e).empty=!0;var t,n,s,i,r,a,o,u,l=""+e._i,h=l.length,d=0;for(s=j(e._f,e._locale).match(N)||[],t=0;t<s.length;t++)i=s[t],(n=(l.match(le(i,e))||[])[0])&&(0<(r=l.substr(0,l.indexOf(n))).length&&g(e).unusedInput.push(r),l=l.slice(l.indexOf(n)+n.length),d+=n.length),E[i]?(n?g(e).empty=!1:g(e).unusedTokens.push(i),a=i,u=e,null!=(o=n)&&m(de,a)&&de[a](o,u._a,u,a)):e._strict&&!n&&g(e).unusedTokens.push(i);g(e).charsLeftOver=h-d,0<l.length&&g(e).unusedInput.push(l),e._a[ge]<=12&&!0===g(e).bigHour&&0<e._a[ge]&&(g(e).bigHour=void 0),g(e).parsedDateParts=e._a.slice(0),g(e).meridiem=e._meridiem,e._a[ge]=function(e,t,n){var s;if(null==n)return t;return null!=e.meridiemHour?e.meridiemHour(t,n):(null!=e.isPM&&((s=e.isPM(n))&&t<12&&(t+=12),s||12!==t||(t=0)),t);}(e._locale,e._a[ge],e._meridiem),ft(e),dt(e);}else Dt(e);else wt(e);}function Ot(e){var t,n,s,i,r=e._i,a=e._f;return e._locale=e._locale||ht(e._l),null===r||void 0===a&&""===r?p({nullInput:!0}):("string"==typeof r&&(e._i=r=e._locale.preparse(r)),k(r)?new M(dt(r)):(d(r)?e._d=r:o(a)?function(e){var t,n,s,i,r;if(0===e._f.length)return g(e).invalidFormat=!0,e._d=new Date(NaN);for(i=0;i<e._f.length;i++)r=0,t=w({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Yt(t),v(t)&&(r+=g(t).charsLeftOver,r+=10*g(t).unusedTokens.length,g(t).score=r,(null==s||r<s)&&(s=r,n=t));_(e,n||t);}(e):a?Yt(e):l(n=(t=e)._i)?t._d=new Date(c.now()):d(n)?t._d=new Date(n.valueOf()):"string"==typeof n?(s=t,null===(i=pt.exec(s._i))?(wt(s),!1===s._isValid&&(delete s._isValid,Dt(s),!1===s._isValid&&(delete s._isValid,c.createFromInputFallback(s)))):s._d=new Date(+i[1])):o(n)?(t._a=f(n.slice(0),function(e){return parseInt(e,10);}),ft(t)):u(n)?function(e){if(!e._d){var t=R(e._i);e._a=f([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10);}),ft(e);}}(t):h(n)?t._d=new Date(n):c.createFromInputFallback(t),v(e)||(e._d=null),e));}function Tt(e,t,n,s,i){var r,a={};return!0!==n&&!1!==n||(s=n,n=void 0),(u(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0;}(e)||o(e)&&0===e.length)&&(e=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=i,a._l=n,a._i=e,a._f=t,a._strict=s,(r=new M(dt(Ot(a))))._nextDay&&(r.add(1,"d"),r._nextDay=void 0),r;}function bt(e,t,n,s){return Tt(e,t,n,s,!1);}c.createFromInputFallback=n("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""));}),c.ISO_8601=function(){},c.RFC_2822=function(){};var xt=n("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=bt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:p();}),Pt=n("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=bt.apply(null,arguments);return this.isValid()&&e.isValid()?this<e?this:e:p();});function Wt(e,t){var n,s;if(1===t.length&&o(t[0])&&(t=t[0]),!t.length)return bt();for(n=t[0],s=1;s<t.length;++s)t[s].isValid()&&!t[s][e](n)||(n=t[s]);return n;}var Ct=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Ht(e){var t=R(e),n=t.year||0,s=t.quarter||0,i=t.month||0,r=t.week||t.isoWeek||0,a=t.day||0,o=t.hour||0,u=t.minute||0,l=t.second||0,h=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===Ye.call(Ct,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,s=0;s<Ct.length;++s)if(e[Ct[s]]){if(n)return!1;parseFloat(e[Ct[s]])!==D(e[Ct[s]])&&(n=!0);}return!0;}(t),this._milliseconds=+h+1e3*l+6e4*u+1e3*o*60*60,this._days=+a+7*r,this._months=+i+3*s+12*n,this._data={},this._locale=ht(),this._bubble();}function Rt(e){return e instanceof Ht;}function Ut(e){return e<0?-1*Math.round(-1*e):Math.round(e);}function Ft(e,n){I(e,0,0,function(){var e=this.utcOffset(),t="+";return e<0&&(e=-e,t="-"),t+L(~~(e/60),2)+n+L(~~e%60,2);});}Ft("Z",":"),Ft("ZZ",""),ue("Z",re),ue("ZZ",re),ce(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Nt(re,e);});var Lt=/([\+\-]|\d\d)/gi;function Nt(e,t){var n=(t||"").match(e);if(null===n)return null;var s=((n[n.length-1]||[])+"").match(Lt)||["-",0,0],i=60*s[1]+D(s[2]);return 0===i?0:"+"===s[0]?i:-i;}function Gt(e,t){var n,s;return t._isUTC?(n=t.clone(),s=(k(e)||d(e)?e.valueOf():bt(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+s),c.updateOffset(n,!1),n):bt(e).local();}function Vt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15);}function Et(){return!!this.isValid()&&(this._isUTC&&0===this._offset);}c.updateOffset=function(){};var It=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,At=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function jt(e,t){var n,s,i,r=e,a=null;return Rt(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:h(e)?(r={},t?r[t]=e:r.milliseconds=e):(a=It.exec(e))?(n="-"===a[1]?-1:1,r={y:0,d:D(a[ye])*n,h:D(a[ge])*n,m:D(a[ve])*n,s:D(a[pe])*n,ms:D(Ut(1e3*a[we]))*n}):(a=At.exec(e))?(n="-"===a[1]?-1:1,r={y:Zt(a[2],n),M:Zt(a[3],n),w:Zt(a[4],n),d:Zt(a[5],n),h:Zt(a[6],n),m:Zt(a[7],n),s:Zt(a[8],n)}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(i=function(e,t){var n;if(!e.isValid()||!t.isValid())return{milliseconds:0,months:0};t=Gt(t,e),e.isBefore(t)?n=zt(e,t):((n=zt(t,e)).milliseconds=-n.milliseconds,n.months=-n.months);return n;}(bt(r.from),bt(r.to)),(r={}).ms=i.milliseconds,r.M=i.months),s=new Ht(r),Rt(e)&&m(e,"_locale")&&(s._locale=e._locale),s;}function Zt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t;}function zt(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n;}function $t(s,i){return function(e,t){var n;return null===t||isNaN(+t)||(T(i,"moment()."+i+"(period, number) is deprecated. Please use moment()."+i+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),n=e,e=t,t=n),qt(this,jt(e="string"==typeof e?+e:e,t),s),this;};}function qt(e,t,n,s){var i=t._milliseconds,r=Ut(t._days),a=Ut(t._months);e.isValid()&&(s=null==s||s,a&&Re(e,be(e,"Month")+a*n),r&&xe(e,"Date",be(e,"Date")+r*n),i&&e._d.setTime(e._d.valueOf()+i*n),s&&c.updateOffset(e,r||a));}jt.fn=Ht.prototype,jt.invalid=function(){return jt(NaN);};var Jt=$t(1,"add"),Bt=$t(-1,"subtract");function Qt(e,t){var n=12*(t.year()-e.year())+(t.month()-e.month()),s=e.clone().add(n,"months");return-(n+(t-s<0?(t-s)/(s-e.clone().add(n-1,"months")):(t-s)/(e.clone().add(n+1,"months")-s)))||0;}function Xt(e){var t;return void 0===e?this._locale._abbr:(null!=(t=ht(e))&&(this._locale=t),this);}c.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",c.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Kt=n("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e);});function en(){return this._locale;}var tn=126227808e5;function nn(e,t){return(e%t+t)%t;}function sn(e,t,n){return e<100&&0<=e?new Date(e+400,t,n)-tn:new Date(e,t,n).valueOf();}function rn(e,t,n){return e<100&&0<=e?Date.UTC(e+400,t,n)-tn:Date.UTC(e,t,n);}function an(e,t){I(0,[e,e.length],0,t);}function on(e,t,n,s,i){var r;return null==e?Ie(this,s,i).year:((r=Ae(e,s,i))<t&&(t=r),function(e,t,n,s,i){var r=Ee(e,t,n,s,i),a=Ge(r.year,0,r.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this;}.call(this,e,t,n,s,i));}I(0,["gg",2],0,function(){return this.weekYear()%100;}),I(0,["GG",2],0,function(){return this.isoWeekYear()%100;}),an("gggg","weekYear"),an("ggggg","weekYear"),an("GGGG","isoWeekYear"),an("GGGGG","isoWeekYear"),C("weekYear","gg"),C("isoWeekYear","GG"),F("weekYear",1),F("isoWeekYear",1),ue("G",se),ue("g",se),ue("GG",B,z),ue("gg",B,z),ue("GGGG",ee,q),ue("gggg",ee,q),ue("GGGGG",te,J),ue("ggggg",te,J),fe(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,s){t[s.substr(0,2)]=D(e);}),fe(["gg","GG"],function(e,t,n,s){t[s]=c.parseTwoDigitYear(e);}),I("Q",0,"Qo","quarter"),C("quarter","Q"),F("quarter",7),ue("Q",Z),ce("Q",function(e,t){t[_e]=3*(D(e)-1);}),I("D",["DD",2],"Do","date"),C("date","D"),F("date",9),ue("D",B),ue("DD",B,z),ue("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient;}),ce(["D","DD"],ye),ce("Do",function(e,t){t[ye]=D(e.match(B)[0]);});var un=Te("Date",!0);I("DDD",["DDDD",3],"DDDo","dayOfYear"),C("dayOfYear","DDD"),F("dayOfYear",4),ue("DDD",K),ue("DDDD",$),ce(["DDD","DDDD"],function(e,t,n){n._dayOfYear=D(e);}),I("m",["mm",2],0,"minute"),C("minute","m"),F("minute",14),ue("m",B),ue("mm",B,z),ce(["m","mm"],ve);var ln=Te("Minutes",!1);I("s",["ss",2],0,"second"),C("second","s"),F("second",15),ue("s",B),ue("ss",B,z),ce(["s","ss"],pe);var hn,dn=Te("Seconds",!1);for(I("S",0,0,function(){return~~(this.millisecond()/100);}),I(0,["SS",2],0,function(){return~~(this.millisecond()/10);}),I(0,["SSS",3],0,"millisecond"),I(0,["SSSS",4],0,function(){return 10*this.millisecond();}),I(0,["SSSSS",5],0,function(){return 100*this.millisecond();}),I(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond();}),I(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond();}),I(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond();}),I(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond();}),C("millisecond","ms"),F("millisecond",16),ue("S",K,Z),ue("SS",K,z),ue("SSS",K,$),hn="SSSS";hn.length<=9;hn+="S")ue(hn,ne);function cn(e,t){t[we]=D(1e3*("0."+e));}for(hn="S";hn.length<=9;hn+="S")ce(hn,cn);var fn=Te("Milliseconds",!1);I("z",0,0,"zoneAbbr"),I("zz",0,0,"zoneName");var mn=M.prototype;function _n(e){return e;}mn.add=Jt,mn.calendar=function(e,t){var n=e||bt(),s=Gt(n,this).startOf("day"),i=c.calendarFormat(this,s)||"sameElse",r=t&&(b(t[i])?t[i].call(this,n):t[i]);return this.format(r||this.localeData().calendar(i,this,bt(n)));},mn.clone=function(){return new M(this);},mn.diff=function(e,t,n){var s,i,r;if(!this.isValid())return NaN;if(!(s=Gt(e,this)).isValid())return NaN;switch(i=6e4*(s.utcOffset()-this.utcOffset()),t=H(t)){case "year":r=Qt(this,s)/12;break;case "month":r=Qt(this,s);break;case "quarter":r=Qt(this,s)/3;break;case "second":r=(this-s)/1e3;break;case "minute":r=(this-s)/6e4;break;case "hour":r=(this-s)/36e5;break;case "day":r=(this-s-i)/864e5;break;case "week":r=(this-s-i)/6048e5;break;default:r=this-s;}return n?r:S(r);},mn.endOf=function(e){var t;if(void 0===(e=H(e))||"millisecond"===e||!this.isValid())return this;var n=this._isUTC?rn:sn;switch(e){case "year":t=n(this.year()+1,0,1)-1;break;case "quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case "month":t=n(this.year(),this.month()+1,1)-1;break;case "week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case "isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case "day":case "date":t=n(this.year(),this.month(),this.date()+1)-1;break;case "hour":t=this._d.valueOf(),t+=36e5-nn(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case "minute":t=this._d.valueOf(),t+=6e4-nn(t,6e4)-1;break;case "second":t=this._d.valueOf(),t+=1e3-nn(t,1e3)-1;break;}return this._d.setTime(t),c.updateOffset(this,!0),this;},mn.format=function(e){e||(e=this.isUtc()?c.defaultFormatUtc:c.defaultFormat);var t=A(this,e);return this.localeData().postformat(t);},mn.from=function(e,t){return this.isValid()&&(k(e)&&e.isValid()||bt(e).isValid())?jt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate();},mn.fromNow=function(e){return this.from(bt(),e);},mn.to=function(e,t){return this.isValid()&&(k(e)&&e.isValid()||bt(e).isValid())?jt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate();},mn.toNow=function(e){return this.to(bt(),e);},mn.get=function(e){return b(this[e=H(e)])?this[e]():this;},mn.invalidAt=function(){return g(this).overflow;},mn.isAfter=function(e,t){var n=k(e)?e:bt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=H(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf());},mn.isBefore=function(e,t){var n=k(e)?e:bt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=H(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf());},mn.isBetween=function(e,t,n,s){var i=k(e)?e:bt(e),r=k(t)?t:bt(t);return!!(this.isValid()&&i.isValid()&&r.isValid())&&("("===(s=s||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===s[1]?this.isBefore(r,n):!this.isAfter(r,n));},mn.isSame=function(e,t){var n,s=k(e)?e:bt(e);return!(!this.isValid()||!s.isValid())&&("millisecond"===(t=H(t)||"millisecond")?this.valueOf()===s.valueOf():(n=s.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()));},mn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t);},mn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t);},mn.isValid=function(){return v(this);},mn.lang=Kt,mn.locale=Xt,mn.localeData=en,mn.max=Pt,mn.min=xt,mn.parsingFlags=function(){return _({},g(this));},mn.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t=[];for(var n in e)t.push({unit:n,priority:U[n]});return t.sort(function(e,t){return e.priority-t.priority;}),t;}(e=R(e)),s=0;s<n.length;s++)this[n[s].unit](e[n[s].unit]);else{if(b(this[e=H(e)]))return this[e](t);}return this;},mn.startOf=function(e){var t;if(void 0===(e=H(e))||"millisecond"===e||!this.isValid())return this;var n=this._isUTC?rn:sn;switch(e){case "year":t=n(this.year(),0,1);break;case "quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case "month":t=n(this.year(),this.month(),1);break;case "week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case "isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case "day":case "date":t=n(this.year(),this.month(),this.date());break;case "hour":t=this._d.valueOf(),t-=nn(t+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case "minute":t=this._d.valueOf(),t-=nn(t,6e4);break;case "second":t=this._d.valueOf(),t-=nn(t,1e3);break;}return this._d.setTime(t),c.updateOffset(this,!0),this;},mn.subtract=Bt,mn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()];},mn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()};},mn.toDate=function(){return new Date(this.valueOf());},mn.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||9999<n.year()?A(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):b(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",A(n,"Z")):A(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ");},mn.inspect=function(){if(!this.isValid())return "moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',s=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=t+'[")]';return this.format(n+s+"-MM-DD[T]HH:mm:ss.SSS"+i);},mn.toJSON=function(){return this.isValid()?this.toISOString():null;},mn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ");},mn.unix=function(){return Math.floor(this.valueOf()/1e3);},mn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0);},mn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict};},mn.year=Oe,mn.isLeapYear=function(){return De(this.year());},mn.weekYear=function(e){return on.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy);},mn.isoWeekYear=function(e){return on.call(this,e,this.isoWeek(),this.isoWeekday(),1,4);},mn.quarter=mn.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3);},mn.month=Ue,mn.daysInMonth=function(){return Pe(this.year(),this.month());},mn.week=mn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d");},mn.isoWeek=mn.isoWeeks=function(e){var t=Ie(this,1,4).week;return null==e?t:this.add(7*(e-t),"d");},mn.weeksInYear=function(){var e=this.localeData()._week;return Ae(this.year(),e.dow,e.doy);},mn.isoWeeksInYear=function(){return Ae(this.year(),1,4);},mn.date=un,mn.day=mn.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t,n,s=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(t=e,n=this.localeData(),e="string"!=typeof t?t:isNaN(t)?"number"==typeof(t=n.weekdaysParse(t))?t:null:parseInt(t,10),this.add(e-s,"d")):s;},mn.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d");},mn.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null==e)return this.day()||7;var t,n,s=(t=e,n=this.localeData(),"string"==typeof t?n.weekdaysParse(t)%7||7:isNaN(t)?null:t);return this.day(this.day()%7?s:s-7);},mn.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d");},mn.hour=mn.hours=nt,mn.minute=mn.minutes=ln,mn.second=mn.seconds=dn,mn.millisecond=mn.milliseconds=fn,mn.utcOffset=function(e,t,n){var s,i=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null==e)return this._isUTC?i:Vt(this);if("string"==typeof e){if(null===(e=Nt(re,e)))return this;}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(s=Vt(this)),this._offset=e,this._isUTC=!0,null!=s&&this.add(s,"m"),i!==e&&(!t||this._changeInProgress?qt(this,jt(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,c.updateOffset(this,!0),this._changeInProgress=null)),this;},mn.utc=function(e){return this.utcOffset(0,e);},mn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Vt(this),"m")),this;},mn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else{if("string"==typeof this._i){var e=Nt(ie,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0);}}return this;},mn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?bt(e).utcOffset():0,(this.utcOffset()-e)%60==0);},mn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset();},mn.isLocal=function(){return!!this.isValid()&&!this._isUTC;},mn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC;},mn.isUtc=Et,mn.isUTC=Et,mn.zoneAbbr=function(){return this._isUTC?"UTC":"";},mn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":"";},mn.dates=n("dates accessor is deprecated. Use date instead.",un),mn.months=n("months accessor is deprecated. Use month instead",Ue),mn.years=n("years accessor is deprecated. Use year instead",Oe),mn.zone=n("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset();}),mn.isDSTShifted=n("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!l(this._isDSTShifted))return this._isDSTShifted;var e={};if(w(e,this),(e=Ot(e))._a){var t=e._isUTC?y(e._a):bt(e._a);this._isDSTShifted=this.isValid()&&0<a(e._a,t.toArray());}else this._isDSTShifted=!1;return this._isDSTShifted;});var yn=P.prototype;function gn(e,t,n,s){var i=ht(),r=y().set(s,t);return i[n](r,e);}function vn(e,t,n){if(h(e)&&(t=e,e=void 0),e=e||"",null!=t)return gn(e,t,n,"month");var s,i=[];for(s=0;s<12;s++)i[s]=gn(e,s,n,"month");return i;}function pn(e,t,n,s){t=("boolean"==typeof e?h(t)&&(n=t,t=void 0):(t=e,e=!1,h(n=t)&&(n=t,t=void 0)),t||"");var i,r=ht(),a=e?r._week.dow:0;if(null!=n)return gn(t,(n+a)%7,s,"day");var o=[];for(i=0;i<7;i++)o[i]=gn(t,(i+a)%7,s,"day");return o;}yn.calendar=function(e,t,n){var s=this._calendar[e]||this._calendar.sameElse;return b(s)?s.call(t,n):s;},yn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1);}),this._longDateFormat[e]);},yn.invalidDate=function(){return this._invalidDate;},yn.ordinal=function(e){return this._ordinal.replace("%d",e);},yn.preparse=_n,yn.postformat=_n,yn.relativeTime=function(e,t,n,s){var i=this._relativeTime[n];return b(i)?i(e,t,n,s):i.replace(/%d/i,e);},yn.pastFuture=function(e,t){var n=this._relativeTime[0<e?"future":"past"];return b(n)?n(t):n.replace(/%s/i,t);},yn.set=function(e){var t,n;for(n in e)b(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source);},yn.months=function(e,t){return e?o(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||We).test(t)?"format":"standalone"][e.month()]:o(this._months)?this._months:this._months.standalone;},yn.monthsShort=function(e,t){return e?o(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[We.test(t)?"format":"standalone"][e.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone;},yn.monthsParse=function(e,t,n){var s,i,r;if(this._monthsParseExact)return function(e,t,n){var s,i,r,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)r=y([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(r,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=Ye.call(this._shortMonthsParse,a))?i:null:-1!==(i=Ye.call(this._longMonthsParse,a))?i:null:"MMM"===t?-1!==(i=Ye.call(this._shortMonthsParse,a))?i:-1!==(i=Ye.call(this._longMonthsParse,a))?i:null:-1!==(i=Ye.call(this._longMonthsParse,a))?i:-1!==(i=Ye.call(this._shortMonthsParse,a))?i:null;}.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(i=y([2e3,s]),n&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[s]||(r="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[s]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[s].test(e))return s;if(n&&"MMM"===t&&this._shortMonthsParse[s].test(e))return s;if(!n&&this._monthsParse[s].test(e))return s;}},yn.monthsRegex=function(e){return this._monthsParseExact?(m(this,"_monthsRegex")||Ne.call(this),e?this._monthsStrictRegex:this._monthsRegex):(m(this,"_monthsRegex")||(this._monthsRegex=Le),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex);},yn.monthsShortRegex=function(e){return this._monthsParseExact?(m(this,"_monthsRegex")||Ne.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(m(this,"_monthsShortRegex")||(this._monthsShortRegex=Fe),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex);},yn.week=function(e){return Ie(e,this._week.dow,this._week.doy).week;},yn.firstDayOfYear=function(){return this._week.doy;},yn.firstDayOfWeek=function(){return this._week.dow;},yn.weekdays=function(e,t){var n=o(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?je(n,this._week.dow):e?n[e.day()]:n;},yn.weekdaysMin=function(e){return!0===e?je(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin;},yn.weekdaysShort=function(e){return!0===e?je(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort;},yn.weekdaysParse=function(e,t,n){var s,i,r;if(this._weekdaysParseExact)return function(e,t,n){var s,i,r,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;s<7;++s)r=y([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(r,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=Ye.call(this._weekdaysParse,a))?i:null:"ddd"===t?-1!==(i=Ye.call(this._shortWeekdaysParse,a))?i:null:-1!==(i=Ye.call(this._minWeekdaysParse,a))?i:null:"dddd"===t?-1!==(i=Ye.call(this._weekdaysParse,a))?i:-1!==(i=Ye.call(this._shortWeekdaysParse,a))?i:-1!==(i=Ye.call(this._minWeekdaysParse,a))?i:null:"ddd"===t?-1!==(i=Ye.call(this._shortWeekdaysParse,a))?i:-1!==(i=Ye.call(this._weekdaysParse,a))?i:-1!==(i=Ye.call(this._minWeekdaysParse,a))?i:null:-1!==(i=Ye.call(this._minWeekdaysParse,a))?i:-1!==(i=Ye.call(this._weekdaysParse,a))?i:-1!==(i=Ye.call(this._shortWeekdaysParse,a))?i:null;}.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(i=y([2e3,1]).day(s),n&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[s]||(r="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[s]=new RegExp(r.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[s].test(e))return s;if(n&&"ddd"===t&&this._shortWeekdaysParse[s].test(e))return s;if(n&&"dd"===t&&this._minWeekdaysParse[s].test(e))return s;if(!n&&this._weekdaysParse[s].test(e))return s;}},yn.weekdaysRegex=function(e){return this._weekdaysParseExact?(m(this,"_weekdaysRegex")||Qe.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(m(this,"_weekdaysRegex")||(this._weekdaysRegex=qe),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex);},yn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(m(this,"_weekdaysRegex")||Qe.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(m(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Je),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex);},yn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(m(this,"_weekdaysRegex")||Qe.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(m(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Be),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex);},yn.isPM=function(e){return "p"===(e+"").toLowerCase().charAt(0);},yn.meridiem=function(e,t,n){return 11<e?n?"pm":"PM":n?"am":"AM";},ut("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===D(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th");}}),c.lang=n("moment.lang is deprecated. Use moment.locale instead.",ut),c.langData=n("moment.langData is deprecated. Use moment.localeData instead.",ht);var wn=Math.abs;function Mn(e,t,n,s){var i=jt(t,n);return e._milliseconds+=s*i._milliseconds,e._days+=s*i._days,e._months+=s*i._months,e._bubble();}function kn(e){return e<0?Math.floor(e):Math.ceil(e);}function Sn(e){return 4800*e/146097;}function Dn(e){return 146097*e/4800;}function Yn(e){return function(){return this.as(e);};}var On=Yn("ms"),Tn=Yn("s"),bn=Yn("m"),xn=Yn("h"),Pn=Yn("d"),Wn=Yn("w"),Cn=Yn("M"),Hn=Yn("Q"),Rn=Yn("y");function Un(e){return function(){return this.isValid()?this._data[e]:NaN;};}var Fn=Un("milliseconds"),Ln=Un("seconds"),Nn=Un("minutes"),Gn=Un("hours"),Vn=Un("days"),En=Un("months"),In=Un("years");var An=Math.round,jn={ss:44,s:45,m:45,h:22,d:26,M:11};var Zn=Math.abs;function zn(e){return(0<e)-(e<0)||+e;}function $n(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=Zn(this._milliseconds)/1e3,s=Zn(this._days),i=Zn(this._months);t=S((e=S(n/60))/60),n%=60,e%=60;var r=S(i/12),a=i%=12,o=s,u=t,l=e,h=n?n.toFixed(3).replace(/\.?0+$/,""):"",d=this.asSeconds();if(!d)return "P0D";var c=d<0?"-":"",f=zn(this._months)!==zn(d)?"-":"",m=zn(this._days)!==zn(d)?"-":"",_=zn(this._milliseconds)!==zn(d)?"-":"";return c+"P"+(r?f+r+"Y":"")+(a?f+a+"M":"")+(o?m+o+"D":"")+(u||l||h?"T":"")+(u?_+u+"H":"")+(l?_+l+"M":"")+(h?_+h+"S":"");}var qn=Ht.prototype;return qn.isValid=function(){return this._isValid;},qn.abs=function(){var e=this._data;return this._milliseconds=wn(this._milliseconds),this._days=wn(this._days),this._months=wn(this._months),e.milliseconds=wn(e.milliseconds),e.seconds=wn(e.seconds),e.minutes=wn(e.minutes),e.hours=wn(e.hours),e.months=wn(e.months),e.years=wn(e.years),this;},qn.add=function(e,t){return Mn(this,e,t,1);},qn.subtract=function(e,t){return Mn(this,e,t,-1);},qn.as=function(e){if(!this.isValid())return NaN;var t,n,s=this._milliseconds;if("month"===(e=H(e))||"quarter"===e||"year"===e)switch(t=this._days+s/864e5,n=this._months+Sn(t),e){case "month":return n;case "quarter":return n/3;case "year":return n/12;}else switch(t=this._days+Math.round(Dn(this._months)),e){case "week":return t/7+s/6048e5;case "day":return t+s/864e5;case "hour":return 24*t+s/36e5;case "minute":return 1440*t+s/6e4;case "second":return 86400*t+s/1e3;case "millisecond":return Math.floor(864e5*t)+s;default:throw new Error("Unknown unit "+e);}},qn.asMilliseconds=On,qn.asSeconds=Tn,qn.asMinutes=bn,qn.asHours=xn,qn.asDays=Pn,qn.asWeeks=Wn,qn.asMonths=Cn,qn.asQuarters=Hn,qn.asYears=Rn,qn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*D(this._months/12):NaN;},qn._bubble=function(){var e,t,n,s,i,r=this._milliseconds,a=this._days,o=this._months,u=this._data;return 0<=r&&0<=a&&0<=o||r<=0&&a<=0&&o<=0||(r+=864e5*kn(Dn(o)+a),o=a=0),u.milliseconds=r%1e3,e=S(r/1e3),u.seconds=e%60,t=S(e/60),u.minutes=t%60,n=S(t/60),u.hours=n%24,o+=i=S(Sn(a+=S(n/24))),a-=kn(Dn(i)),s=S(o/12),o%=12,u.days=a,u.months=o,u.years=s,this;},qn.clone=function(){return jt(this);},qn.get=function(e){return e=H(e),this.isValid()?this[e+"s"]():NaN;},qn.milliseconds=Fn,qn.seconds=Ln,qn.minutes=Nn,qn.hours=Gn,qn.days=Vn,qn.weeks=function(){return S(this.days()/7);},qn.months=En,qn.years=In,qn.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t,n,s,i,r,a,o,u,l,h,d,c=this.localeData(),f=(n=!e,s=c,i=jt(t=this).abs(),r=An(i.as("s")),a=An(i.as("m")),o=An(i.as("h")),u=An(i.as("d")),l=An(i.as("M")),h=An(i.as("y")),(d=r<=jn.ss&&["s",r]||r<jn.s&&["ss",r]||a<=1&&["m"]||a<jn.m&&["mm",a]||o<=1&&["h"]||o<jn.h&&["hh",o]||u<=1&&["d"]||u<jn.d&&["dd",u]||l<=1&&["M"]||l<jn.M&&["MM",l]||h<=1&&["y"]||["yy",h])[2]=n,d[3]=0<+t,d[4]=s,function(e,t,n,s,i){return i.relativeTime(t||1,!!n,e,s);}.apply(null,d));return e&&(f=c.pastFuture(+this,f)),c.postformat(f);},qn.toISOString=$n,qn.toString=$n,qn.toJSON=$n,qn.locale=Xt,qn.localeData=en,qn.toIsoString=n("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",$n),qn.lang=Kt,I("X",0,0,"unix"),I("x",0,0,"valueOf"),ue("x",se),ue("X",/[+-]?\d+(\.\d{1,3})?/),ce("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10));}),ce("x",function(e,t,n){n._d=new Date(D(e));}),c.version="2.24.0",e=bt,c.fn=mn,c.min=function(){return Wt("isBefore",[].slice.call(arguments,0));},c.max=function(){return Wt("isAfter",[].slice.call(arguments,0));},c.now=function(){return Date.now?Date.now():+new Date();},c.utc=y,c.unix=function(e){return bt(1e3*e);},c.months=function(e,t){return vn(e,t,"months");},c.isDate=d,c.locale=ut,c.invalid=p,c.duration=jt,c.isMoment=k,c.weekdays=function(e,t,n){return pn(e,t,n,"weekdays");},c.parseZone=function(){return bt.apply(null,arguments).parseZone();},c.localeData=ht,c.isDuration=Rt,c.monthsShort=function(e,t){return vn(e,t,"monthsShort");},c.weekdaysMin=function(e,t,n){return pn(e,t,n,"weekdaysMin");},c.defineLocale=lt,c.updateLocale=function(e,t){if(null!=t){var n,s,i=st;null!=(s=ot(e))&&(i=s._config),(n=new P(t=x(i,t))).parentLocale=it[e],it[e]=n,ut(e);}else null!=it[e]&&(null!=it[e].parentLocale?it[e]=it[e].parentLocale:null!=it[e]&&delete it[e]);return it[e];},c.locales=function(){return s(it);},c.weekdaysShort=function(e,t,n){return pn(e,t,n,"weekdaysShort");},c.normalizeUnits=H,c.relativeTimeRounding=function(e){return void 0===e?An:"function"==typeof e&&(An=e,!0);},c.relativeTimeThreshold=function(e,t){return void 0!==jn[e]&&(void 0===t?jn[e]:(jn[e]=t,"s"===e&&(jn.ss=t-1),!0));},c.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse";},c.prototype=mn,c.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},c;});;!function(a,b){var c=b(a,a.document,Date);a.lazySizes=c,"object"==typeof module&&module.exports&&(module.exports=c);}("undefined"!=typeof window?window:{},function(a,b,c){"use strict";var d,e;if(function(){var b,c={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};e=a.lazySizesConfig||a.lazysizesConfig||{};for(b in c)b in e||(e[b]=c[b]);}(),!b||!b.getElementsByClassName)return{init:function(){},cfg:e,noSupport:!0};var f=b.documentElement,g=a.HTMLPictureElement,h="addEventListener",i="getAttribute",j=a[h].bind(a),k=a.setTimeout,l=a.requestAnimationFrame||k,m=a.requestIdleCallback,n=/^picture$/i,o=["load","error","lazyincluded","_lazyloaded"],p={},q=Array.prototype.forEach,r=function(a,b){return p[b]||(p[b]=new RegExp("(\\s|^)"+b+"(\\s|$)")),p[b].test(a[i]("class")||"")&&p[b];},s=function(a,b){r(a,b)||a.setAttribute("class",(a[i]("class")||"").trim()+" "+b);},t=function(a,b){var c;(c=r(a,b))&&a.setAttribute("class",(a[i]("class")||"").replace(c," "));},u=function(a,b,c){var d=c?h:"removeEventListener";c&&u(a,b),o.forEach(function(c){a[d](c,b);});},v=function(a,c,e,f,g){var h=b.createEvent("Event");return e||(e={}),e.instance=d,h.initEvent(c,!f,!g),h.detail=e,a.dispatchEvent(h),h;},w=function(b,c){var d;!g&&(d=a.picturefill||e.pf)?(c&&c.src&&!b[i]("srcset")&&b.setAttribute("srcset",c.src),d({reevaluate:!0,elements:[b]})):c&&c.src&&(b.src=c.src);},x=function(a,b){return(getComputedStyle(a,null)||{})[b];},y=function(a,b,c){for(c=c||a.offsetWidth;c<e.minSize&&b&&!a._lazysizesWidth;)c=b.offsetWidth,b=b.parentNode;return c;},z=function(){var a,c,d=[],e=[],f=d,g=function(){var b=f;for(f=d.length?e:d,a=!0,c=!1;b.length;)b.shift()();a=!1;},h=function(d,e){a&&!e?d.apply(this,arguments):(f.push(d),c||(c=!0,(b.hidden?k:l)(g)));};return h._lsFlush=g,h;}(),A=function(a,b){return b?function(){z(a);}:function(){var b=this,c=arguments;z(function(){a.apply(b,c);});};},B=function(a){var b,d=0,f=e.throttleDelay,g=e.ricTimeout,h=function(){b=!1,d=c.now(),a();},i=m&&g>49?function(){m(h,{timeout:g}),g!==e.ricTimeout&&(g=e.ricTimeout);}:A(function(){k(h);},!0);return function(a){var e;(a=!0===a)&&(g=33),b||(b=!0,e=f-(c.now()-d),e<0&&(e=0),a||e<9?i():k(i,e));};},C=function(a){var b,d,e=99,f=function(){b=null,a();},g=function(){var a=c.now()-d;a<e?k(g,e-a):(m||f)(f);};return function(){d=c.now(),b||(b=k(g,e));};},D=function(){var g,m,o,p,y,D,F,G,H,I,J,K,L=/^img$/i,M=/^iframe$/i,N="onscroll"in a&&!/(gle|ing)bot/.test(navigator.userAgent),O=0,P=0,Q=0,R=-1,S=function(a){Q--,(!a||Q<0||!a.target)&&(Q=0);},T=function(a){return null==K&&(K="hidden"==x(b.body,"visibility")),K||!("hidden"==x(a.parentNode,"visibility")&&"hidden"==x(a,"visibility"));},U=function(a,c){var d,e=a,g=T(a);for(G-=c,J+=c,H-=c,I+=c;g&&(e=e.offsetParent)&&e!=b.body&&e!=f;)(g=(x(e,"opacity")||1)>0)&&"visible"!=x(e,"overflow")&&(d=e.getBoundingClientRect(),g=I>d.left&&H<d.right&&J>d.top-1&&G<d.bottom+1);return g;},V=function(){var a,c,h,j,k,l,n,o,q,r,s,t,u=d.elements;if((p=e.loadMode)&&Q<8&&(a=u.length)){for(c=0,R++;c<a;c++)if(u[c]&&!u[c]._lazyRace)if(!N||d.prematureUnveil&&d.prematureUnveil(u[c]))ba(u[c]);else if((o=u[c][i]("data-expand"))&&(l=1*o)||(l=P),r||(r=!e.expand||e.expand<1?f.clientHeight>500&&f.clientWidth>500?500:370:e.expand,d._defEx=r,s=r*e.expFactor,t=e.hFac,K=null,P<s&&Q<1&&R>2&&p>2&&!b.hidden?(P=s,R=0):P=p>1&&R>1&&Q<6?r:O),q!==l&&(D=innerWidth+l*t,F=innerHeight+l,n=-1*l,q=l),h=u[c].getBoundingClientRect(),(J=h.bottom)>=n&&(G=h.top)<=F&&(I=h.right)>=n*t&&(H=h.left)<=D&&(J||I||H||G)&&(e.loadHidden||T(u[c]))&&(m&&Q<3&&!o&&(p<3||R<4)||U(u[c],l))){if(ba(u[c]),k=!0,Q>9)break;}else!k&&m&&!j&&Q<4&&R<4&&p>2&&(g[0]||e.preloadAfterLoad)&&(g[0]||!o&&(J||I||H||G||"auto"!=u[c][i](e.sizesAttr)))&&(j=g[0]||u[c]);j&&!k&&ba(j);}},W=B(V),X=function(a){var b=a.target;if(b._lazyCache)return void delete b._lazyCache;S(a),s(b,e.loadedClass),t(b,e.loadingClass),u(b,Z),v(b,"lazyloaded");},Y=A(X),Z=function(a){Y({target:a.target});},$=function(a,b){try{a.contentWindow.location.replace(b);}catch(c){a.src=b;}},_=function(a){var b,c=a[i](e.srcsetAttr);(b=e.customMedia[a[i]("data-media")||a[i]("media")])&&a.setAttribute("media",b),c&&a.setAttribute("srcset",c);},aa=A(function(a,b,c,d,f){var g,h,j,l,m,p;(m=v(a,"lazybeforeunveil",b)).defaultPrevented||(d&&(c?s(a,e.autosizesClass):a.setAttribute("sizes",d)),h=a[i](e.srcsetAttr),g=a[i](e.srcAttr),f&&(j=a.parentNode,l=j&&n.test(j.nodeName||"")),p=b.firesLoad||"src"in a&&(h||g||l),m={target:a},s(a,e.loadingClass),p&&(clearTimeout(o),o=k(S,2500),u(a,Z,!0)),l&&q.call(j.getElementsByTagName("source"),_),h?a.setAttribute("srcset",h):g&&!l&&(M.test(a.nodeName)?$(a,g):a.src=g),f&&(h||l)&&w(a,{src:g})),a._lazyRace&&delete a._lazyRace,t(a,e.lazyClass),z(function(){var b=a.complete&&a.naturalWidth>1;p&&!b||(b&&s(a,"ls-is-cached"),X(m),a._lazyCache=!0,k(function(){"_lazyCache"in a&&delete a._lazyCache;},9)),"lazy"==a.loading&&Q--;},!0);}),ba=function(a){if(!a._lazyRace){var b,c=L.test(a.nodeName),d=c&&(a[i](e.sizesAttr)||a[i]("sizes")),f="auto"==d;(!f&&m||!c||!a[i]("src")&&!a.srcset||a.complete||r(a,e.errorClass)||!r(a,e.lazyClass))&&(b=v(a,"lazyunveilread").detail,f&&E.updateElem(a,!0,a.offsetWidth),a._lazyRace=!0,Q++,aa(a,b,f,d,c));}},ca=C(function(){e.loadMode=3,W();}),da=function(){3==e.loadMode&&(e.loadMode=2),ca();},ea=function(){if(!m){if(c.now()-y<999)return void k(ea,999);m=!0,e.loadMode=3,W(),j("scroll",da,!0);}};return{_:function(){y=c.now(),d.elements=b.getElementsByClassName(e.lazyClass),g=b.getElementsByClassName(e.lazyClass+" "+e.preloadClass),j("scroll",W,!0),j("resize",W,!0),j("pageshow",function(a){if(a.persisted){var c=b.querySelectorAll("."+e.loadingClass);c.length&&c.forEach&&l(function(){c.forEach(function(a){a.complete&&ba(a);});});}}),a.MutationObserver?new MutationObserver(W).observe(f,{childList:!0,subtree:!0,attributes:!0}):(f[h]("DOMNodeInserted",W,!0),f[h]("DOMAttrModified",W,!0),setInterval(W,999)),j("hashchange",W,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach(function(a){b[h](a,W,!0);}),/d$|^c/.test(b.readyState)?ea():(j("load",ea),b[h]("DOMContentLoaded",W),k(ea,2e4)),d.elements.length?(V(),z._lsFlush()):W();},checkElems:W,unveil:ba,_aLSL:da};}(),E=function(){var a,c=A(function(a,b,c,d){var e,f,g;if(a._lazysizesWidth=d,d+="px",a.setAttribute("sizes",d),n.test(b.nodeName||""))for(e=b.getElementsByTagName("source"),f=0,g=e.length;f<g;f++)e[f].setAttribute("sizes",d);c.detail.dataAttr||w(a,c.detail);}),d=function(a,b,d){var e,f=a.parentNode;f&&(d=y(a,f,d),e=v(a,"lazybeforesizes",{width:d,dataAttr:!!b}),e.defaultPrevented||(d=e.detail.width)&&d!==a._lazysizesWidth&&c(a,f,e,d));},f=function(){var b,c=a.length;if(c)for(b=0;b<c;b++)d(a[b]);},g=C(f);return{_:function(){a=b.getElementsByClassName(e.autosizesClass),j("resize",g);},checkElems:g,updateElem:d};}(),F=function(){!F.i&&b.getElementsByClassName&&(F.i=!0,E._(),D._());};return k(function(){e.init&&F();}),d={cfg:e,autoSizer:E,loader:D,init:F,uP:w,aC:s,rC:t,hC:r,fire:v,gW:y,rAF:z};});;const dl=drupalSettings.gtm.settings.data_layer||'dataLayer';window[dl]=window[dl]||[];(function(drupalSettings){const config=drupalSettings.gtm;window[dl].push({'gtm.start':new Date().getTime(),event:'gtm.js'});const gtmSettings=config.settings;if(gtmSettings.include_classes===true)window[dl].push({'gtm.allowlist':gtmSettings.allowlist_classes??[],'gtm.blocklist':gtmSettings.blocklist_classes??[]});let gtm_environment='';if(gtmSettings.include_environment===true){const gtm_auth=gtmSettings.environment_token??'';const gtm_preview=gtmSettings.environment_id??'';gtm_environment='&gtm_auth='+gtm_auth+'&gtm_preview='+gtm_preview+'&gtm_cookies_win=x';}config.tagIds.forEach(function(tagId){const script=document.createElement('script');script.async=true;const dLink=dl!='dataLayer'?'&l='+dl:'';script.src='https://www.googletagmanager.com/gtm.js?id='+tagId+gtm_environment+dLink;script.type='text/javascript';document.getElementsByTagName('head')[0].appendChild(script);});})(drupalSettings);;window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js',new Date());gtag('set','developer_id.dMDhkMT',true);(function(drupalSettings){const config=drupalSettings.gtag;if(config.consentMode===true)gtag('consent','default',{'ad_storage':'denied','analytics_storage':'denied','ad_user_data':'denied','ad_personalization':'denied','wait_for_update':500});if(config.tagId.length!==0){const script=document.createElement('script');script.async=true;script.src='https://www.googletagmanager.com/gtag/js?id='+config.tagId;script.type='text/javascript';document.getElementsByTagName('head')[0].appendChild(script);}const additionalConfigInfo=config.additionalConfigInfo||[];if(additionalConfigInfo.length===0)gtag('config',config.tagId);else gtag('config',config.tagId,additionalConfigInfo);const otherIds=config.otherIds||[];otherIds.forEach((id)=>gtag('config',id));const events=config.events||[];events.forEach((event)=>gtag('event',event.name,event.data));})(drupalSettings);;(function(Drupal){Drupal.AjaxCommands.prototype.gtagEvent=function(ajax,response){gtag('event',response.event_name,response.data);};})(Drupal);;/*!Select2 4.0.13 | https://github.com/select2/select2/blob/master/LICENSE.md*/!function(n){"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof module&&module.exports?module.exports=function(e,t){return void 0===t&&(t="undefined"!=typeof window?require("jquery"):require("jquery")(e)),n(t),t}:n(jQuery)}(function(u){var e=function(){if(u&&u.fn&&u.fn.select2&&u.fn.select2.amd)var e=u.fn.select2.amd;var t,n,r,h,o,s,f,g,m,v,y,_,i,a,b;function w(e,t){return i.call(e,t)}function l(e,t){var n,r,i,o,s,a,l,c,u,d,p,h=t&&t.split("/"),f=y.map,g=f&&f["*"]||{};if(e){for(s=(e=e.split("/")).length-1,y.nodeIdCompat&&b.test(e[s])&&(e[s]=e[s].replace(b,"")),"."===e[0].charAt(0)&&h&&(e=h.slice(0,h.length-1).concat(e)),u=0;u<e.length;u++)if("."===(p=e[u]))e.splice(u,1),--u;else if(".."===p){if(0===u||1===u&&".."===e[2]||".."===e[u-1])continue;0<u&&(e.splice(u-1,2),u-=2)}e=e.join("/")}if((h||g)&&f){for(u=(n=e.split("/")).length;0<u;--u){if(r=n.slice(0,u).join("/"),h)for(d=h.length;0<d;--d)if(i=(i=f[h.slice(0,d).join("/")])&&i[r]){o=i,a=u;break}if(o)break;!l&&g&&g[r]&&(l=g[r],c=u)}!o&&l&&(o=l,a=c),o&&(n.splice(0,a,o),e=n.join("/"))}return e}function A(t,n){return function(){var e=a.call(arguments,0);return"string"!=typeof e[0]&&1===e.length&&e.push(null),s.apply(h,e.concat([t,n]))}}function x(t){return function(e){m[t]=e}}function D(e){if(w(v,e)){var t=v[e];delete v[e],_[e]=!0,o.apply(h,t)}if(!w(m,e)&&!w(_,e))throw new Error("No "+e);return m[e]}function c(e){var t,n=e?e.indexOf("!"):-1;return-1<n&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function S(e){return e?c(e):[]}return e&&e.requirejs||(e?n=e:e={},m={},v={},y={},_={},i=Object.prototype.hasOwnProperty,a=[].slice,b=/\.js$/,f=function(e,t){var n,r,i=c(e),o=i[0],s=t[1];return e=i[1],o&&(n=D(o=l(o,s))),o?e=n&&n.normalize?n.normalize(e,(r=s,function(e){return l(e,r)})):l(e,s):(o=(i=c(e=l(e,s)))[0],e=i[1],o&&(n=D(o))),{f:o?o+"!"+e:e,n:e,pr:o,p:n}},g={require:function(e){return A(e)},exports:function(e){var t=m[e];return void 0!==t?t:m[e]={}},module:function(e){return{id:e,uri:"",exports:m[e],config:(t=e,function(){return y&&y.config&&y.config[t]||{}})};var t}},o=function(e,t,n,r){var i,o,s,a,l,c,u,d=[],p=typeof n;if(c=S(r=r||e),"undefined"==p||"function"==p){for(t=!t.length&&n.length?["require","exports","module"]:t,l=0;l<t.length;l+=1)if("require"===(o=(a=f(t[l],c)).f))d[l]=g.require(e);else if("exports"===o)d[l]=g.exports(e),u=!0;else if("module"===o)i=d[l]=g.module(e);else if(w(m,o)||w(v,o)||w(_,o))d[l]=D(o);else{if(!a.p)throw new Error(e+" missing "+o);a.p.load(a.n,A(r,!0),x(o),{}),d[l]=m[o]}s=n?n.apply(m[e],d):void 0,e&&(i&&i.exports!==h&&i.exports!==m[e]?m[e]=i.exports:s===h&&u||(m[e]=s))}else e&&(m[e]=n)},t=n=s=function(e,t,n,r,i){if("string"==typeof e)return g[e]?g[e](t):D(f(e,S(t)).f);if(!e.splice){if((y=e).deps&&s(y.deps,y.callback),!t)return;t.splice?(e=t,t=n,n=null):e=h}return t=t||function(){},"function"==typeof n&&(n=r,r=i),r?o(h,e,t,n):setTimeout(function(){o(h,e,t,n)},4),s},s.config=function(e){return s(e)},t._defined=m,(r=function(e,t,n){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");t.splice||(n=t,t=[]),w(m,e)||w(v,e)||(v[e]=[e,t,n])}).amd={jQuery:!0},e.requirejs=t,e.require=n,e.define=r),e.define("almond",function(){}),e.define("jquery",[],function(){var e=u||$;return null==e&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),e}),e.define("select2/utils",["jquery"],function(o){var i={};function u(e){var t=e.prototype,n=[];for(var r in t){"function"==typeof t[r]&&"constructor"!==r&&n.push(r)}return n}i.Extend=function(e,t){var n={}.hasOwnProperty;function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},i.Decorate=function(r,i){var e=u(i),t=u(r);function o(){var e=Array.prototype.unshift,t=i.prototype.constructor.length,n=r.prototype.constructor;0<t&&(e.call(arguments,r.prototype.constructor),n=i.prototype.constructor),n.apply(this,arguments)}i.displayName=r.displayName,o.prototype=new function(){this.constructor=o};for(var n=0;n<t.length;n++){var s=t[n];o.prototype[s]=r.prototype[s]}function a(e){var t=function(){};e in o.prototype&&(t=o.prototype[e]);var n=i.prototype[e];return function(){return Array.prototype.unshift.call(arguments,t),n.apply(this,arguments)}}for(var l=0;l<e.length;l++){var c=e[l];o.prototype[c]=a(c)}return o};function e(){this.listeners={}}e.prototype.on=function(e,t){this.listeners=this.listeners||{},e in this.listeners?this.listeners[e].push(t):this.listeners[e]=[t]},e.prototype.trigger=function(e){var t=Array.prototype.slice,n=t.call(arguments,1);this.listeners=this.listeners||{},null==n&&(n=[]),0===n.length&&n.push({}),(n[0]._type=e)in this.listeners&&this.invoke(this.listeners[e],t.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},e.prototype.invoke=function(e,t){for(var n=0,r=e.length;n<r;n++)e[n].apply(this,t)},i.Observable=e,i.generateChars=function(e){for(var t="",n=0;n<e;n++){t+=Math.floor(36*Math.random()).toString(36)}return t},i.bind=function(e,t){return function(){e.apply(t,arguments)}},i._convertData=function(e){for(var t in e){var n=t.split("-"),r=e;if(1!==n.length){for(var i=0;i<n.length;i++){var o=n[i];(o=o.substring(0,1).toLowerCase()+o.substring(1))in r||(r[o]={}),i==n.length-1&&(r[o]=e[t]),r=r[o]}delete e[t]}}return e},i.hasScroll=function(e,t){var n=o(t),r=t.style.overflowX,i=t.style.overflowY;return(r!==i||"hidden"!==i&&"visible"!==i)&&("scroll"===r||"scroll"===i||(n.innerHeight()<t.scrollHeight||n.innerWidth()<t.scrollWidth))},i.escapeMarkup=function(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof e?e:String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})},i.appendMany=function(e,t){if("1.7"===o.fn.jquery.substr(0,3)){var n=o();o.map(t,function(e){n=n.add(e)}),t=n}e.append(t)},i.__cache={};var n=0;return i.GetUniqueElementId=function(e){var t=e.getAttribute("data-select2-id");return null==t&&(e.id?(t=e.id,e.setAttribute("data-select2-id",t)):(e.setAttribute("data-select2-id",++n),t=n.toString())),t},i.StoreData=function(e,t,n){var r=i.GetUniqueElementId(e);i.__cache[r]||(i.__cache[r]={}),i.__cache[r][t]=n},i.GetData=function(e,t){var n=i.GetUniqueElementId(e);return t?i.__cache[n]&&null!=i.__cache[n][t]?i.__cache[n][t]:o(e).data(t):i.__cache[n]},i.RemoveData=function(e){var t=i.GetUniqueElementId(e);null!=i.__cache[t]&&delete i.__cache[t],e.removeAttribute("data-select2-id")},i}),e.define("select2/results",["jquery","./utils"],function(h,f){function r(e,t,n){this.$element=e,this.data=n,this.options=t,r.__super__.constructor.call(this)}return f.Extend(r,f.Observable),r.prototype.render=function(){var e=h('<ul class="select2-results__options" role="listbox"></ul>');return this.options.get("multiple")&&e.attr("aria-multiselectable","true"),this.$results=e},r.prototype.clear=function(){this.$results.empty()},r.prototype.displayMessage=function(e){var t=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var n=h('<li role="alert" aria-live="assertive" class="select2-results__option"></li>'),r=this.options.get("translations").get(e.message);n.append(t(r(e.args))),n[0].className+=" select2-results__message",this.$results.append(n)},r.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},r.prototype.append=function(e){this.hideLoading();var t=[];if(null!=e.results&&0!==e.results.length){e.results=this.sort(e.results);for(var n=0;n<e.results.length;n++){var r=e.results[n],i=this.option(r);t.push(i)}this.$results.append(t)}else 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"})},r.prototype.position=function(e,t){t.find(".select2-results").append(e)},r.prototype.sort=function(e){return this.options.get("sorter")(e)},r.prototype.highlightFirstItem=function(){var e=this.$results.find(".select2-results__option[aria-selected]"),t=e.filter("[aria-selected=true]");0<t.length?t.first().trigger("mouseenter"):e.first().trigger("mouseenter"),this.ensureHighlightVisible()},r.prototype.setClasses=function(){var t=this;this.data.current(function(e){var r=h.map(e,function(e){return e.id.toString()});t.$results.find(".select2-results__option[aria-selected]").each(function(){var e=h(this),t=f.GetData(this,"data"),n=""+t.id;null!=t.element&&t.element.selected||null==t.element&&-1<h.inArray(n,r)?e.attr("aria-selected","true"):e.attr("aria-selected","false")})})},r.prototype.showLoading=function(e){this.hideLoading();var t={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(e)},n=this.option(t);n.className+=" loading-results",this.$results.prepend(n)},r.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},r.prototype.option=function(e){var t=document.createElement("li");t.className="select2-results__option";var n={role:"option","aria-selected":"false"},r=window.Element.prototype.matches||window.Element.prototype.msMatchesSelector||window.Element.prototype.webkitMatchesSelector;for(var i in(null!=e.element&&r.call(e.element,":disabled")||null==e.element&&e.disabled)&&(delete n["aria-selected"],n["aria-disabled"]="true"),null==e.id&&delete n["aria-selected"],null!=e._resultId&&(t.id=e._resultId),e.title&&(t.title=e.title),e.children&&(n.role="group",n["aria-label"]=e.text,delete n["aria-selected"]),n){var o=n[i];t.setAttribute(i,o)}if(e.children){var s=h(t),a=document.createElement("strong");a.className="select2-results__group";h(a);this.template(e,a);for(var l=[],c=0;c<e.children.length;c++){var u=e.children[c],d=this.option(u);l.push(d)}var p=h("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});p.append(l),s.append(a),s.append(p)}else this.template(e,t);return f.StoreData(t,"data",e),t},r.prototype.bind=function(t,e){var l=this,n=t.id+"-results";this.$results.attr("id",n),t.on("results:all",function(e){l.clear(),l.append(e.data),t.isOpen()&&(l.setClasses(),l.highlightFirstItem())}),t.on("results:append",function(e){l.append(e.data),t.isOpen()&&l.setClasses()}),t.on("query",function(e){l.hideMessages(),l.showLoading(e)}),t.on("select",function(){t.isOpen()&&(l.setClasses(),l.options.get("scrollAfterSelect")&&l.highlightFirstItem())}),t.on("unselect",function(){t.isOpen()&&(l.setClasses(),l.options.get("scrollAfterSelect")&&l.highlightFirstItem())}),t.on("open",function(){l.$results.attr("aria-expanded","true"),l.$results.attr("aria-hidden","false"),l.setClasses(),l.ensureHighlightVisible()}),t.on("close",function(){l.$results.attr("aria-expanded","false"),l.$results.attr("aria-hidden","true"),l.$results.removeAttr("aria-activedescendant")}),t.on("results:toggle",function(){var e=l.getHighlightedResults();0!==e.length&&e.trigger("mouseup")}),t.on("results:select",function(){var e=l.getHighlightedResults();if(0!==e.length){var t=f.GetData(e[0],"data");"true"==e.attr("aria-selected")?l.trigger("close",{}):l.trigger("select",{data:t})}}),t.on("results:previous",function(){var e=l.getHighlightedResults(),t=l.$results.find("[aria-selected]"),n=t.index(e);if(!(n<=0)){var r=n-1;0===e.length&&(r=0);var i=t.eq(r);i.trigger("mouseenter");var o=l.$results.offset().top,s=i.offset().top,a=l.$results.scrollTop()+(s-o);0===r?l.$results.scrollTop(0):s-o<0&&l.$results.scrollTop(a)}}),t.on("results:next",function(){var e=l.getHighlightedResults(),t=l.$results.find("[aria-selected]"),n=t.index(e)+1;if(!(n>=t.length)){var r=t.eq(n);r.trigger("mouseenter");var i=l.$results.offset().top+l.$results.outerHeight(!1),o=r.offset().top+r.outerHeight(!1),s=l.$results.scrollTop()+o-i;0===n?l.$results.scrollTop(0):i<o&&l.$results.scrollTop(s)}}),t.on("results:focus",function(e){e.element.addClass("select2-results__option--highlighted")}),t.on("results:message",function(e){l.displayMessage(e)}),h.fn.mousewheel&&this.$results.on("mousewheel",function(e){var t=l.$results.scrollTop(),n=l.$results.get(0).scrollHeight-t+e.deltaY,r=0<e.deltaY&&t-e.deltaY<=0,i=e.deltaY<0&&n<=l.$results.height();r?(l.$results.scrollTop(0),e.preventDefault(),e.stopPropagation()):i&&(l.$results.scrollTop(l.$results.get(0).scrollHeight-l.$results.height()),e.preventDefault(),e.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(e){var t=h(this),n=f.GetData(this,"data");"true"!==t.attr("aria-selected")?l.trigger("select",{originalEvent:e,data:n}):l.options.get("multiple")?l.trigger("unselect",{originalEvent:e,data:n}):l.trigger("close",{})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(e){var t=f.GetData(this,"data");l.getHighlightedResults().removeClass("select2-results__option--highlighted"),l.trigger("results:focus",{data:t,element:h(this)})})},r.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},r.prototype.destroy=function(){this.$results.remove()},r.prototype.ensureHighlightVisible=function(){var e=this.getHighlightedResults();if(0!==e.length){var t=this.$results.find("[aria-selected]").index(e),n=this.$results.offset().top,r=e.offset().top,i=this.$results.scrollTop()+(r-n),o=r-n;i-=2*e.outerHeight(!1),t<=2?this.$results.scrollTop(0):(o>this.$results.outerHeight()||o<0)&&this.$results.scrollTop(i)}},r.prototype.template=function(e,t){var n=this.options.get("templateResult"),r=this.options.get("escapeMarkup"),i=n(e,t);null==i?t.style.display="none":"string"==typeof i?t.innerHTML=r(i):h(t).append(i)},r}),e.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),e.define("select2/selection/base",["jquery","../utils","../keys"],function(n,r,i){function o(e,t){this.$element=e,this.options=t,o.__super__.constructor.call(this)}return r.Extend(o,r.Observable),o.prototype.render=function(){var e=n('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=r.GetData(this.$element[0],"old-tabindex")?this._tabindex=r.GetData(this.$element[0],"old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),e.attr("title",this.$element.attr("title")),e.attr("tabindex",this._tabindex),e.attr("aria-disabled","false"),this.$selection=e},o.prototype.bind=function(e,t){var n=this,r=e.id+"-results";this.container=e,this.$selection.on("focus",function(e){n.trigger("focus",e)}),this.$selection.on("blur",function(e){n._handleBlur(e)}),this.$selection.on("keydown",function(e){n.trigger("keypress",e),e.which===i.SPACE&&e.preventDefault()}),e.on("results:focus",function(e){n.$selection.attr("aria-activedescendant",e.data._resultId)}),e.on("selection:update",function(e){n.update(e.data)}),e.on("open",function(){n.$selection.attr("aria-expanded","true"),n.$selection.attr("aria-owns",r),n._attachCloseHandler(e)}),e.on("close",function(){n.$selection.attr("aria-expanded","false"),n.$selection.removeAttr("aria-activedescendant"),n.$selection.removeAttr("aria-owns"),n.$selection.trigger("focus"),n._detachCloseHandler(e)}),e.on("enable",function(){n.$selection.attr("tabindex",n._tabindex),n.$selection.attr("aria-disabled","false")}),e.on("disable",function(){n.$selection.attr("tabindex","-1"),n.$selection.attr("aria-disabled","true")})},o.prototype._handleBlur=function(e){var t=this;window.setTimeout(function(){document.activeElement==t.$selection[0]||n.contains(t.$selection[0],document.activeElement)||t.trigger("blur",e)},1)},o.prototype._attachCloseHandler=function(e){n(document.body).on("mousedown.select2."+e.id,function(e){var t=n(e.target).closest(".select2");n(".select2.select2-container--open").each(function(){this!=t[0]&&r.GetData(this,"element").select2("close")})})},o.prototype._detachCloseHandler=function(e){n(document.body).off("mousedown.select2."+e.id)},o.prototype.position=function(e,t){t.find(".selection").append(e)},o.prototype.destroy=function(){this._detachCloseHandler(this.container)},o.prototype.update=function(e){throw new Error("The `update` method must be defined in child classes.")},o.prototype.isEnabled=function(){return!this.isDisabled()},o.prototype.isDisabled=function(){return this.options.get("disabled")},o}),e.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(e,t,n,r){function i(){i.__super__.constructor.apply(this,arguments)}return n.Extend(i,t),i.prototype.render=function(){var e=i.__super__.render.call(this);return e.addClass("select2-selection--single"),e.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),e},i.prototype.bind=function(t,e){var n=this;i.__super__.bind.apply(this,arguments);var r=t.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",r).attr("role","textbox").attr("aria-readonly","true"),this.$selection.attr("aria-labelledby",r),this.$selection.on("mousedown",function(e){1===e.which&&n.trigger("toggle",{originalEvent:e})}),this.$selection.on("focus",function(e){}),this.$selection.on("blur",function(e){}),t.on("focus",function(e){t.isOpen()||n.$selection.trigger("focus")})},i.prototype.clear=function(){var e=this.$selection.find(".select2-selection__rendered");e.empty(),e.removeAttr("title")},i.prototype.display=function(e,t){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(e,t))},i.prototype.selectionContainer=function(){return e("<span></span>")},i.prototype.update=function(e){if(0!==e.length){var t=e[0],n=this.$selection.find(".select2-selection__rendered"),r=this.display(t,n);n.empty().append(r);var i=t.title||t.text;i?n.attr("title",i):n.removeAttr("title")}else this.clear()},i}),e.define("select2/selection/multiple",["jquery","./base","../utils"],function(i,e,l){function n(e,t){n.__super__.constructor.apply(this,arguments)}return l.Extend(n,e),n.prototype.render=function(){var e=n.__super__.render.call(this);return e.addClass("select2-selection--multiple"),e.html('<ul class="select2-selection__rendered"></ul>'),e},n.prototype.bind=function(e,t){var r=this;n.__super__.bind.apply(this,arguments),this.$selection.on("click",function(e){r.trigger("toggle",{originalEvent:e})}),this.$selection.on("click",".select2-selection__choice__remove",function(e){if(!r.isDisabled()){var t=i(this).parent(),n=l.GetData(t[0],"data");r.trigger("unselect",{originalEvent:e,data:n})}})},n.prototype.clear=function(){var e=this.$selection.find(".select2-selection__rendered");e.empty(),e.removeAttr("title")},n.prototype.display=function(e,t){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(e,t))},n.prototype.selectionContainer=function(){return i('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},n.prototype.update=function(e){if(this.clear(),0!==e.length){for(var t=[],n=0;n<e.length;n++){var r=e[n],i=this.selectionContainer(),o=this.display(r,i);i.append(o);var s=r.title||r.text;s&&i.attr("title",s),l.StoreData(i[0],"data",r),t.push(i)}var a=this.$selection.find(".select2-selection__rendered");l.appendMany(a,t)}},n}),e.define("select2/selection/placeholder",["../utils"],function(e){function t(e,t,n){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),e.call(this,t,n)}return t.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},t.prototype.createPlaceholder=function(e,t){var n=this.selectionContainer();return n.html(this.display(t)),n.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),n},t.prototype.update=function(e,t){var n=1==t.length&&t[0].id!=this.placeholder.id;if(1<t.length||n)return e.call(this,t);this.clear();var r=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(r)},t}),e.define("select2/selection/allowClear",["jquery","../keys","../utils"],function(i,r,a){function e(){}return e.prototype.bind=function(e,t,n){var r=this;e.call(this,t,n),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(e){r._handleClear(e)}),t.on("keypress",function(e){r._handleKeyboardClear(e,t)})},e.prototype._handleClear=function(e,t){if(!this.isDisabled()){var n=this.$selection.find(".select2-selection__clear");if(0!==n.length){t.stopPropagation();var r=a.GetData(n[0],"data"),i=this.$element.val();this.$element.val(this.placeholder.id);var o={data:r};if(this.trigger("clear",o),o.prevented)this.$element.val(i);else{for(var s=0;s<r.length;s++)if(o={data:r[s]},this.trigger("unselect",o),o.prevented)return void this.$element.val(i);this.$element.trigger("input").trigger("change"),this.trigger("toggle",{})}}}},e.prototype._handleKeyboardClear=function(e,t,n){n.isOpen()||t.which!=r.DELETE&&t.which!=r.BACKSPACE||this._handleClear(t)},e.prototype.update=function(e,t){if(e.call(this,t),!(0<this.$selection.find(".select2-selection__placeholder").length||0===t.length)){var n=this.options.get("translations").get("removeAllItems"),r=i('<span class="select2-selection__clear" title="'+n()+'">&times;</span>');a.StoreData(r[0],"data",t),this.$selection.find(".select2-selection__rendered").prepend(r)}},e}),e.define("select2/selection/search",["jquery","../utils","../keys"],function(r,a,l){function e(e,t,n){e.call(this,t,n)}return e.prototype.render=function(e){var t=r('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></li>');this.$searchContainer=t,this.$search=t.find("input");var n=e.call(this);return this._transferTabIndex(),n},e.prototype.bind=function(e,t,n){var r=this,i=t.id+"-results";e.call(this,t,n),t.on("open",function(){r.$search.attr("aria-controls",i),r.$search.trigger("focus")}),t.on("close",function(){r.$search.val(""),r.$search.removeAttr("aria-controls"),r.$search.removeAttr("aria-activedescendant"),r.$search.trigger("focus")}),t.on("enable",function(){r.$search.prop("disabled",!1),r._transferTabIndex()}),t.on("disable",function(){r.$search.prop("disabled",!0)}),t.on("focus",function(e){r.$search.trigger("focus")}),t.on("results:focus",function(e){e.data._resultId?r.$search.attr("aria-activedescendant",e.data._resultId):r.$search.removeAttr("aria-activedescendant")}),this.$selection.on("focusin",".select2-search--inline",function(e){r.trigger("focus",e)}),this.$selection.on("focusout",".select2-search--inline",function(e){r._handleBlur(e)}),this.$selection.on("keydown",".select2-search--inline",function(e){if(e.stopPropagation(),r.trigger("keypress",e),r._keyUpPrevented=e.isDefaultPrevented(),e.which===l.BACKSPACE&&""===r.$search.val()){var t=r.$searchContainer.prev(".select2-selection__choice");if(0<t.length){var n=a.GetData(t[0],"data");r.searchRemoveChoice(n),e.preventDefault()}}}),this.$selection.on("click",".select2-search--inline",function(e){r.$search.val()&&e.stopPropagation()});var o=document.documentMode,s=o&&o<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(e){s?r.$selection.off("input.search input.searchcheck"):r.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(e){if(s&&"input"===e.type)r.$selection.off("input.search input.searchcheck");else{var t=e.which;t!=l.SHIFT&&t!=l.CTRL&&t!=l.ALT&&t!=l.TAB&&r.handleSearch(e)}})},e.prototype._transferTabIndex=function(e){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},e.prototype.createPlaceholder=function(e,t){this.$search.attr("placeholder",t.text)},e.prototype.update=function(e,t){var n=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),e.call(this,t),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),n&&this.$search.trigger("focus")},e.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},e.prototype.searchRemoveChoice=function(e,t){this.trigger("unselect",{data:t}),this.$search.val(t.text),this.handleSearch()},e.prototype.resizeSearch=function(){this.$search.css("width","25px");var e="";""!==this.$search.attr("placeholder")?e=this.$selection.find(".select2-selection__rendered").width():e=.75*(this.$search.val().length+1)+"em";this.$search.css("width",e)},e}),e.define("select2/selection/eventRelay",["jquery"],function(s){function e(){}return e.prototype.bind=function(e,t,n){var r=this,i=["open","opening","close","closing","select","selecting","unselect","unselecting","clear","clearing"],o=["opening","closing","selecting","unselecting","clearing"];e.call(this,t,n),t.on("*",function(e,t){if(-1!==s.inArray(e,i)){t=t||{};var n=s.Event("select2:"+e,{params:t});r.$element.trigger(n),-1!==s.inArray(e,o)&&(t.prevented=n.isDefaultPrevented())}})},e}),e.define("select2/translation",["jquery","require"],function(t,n){function r(e){this.dict=e||{}}return r.prototype.all=function(){return this.dict},r.prototype.get=function(e){return this.dict[e]},r.prototype.extend=function(e){this.dict=t.extend({},e.all(),this.dict)},r._cache={},r.loadPath=function(e){if(!(e in r._cache)){var t=n(e);r._cache[e]=t}return new r(r._cache[e])},r}),e.define("select2/diacritics",[],function(){return{"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Œ":"OE","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","œ":"oe","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ώ":"ω","ς":"σ","’":"'"}}),e.define("select2/data/base",["../utils"],function(r){function n(e,t){n.__super__.constructor.call(this)}return r.Extend(n,r.Observable),n.prototype.current=function(e){throw new Error("The `current` method must be defined in child classes.")},n.prototype.query=function(e,t){throw new Error("The `query` method must be defined in child classes.")},n.prototype.bind=function(e,t){},n.prototype.destroy=function(){},n.prototype.generateResultId=function(e,t){var n=e.id+"-result-";return n+=r.generateChars(4),null!=t.id?n+="-"+t.id.toString():n+="-"+r.generateChars(4),n},n}),e.define("select2/data/select",["./base","../utils","jquery"],function(e,a,l){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return a.Extend(n,e),n.prototype.current=function(e){var n=[],r=this;this.$element.find(":selected").each(function(){var e=l(this),t=r.item(e);n.push(t)}),e(n)},n.prototype.select=function(i){var o=this;if(i.selected=!0,l(i.element).is("option"))return i.element.selected=!0,void this.$element.trigger("input").trigger("change");if(this.$element.prop("multiple"))this.current(function(e){var t=[];(i=[i]).push.apply(i,e);for(var n=0;n<i.length;n++){var r=i[n].id;-1===l.inArray(r,t)&&t.push(r)}o.$element.val(t),o.$element.trigger("input").trigger("change")});else{var e=i.id;this.$element.val(e),this.$element.trigger("input").trigger("change")}},n.prototype.unselect=function(i){var o=this;if(this.$element.prop("multiple")){if(i.selected=!1,l(i.element).is("option"))return i.element.selected=!1,void this.$element.trigger("input").trigger("change");this.current(function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n].id;r!==i.id&&-1===l.inArray(r,t)&&t.push(r)}o.$element.val(t),o.$element.trigger("input").trigger("change")})}},n.prototype.bind=function(e,t){var n=this;(this.container=e).on("select",function(e){n.select(e.data)}),e.on("unselect",function(e){n.unselect(e.data)})},n.prototype.destroy=function(){this.$element.find("*").each(function(){a.RemoveData(this)})},n.prototype.query=function(r,e){var i=[],o=this;this.$element.children().each(function(){var e=l(this);if(e.is("option")||e.is("optgroup")){var t=o.item(e),n=o.matches(r,t);null!==n&&i.push(n)}}),e({results:i})},n.prototype.addOptions=function(e){a.appendMany(this.$element,e)},n.prototype.option=function(e){var t;e.children?(t=document.createElement("optgroup")).label=e.text:void 0!==(t=document.createElement("option")).textContent?t.textContent=e.text:t.innerText=e.text,void 0!==e.id&&(t.value=e.id),e.disabled&&(t.disabled=!0),e.selected&&(t.selected=!0),e.title&&(t.title=e.title);var n=l(t),r=this._normalizeItem(e);return r.element=t,a.StoreData(t,"data",r),n},n.prototype.item=function(e){var t={};if(null!=(t=a.GetData(e[0],"data")))return t;if(e.is("option"))t={id:e.val(),text:e.text(),disabled:e.prop("disabled"),selected:e.prop("selected"),title:e.prop("title")};else if(e.is("optgroup")){t={text:e.prop("label"),children:[],title:e.prop("title")};for(var n=e.children("option"),r=[],i=0;i<n.length;i++){var o=l(n[i]),s=this.item(o);r.push(s)}t.children=r}return(t=this._normalizeItem(t)).element=e[0],a.StoreData(e[0],"data",t),t},n.prototype._normalizeItem=function(e){e!==Object(e)&&(e={id:e,text:e});return null!=(e=l.extend({},{text:""},e)).id&&(e.id=e.id.toString()),null!=e.text&&(e.text=e.text.toString()),null==e._resultId&&e.id&&null!=this.container&&(e._resultId=this.generateResultId(this.container,e)),l.extend({},{selected:!1,disabled:!1},e)},n.prototype.matches=function(e,t){return this.options.get("matcher")(e,t)},n}),e.define("select2/data/array",["./select","../utils","jquery"],function(e,f,g){function r(e,t){this._dataToConvert=t.get("data")||[],r.__super__.constructor.call(this,e,t)}return f.Extend(r,e),r.prototype.bind=function(e,t){r.__super__.bind.call(this,e,t),this.addOptions(this.convertToOptions(this._dataToConvert))},r.prototype.select=function(n){var e=this.$element.find("option").filter(function(e,t){return t.value==n.id.toString()});0===e.length&&(e=this.option(n),this.addOptions(e)),r.__super__.select.call(this,n)},r.prototype.convertToOptions=function(e){var t=this,n=this.$element.find("option"),r=n.map(function(){return t.item(g(this)).id}).get(),i=[];function o(e){return function(){return g(this).val()==e.id}}for(var s=0;s<e.length;s++){var a=this._normalizeItem(e[s]);if(0<=g.inArray(a.id,r)){var l=n.filter(o(a)),c=this.item(l),u=g.extend(!0,{},a,c),d=this.option(u);l.replaceWith(d)}else{var p=this.option(a);if(a.children){var h=this.convertToOptions(a.children);f.appendMany(p,h)}i.push(p)}}return i},r}),e.define("select2/data/ajax",["./array","../utils","jquery"],function(e,t,o){function n(e,t){this.ajaxOptions=this._applyDefaults(t.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),n.__super__.constructor.call(this,e,t)}return t.Extend(n,e),n.prototype._applyDefaults=function(e){var t={data:function(e){return o.extend({},e,{q:e.term})},transport:function(e,t,n){var r=o.ajax(e);return r.then(t),r.fail(n),r}};return o.extend({},t,e,!0)},n.prototype.processResults=function(e){return e},n.prototype.query=function(n,r){var i=this;null!=this._request&&(o.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var t=o.extend({type:"GET"},this.ajaxOptions);function e(){var e=t.transport(t,function(e){var t=i.processResults(e,n);i.options.get("debug")&&window.console&&console.error&&(t&&t.results&&o.isArray(t.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),r(t)},function(){"status"in e&&(0===e.status||"0"===e.status)||i.trigger("results:message",{message:"errorLoading"})});i._request=e}"function"==typeof t.url&&(t.url=t.url.call(this.$element,n)),"function"==typeof t.data&&(t.data=t.data.call(this.$element,n)),this.ajaxOptions.delay&&null!=n.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(e,this.ajaxOptions.delay)):e()},n}),e.define("select2/data/tags",["jquery"],function(u){function e(e,t,n){var r=n.get("tags"),i=n.get("createTag");void 0!==i&&(this.createTag=i);var o=n.get("insertTag");if(void 0!==o&&(this.insertTag=o),e.call(this,t,n),u.isArray(r))for(var s=0;s<r.length;s++){var a=r[s],l=this._normalizeItem(a),c=this.option(l);this.$element.append(c)}}return e.prototype.query=function(e,c,u){var d=this;this._removeOldTags(),null!=c.term&&null==c.page?e.call(this,c,function e(t,n){for(var r=t.results,i=0;i<r.length;i++){var o=r[i],s=null!=o.children&&!e({results:o.children},!0);if((o.text||"").toUpperCase()===(c.term||"").toUpperCase()||s)return!n&&(t.data=r,void u(t))}if(n)return!0;var a=d.createTag(c);if(null!=a){var l=d.option(a);l.attr("data-select2-tag",!0),d.addOptions([l]),d.insertTag(r,a)}t.results=r,u(t)}):e.call(this,c,u)},e.prototype.createTag=function(e,t){var n=u.trim(t.term);return""===n?null:{id:n,text:n}},e.prototype.insertTag=function(e,t,n){t.unshift(n)},e.prototype._removeOldTags=function(e){this.$element.find("option[data-select2-tag]").each(function(){this.selected||u(this).remove()})},e}),e.define("select2/data/tokenizer",["jquery"],function(d){function e(e,t,n){var r=n.get("tokenizer");void 0!==r&&(this.tokenizer=r),e.call(this,t,n)}return e.prototype.bind=function(e,t,n){e.call(this,t,n),this.$search=t.dropdown.$search||t.selection.$search||n.find(".select2-search__field")},e.prototype.query=function(e,t,n){var i=this;t.term=t.term||"";var r=this.tokenizer(t,this.options,function(e){var t,n=i._normalizeItem(e);if(!i.$element.find("option").filter(function(){return d(this).val()===n.id}).length){var r=i.option(n);r.attr("data-select2-tag",!0),i._removeOldTags(),i.addOptions([r])}t=n,i.trigger("select",{data:t})});r.term!==t.term&&(this.$search.length&&(this.$search.val(r.term),this.$search.trigger("focus")),t.term=r.term),e.call(this,t,n)},e.prototype.tokenizer=function(e,t,n,r){for(var i=n.get("tokenSeparators")||[],o=t.term,s=0,a=this.createTag||function(e){return{id:e.term,text:e.term}};s<o.length;){var l=o[s];if(-1!==d.inArray(l,i)){var c=o.substr(0,s),u=a(d.extend({},t,{term:c}));null!=u?(r(u),o=o.substr(s+1)||"",s=0):s++}else s++}return{term:o}},e}),e.define("select2/data/minimumInputLength",[],function(){function e(e,t,n){this.minimumInputLength=n.get("minimumInputLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){t.term=t.term||"",t.term.length<this.minimumInputLength?this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:t.term,params:t}}):e.call(this,t,n)},e}),e.define("select2/data/maximumInputLength",[],function(){function e(e,t,n){this.maximumInputLength=n.get("maximumInputLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){t.term=t.term||"",0<this.maximumInputLength&&t.term.length>this.maximumInputLength?this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:t.term,params:t}}):e.call(this,t,n)},e}),e.define("select2/data/maximumSelectionLength",[],function(){function e(e,t,n){this.maximumSelectionLength=n.get("maximumSelectionLength"),e.call(this,t,n)}return e.prototype.bind=function(e,t,n){var r=this;e.call(this,t,n),t.on("select",function(){r._checkIfMaximumSelected()})},e.prototype.query=function(e,t,n){var r=this;this._checkIfMaximumSelected(function(){e.call(r,t,n)})},e.prototype._checkIfMaximumSelected=function(e,n){var r=this;this.current(function(e){var t=null!=e?e.length:0;0<r.maximumSelectionLength&&t>=r.maximumSelectionLength?r.trigger("results:message",{message:"maximumSelected",args:{maximum:r.maximumSelectionLength}}):n&&n()})},e}),e.define("select2/dropdown",["jquery","./utils"],function(t,e){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=t('<span class="select2-dropdown"><span class="select2-results"></span></span>');return e.attr("dir",this.options.get("dir")),this.$dropdown=e},n.prototype.bind=function(){},n.prototype.position=function(e,t){},n.prototype.destroy=function(){this.$dropdown.remove()},n}),e.define("select2/dropdown/search",["jquery","../utils"],function(o,e){function t(){}return t.prototype.render=function(e){var t=e.call(this),n=o('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></span>');return this.$searchContainer=n,this.$search=n.find("input"),t.prepend(n),t},t.prototype.bind=function(e,t,n){var r=this,i=t.id+"-results";e.call(this,t,n),this.$search.on("keydown",function(e){r.trigger("keypress",e),r._keyUpPrevented=e.isDefaultPrevented()}),this.$search.on("input",function(e){o(this).off("keyup")}),this.$search.on("keyup input",function(e){r.handleSearch(e)}),t.on("open",function(){r.$search.attr("tabindex",0),r.$search.attr("aria-controls",i),r.$search.trigger("focus"),window.setTimeout(function(){r.$search.trigger("focus")},0)}),t.on("close",function(){r.$search.attr("tabindex",-1),r.$search.removeAttr("aria-controls"),r.$search.removeAttr("aria-activedescendant"),r.$search.val(""),r.$search.trigger("blur")}),t.on("focus",function(){t.isOpen()||r.$search.trigger("focus")}),t.on("results:all",function(e){null!=e.query.term&&""!==e.query.term||(r.showSearch(e)?r.$searchContainer.removeClass("select2-search--hide"):r.$searchContainer.addClass("select2-search--hide"))}),t.on("results:focus",function(e){e.data._resultId?r.$search.attr("aria-activedescendant",e.data._resultId):r.$search.removeAttr("aria-activedescendant")})},t.prototype.handleSearch=function(e){if(!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},t.prototype.showSearch=function(e,t){return!0},t}),e.define("select2/dropdown/hidePlaceholder",[],function(){function e(e,t,n,r){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),e.call(this,t,n,r)}return e.prototype.append=function(e,t){t.results=this.removePlaceholder(t.results),e.call(this,t)},e.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},e.prototype.removePlaceholder=function(e,t){for(var n=t.slice(0),r=t.length-1;0<=r;r--){var i=t[r];this.placeholder.id===i.id&&n.splice(r,1)}return n},e}),e.define("select2/dropdown/infiniteScroll",["jquery"],function(n){function e(e,t,n,r){this.lastParams={},e.call(this,t,n,r),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return e.prototype.append=function(e,t){this.$loadingMore.remove(),this.loading=!1,e.call(this,t),this.showLoadingMore(t)&&(this.$results.append(this.$loadingMore),this.loadMoreIfNeeded())},e.prototype.bind=function(e,t,n){var r=this;e.call(this,t,n),t.on("query",function(e){r.lastParams=e,r.loading=!0}),t.on("query:append",function(e){r.lastParams=e,r.loading=!0}),this.$results.on("scroll",this.loadMoreIfNeeded.bind(this))},e.prototype.loadMoreIfNeeded=function(){var e=n.contains(document.documentElement,this.$loadingMore[0]);if(!this.loading&&e){var t=this.$results.offset().top+this.$results.outerHeight(!1);this.$loadingMore.offset().top+this.$loadingMore.outerHeight(!1)<=t+50&&this.loadMore()}},e.prototype.loadMore=function(){this.loading=!0;var e=n.extend({},{page:1},this.lastParams);e.page++,this.trigger("query:append",e)},e.prototype.showLoadingMore=function(e,t){return t.pagination&&t.pagination.more},e.prototype.createLoadingMore=function(){var e=n('<li class="select2-results__option select2-results__option--load-more"role="option" aria-disabled="true"></li>'),t=this.options.get("translations").get("loadingMore");return e.html(t(this.lastParams)),e},e}),e.define("select2/dropdown/attachBody",["jquery","../utils"],function(f,a){function e(e,t,n){this.$dropdownParent=f(n.get("dropdownParent")||document.body),e.call(this,t,n)}return e.prototype.bind=function(e,t,n){var r=this;e.call(this,t,n),t.on("open",function(){r._showDropdown(),r._attachPositioningHandler(t),r._bindContainerResultHandlers(t)}),t.on("close",function(){r._hideDropdown(),r._detachPositioningHandler(t)}),this.$dropdownContainer.on("mousedown",function(e){e.stopPropagation()})},e.prototype.destroy=function(e){e.call(this),this.$dropdownContainer.remove()},e.prototype.position=function(e,t,n){t.attr("class",n.attr("class")),t.removeClass("select2"),t.addClass("select2-container--open"),t.css({position:"absolute",top:-999999}),this.$container=n},e.prototype.render=function(e){var t=f("<span></span>"),n=e.call(this);return t.append(n),this.$dropdownContainer=t},e.prototype._hideDropdown=function(e){this.$dropdownContainer.detach()},e.prototype._bindContainerResultHandlers=function(e,t){if(!this._containerResultsHandlersBound){var n=this;t.on("results:all",function(){n._positionDropdown(),n._resizeDropdown()}),t.on("results:append",function(){n._positionDropdown(),n._resizeDropdown()}),t.on("results:message",function(){n._positionDropdown(),n._resizeDropdown()}),t.on("select",function(){n._positionDropdown(),n._resizeDropdown()}),t.on("unselect",function(){n._positionDropdown(),n._resizeDropdown()}),this._containerResultsHandlersBound=!0}},e.prototype._attachPositioningHandler=function(e,t){var n=this,r="scroll.select2."+t.id,i="resize.select2."+t.id,o="orientationchange.select2."+t.id,s=this.$container.parents().filter(a.hasScroll);s.each(function(){a.StoreData(this,"select2-scroll-position",{x:f(this).scrollLeft(),y:f(this).scrollTop()})}),s.on(r,function(e){var t=a.GetData(this,"select2-scroll-position");f(this).scrollTop(t.y)}),f(window).on(r+" "+i+" "+o,function(e){n._positionDropdown(),n._resizeDropdown()})},e.prototype._detachPositioningHandler=function(e,t){var n="scroll.select2."+t.id,r="resize.select2."+t.id,i="orientationchange.select2."+t.id;this.$container.parents().filter(a.hasScroll).off(n),f(window).off(n+" "+r+" "+i)},e.prototype._positionDropdown=function(){var e=f(window),t=this.$dropdown.hasClass("select2-dropdown--above"),n=this.$dropdown.hasClass("select2-dropdown--below"),r=null,i=this.$container.offset();i.bottom=i.top+this.$container.outerHeight(!1);var o={height:this.$container.outerHeight(!1)};o.top=i.top,o.bottom=i.top+o.height;var s=this.$dropdown.outerHeight(!1),a=e.scrollTop(),l=e.scrollTop()+e.height(),c=a<i.top-s,u=l>i.bottom+s,d={left:i.left,top:o.bottom},p=this.$dropdownParent;"static"===p.css("position")&&(p=p.offsetParent());var h={top:0,left:0};(f.contains(document.body,p[0])||p[0].isConnected)&&(h=p.offset()),d.top-=h.top,d.left-=h.left,t||n||(r="below"),u||!c||t?!c&&u&&t&&(r="below"):r="above",("above"==r||t&&"below"!==r)&&(d.top=o.top-h.top-s),null!=r&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+r),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+r)),this.$dropdownContainer.css(d)},e.prototype._resizeDropdown=function(){var e={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(e.minWidth=e.width,e.position="relative",e.width="auto"),this.$dropdown.css(e)},e.prototype._showDropdown=function(e){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},e}),e.define("select2/dropdown/minimumResultsForSearch",[],function(){function e(e,t,n,r){this.minimumResultsForSearch=n.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),e.call(this,t,n,r)}return e.prototype.showSearch=function(e,t){return!(function e(t){for(var n=0,r=0;r<t.length;r++){var i=t[r];i.children?n+=e(i.children):n++}return n}(t.data.results)<this.minimumResultsForSearch)&&e.call(this,t)},e}),e.define("select2/dropdown/selectOnClose",["../utils"],function(o){function e(){}return e.prototype.bind=function(e,t,n){var r=this;e.call(this,t,n),t.on("close",function(e){r._handleSelectOnClose(e)})},e.prototype._handleSelectOnClose=function(e,t){if(t&&null!=t.originalSelect2Event){var n=t.originalSelect2Event;if("select"===n._type||"unselect"===n._type)return}var r=this.getHighlightedResults();if(!(r.length<1)){var i=o.GetData(r[0],"data");null!=i.element&&i.element.selected||null==i.element&&i.selected||this.trigger("select",{data:i})}},e}),e.define("select2/dropdown/closeOnSelect",[],function(){function e(){}return e.prototype.bind=function(e,t,n){var r=this;e.call(this,t,n),t.on("select",function(e){r._selectTriggered(e)}),t.on("unselect",function(e){r._selectTriggered(e)})},e.prototype._selectTriggered=function(e,t){var n=t.originalEvent;n&&(n.ctrlKey||n.metaKey)||this.trigger("close",{originalEvent:n,originalSelect2Event:t})},e}),e.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(e){var t=e.input.length-e.maximum,n="Please delete "+t+" character";return 1!=t&&(n+="s"),n},inputTooShort:function(e){return"Please enter "+(e.minimum-e.input.length)+" or more characters"},loadingMore:function(){return"Loading more results…"},maximumSelected:function(e){var t="You can only select "+e.maximum+" item";return 1!=e.maximum&&(t+="s"),t},noResults:function(){return"No results found"},searching:function(){return"Searching…"},removeAllItems:function(){return"Remove all items"}}}),e.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(c,u,d,p,h,f,g,m,v,y,s,t,_,$,b,w,A,x,D,S,E,C,O,T,q,L,I,j,e){function n(){this.reset()}return n.prototype.apply=function(e){if(null==(e=c.extend(!0,{},this.defaults,e)).dataAdapter){if(null!=e.ajax?e.dataAdapter=b:null!=e.data?e.dataAdapter=$:e.dataAdapter=_,0<e.minimumInputLength&&(e.dataAdapter=y.Decorate(e.dataAdapter,x)),0<e.maximumInputLength&&(e.dataAdapter=y.Decorate(e.dataAdapter,D)),0<e.maximumSelectionLength&&(e.dataAdapter=y.Decorate(e.dataAdapter,S)),e.tags&&(e.dataAdapter=y.Decorate(e.dataAdapter,w)),null==e.tokenSeparators&&null==e.tokenizer||(e.dataAdapter=y.Decorate(e.dataAdapter,A)),null!=e.query){var t=u(e.amdBase+"compat/query");e.dataAdapter=y.Decorate(e.dataAdapter,t)}if(null!=e.initSelection){var n=u(e.amdBase+"compat/initSelection");e.dataAdapter=y.Decorate(e.dataAdapter,n)}}if(null==e.resultsAdapter&&(e.resultsAdapter=d,null!=e.ajax&&(e.resultsAdapter=y.Decorate(e.resultsAdapter,T)),null!=e.placeholder&&(e.resultsAdapter=y.Decorate(e.resultsAdapter,O)),e.selectOnClose&&(e.resultsAdapter=y.Decorate(e.resultsAdapter,I))),null==e.dropdownAdapter){if(e.multiple)e.dropdownAdapter=E;else{var r=y.Decorate(E,C);e.dropdownAdapter=r}if(0!==e.minimumResultsForSearch&&(e.dropdownAdapter=y.Decorate(e.dropdownAdapter,L)),e.closeOnSelect&&(e.dropdownAdapter=y.Decorate(e.dropdownAdapter,j)),null!=e.dropdownCssClass||null!=e.dropdownCss||null!=e.adaptDropdownCssClass){var i=u(e.amdBase+"compat/dropdownCss");e.dropdownAdapter=y.Decorate(e.dropdownAdapter,i)}e.dropdownAdapter=y.Decorate(e.dropdownAdapter,q)}if(null==e.selectionAdapter){if(e.multiple?e.selectionAdapter=h:e.selectionAdapter=p,null!=e.placeholder&&(e.selectionAdapter=y.Decorate(e.selectionAdapter,f)),e.allowClear&&(e.selectionAdapter=y.Decorate(e.selectionAdapter,g)),e.multiple&&(e.selectionAdapter=y.Decorate(e.selectionAdapter,m)),null!=e.containerCssClass||null!=e.containerCss||null!=e.adaptContainerCssClass){var o=u(e.amdBase+"compat/containerCss");e.selectionAdapter=y.Decorate(e.selectionAdapter,o)}e.selectionAdapter=y.Decorate(e.selectionAdapter,v)}e.language=this._resolveLanguage(e.language),e.language.push("en");for(var s=[],a=0;a<e.language.length;a++){var l=e.language[a];-1===s.indexOf(l)&&s.push(l)}return e.language=s,e.translations=this._processTranslations(e.language,e.debug),e},n.prototype.reset=function(){function a(e){return e.replace(/[^\u0000-\u007E]/g,function(e){return t[e]||e})}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:y.escapeMarkup,language:{},matcher:function e(t,n){if(""===c.trim(t.term))return n;if(n.children&&0<n.children.length){for(var r=c.extend(!0,{},n),i=n.children.length-1;0<=i;i--)null==e(t,n.children[i])&&r.children.splice(i,1);return 0<r.children.length?r:e(t,r)}var o=a(n.text).toUpperCase(),s=a(t.term).toUpperCase();return-1<o.indexOf(s)?n:null},minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,scrollAfterSelect:!1,sorter:function(e){return e},templateResult:function(e){return e.text},templateSelection:function(e){return e.text},theme:"default",width:"resolve"}},n.prototype.applyFromElement=function(e,t){var n=e.language,r=this.defaults.language,i=t.prop("lang"),o=t.closest("[lang]").prop("lang"),s=Array.prototype.concat.call(this._resolveLanguage(i),this._resolveLanguage(n),this._resolveLanguage(r),this._resolveLanguage(o));return e.language=s,e},n.prototype._resolveLanguage=function(e){if(!e)return[];if(c.isEmptyObject(e))return[];if(c.isPlainObject(e))return[e];var t;t=c.isArray(e)?e:[e];for(var n=[],r=0;r<t.length;r++)if(n.push(t[r]),"string"==typeof t[r]&&0<t[r].indexOf("-")){var i=t[r].split("-")[0];n.push(i)}return n},n.prototype._processTranslations=function(e,t){for(var n=new s,r=0;r<e.length;r++){var i=new s,o=e[r];if("string"==typeof o)try{i=s.loadPath(o)}catch(e){try{o=this.defaults.amdLanguageBase+o,i=s.loadPath(o)}catch(e){t&&window.console&&console.warn&&console.warn('Select2: The language file for "'+o+'" could not be automatically loaded. A fallback will be used instead.')}}else i=c.isPlainObject(o)?new s(o):o;n.extend(i)}return n},n.prototype.set=function(e,t){var n={};n[c.camelCase(e)]=t;var r=y._convertData(n);c.extend(!0,this.defaults,r)},new n}),e.define("select2/options",["require","jquery","./defaults","./utils"],function(r,d,i,p){function e(e,t){if(this.options=e,null!=t&&this.fromElement(t),null!=t&&(this.options=i.applyFromElement(this.options,t)),this.options=i.apply(this.options),t&&t.is("input")){var n=r(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=p.Decorate(this.options.dataAdapter,n)}}return e.prototype.fromElement=function(e){var t=["select2"];null==this.options.multiple&&(this.options.multiple=e.prop("multiple")),null==this.options.disabled&&(this.options.disabled=e.prop("disabled")),null==this.options.dir&&(e.prop("dir")?this.options.dir=e.prop("dir"):e.closest("[dir]").prop("dir")?this.options.dir=e.closest("[dir]").prop("dir"):this.options.dir="ltr"),e.prop("disabled",this.options.disabled),e.prop("multiple",this.options.multiple),p.GetData(e[0],"select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),p.StoreData(e[0],"data",p.GetData(e[0],"select2Tags")),p.StoreData(e[0],"tags",!0)),p.GetData(e[0],"ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),e.attr("ajax--url",p.GetData(e[0],"ajaxUrl")),p.StoreData(e[0],"ajax-Url",p.GetData(e[0],"ajaxUrl")));var n={};function r(e,t){return t.toUpperCase()}for(var i=0;i<e[0].attributes.length;i++){var o=e[0].attributes[i].name,s="data-";if(o.substr(0,s.length)==s){var a=o.substring(s.length),l=p.GetData(e[0],a);n[a.replace(/-([a-z])/g,r)]=l}}d.fn.jquery&&"1."==d.fn.jquery.substr(0,2)&&e[0].dataset&&(n=d.extend(!0,{},e[0].dataset,n));var c=d.extend(!0,{},p.GetData(e[0]),n);for(var u in c=p._convertData(c))-1<d.inArray(u,t)||(d.isPlainObject(this.options[u])?d.extend(this.options[u],c[u]):this.options[u]=c[u]);return this},e.prototype.get=function(e){return this.options[e]},e.prototype.set=function(e,t){this.options[e]=t},e}),e.define("select2/core",["jquery","./options","./utils","./keys"],function(o,c,u,r){var d=function(e,t){null!=u.GetData(e[0],"select2")&&u.GetData(e[0],"select2").destroy(),this.$element=e,this.id=this._generateId(e),t=t||{},this.options=new c(t,e),d.__super__.constructor.call(this);var n=e.attr("tabindex")||0;u.StoreData(e[0],"old-tabindex",n),e.attr("tabindex","-1");var r=this.options.get("dataAdapter");this.dataAdapter=new r(e,this.options);var i=this.render();this._placeContainer(i);var o=this.options.get("selectionAdapter");this.selection=new o(e,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,i);var s=this.options.get("dropdownAdapter");this.dropdown=new s(e,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,i);var a=this.options.get("resultsAdapter");this.results=new a(e,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var l=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(e){l.trigger("selection:update",{data:e})}),e.addClass("select2-hidden-accessible"),e.attr("aria-hidden","true"),this._syncAttributes(),u.StoreData(e[0],"select2",this),e.data("select2",this)};return u.Extend(d,u.Observable),d.prototype._generateId=function(e){return"select2-"+(null!=e.attr("id")?e.attr("id"):null!=e.attr("name")?e.attr("name")+"-"+u.generateChars(2):u.generateChars(4)).replace(/(:|\.|\[|\]|,)/g,"")},d.prototype._placeContainer=function(e){e.insertAfter(this.$element);var t=this._resolveWidth(this.$element,this.options.get("width"));null!=t&&e.css("width",t)},d.prototype._resolveWidth=function(e,t){var n=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==t){var r=this._resolveWidth(e,"style");return null!=r?r:this._resolveWidth(e,"element")}if("element"==t){var i=e.outerWidth(!1);return i<=0?"auto":i+"px"}if("style"!=t)return"computedstyle"!=t?t:window.getComputedStyle(e[0]).width;var o=e.attr("style");if("string"!=typeof o)return null;for(var s=o.split(";"),a=0,l=s.length;a<l;a+=1){var c=s[a].replace(/\s/g,"").match(n);if(null!==c&&1<=c.length)return c[1]}return null},d.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},d.prototype._registerDomEvents=function(){var t=this;this.$element.on("change.select2",function(){t.dataAdapter.current(function(e){t.trigger("selection:update",{data:e})})}),this.$element.on("focus.select2",function(e){t.trigger("focus",e)}),this._syncA=u.bind(this._syncAttributes,this),this._syncS=u.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var e=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=e?(this._observer=new e(function(e){t._syncA(),t._syncS(null,e)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",t._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",t._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",t._syncS,!1))},d.prototype._registerDataEvents=function(){var n=this;this.dataAdapter.on("*",function(e,t){n.trigger(e,t)})},d.prototype._registerSelectionEvents=function(){var n=this,r=["toggle","focus"];this.selection.on("toggle",function(){n.toggleDropdown()}),this.selection.on("focus",function(e){n.focus(e)}),this.selection.on("*",function(e,t){-1===o.inArray(e,r)&&n.trigger(e,t)})},d.prototype._registerDropdownEvents=function(){var n=this;this.dropdown.on("*",function(e,t){n.trigger(e,t)})},d.prototype._registerResultsEvents=function(){var n=this;this.results.on("*",function(e,t){n.trigger(e,t)})},d.prototype._registerEvents=function(){var n=this;this.on("open",function(){n.$container.addClass("select2-container--open")}),this.on("close",function(){n.$container.removeClass("select2-container--open")}),this.on("enable",function(){n.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){n.$container.addClass("select2-container--disabled")}),this.on("blur",function(){n.$container.removeClass("select2-container--focus")}),this.on("query",function(t){n.isOpen()||n.trigger("open",{}),this.dataAdapter.query(t,function(e){n.trigger("results:all",{data:e,query:t})})}),this.on("query:append",function(t){this.dataAdapter.query(t,function(e){n.trigger("results:append",{data:e,query:t})})}),this.on("keypress",function(e){var t=e.which;n.isOpen()?t===r.ESC||t===r.TAB||t===r.UP&&e.altKey?(n.close(e),e.preventDefault()):t===r.ENTER?(n.trigger("results:select",{}),e.preventDefault()):t===r.SPACE&&e.ctrlKey?(n.trigger("results:toggle",{}),e.preventDefault()):t===r.UP?(n.trigger("results:previous",{}),e.preventDefault()):t===r.DOWN&&(n.trigger("results:next",{}),e.preventDefault()):(t===r.ENTER||t===r.SPACE||t===r.DOWN&&e.altKey)&&(n.open(),e.preventDefault())})},d.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.isDisabled()?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},d.prototype._isChangeMutation=function(e,t){var n=!1,r=this;if(!e||!e.target||"OPTION"===e.target.nodeName||"OPTGROUP"===e.target.nodeName){if(t)if(t.addedNodes&&0<t.addedNodes.length)for(var i=0;i<t.addedNodes.length;i++){t.addedNodes[i].selected&&(n=!0)}else t.removedNodes&&0<t.removedNodes.length?n=!0:o.isArray(t)&&o.each(t,function(e,t){if(r._isChangeMutation(e,t))return!(n=!0)});else n=!0;return n}},d.prototype._syncSubtree=function(e,t){var n=this._isChangeMutation(e,t),r=this;n&&this.dataAdapter.current(function(e){r.trigger("selection:update",{data:e})})},d.prototype.trigger=function(e,t){var n=d.__super__.trigger,r={open:"opening",close:"closing",select:"selecting",unselect:"unselecting",clear:"clearing"};if(void 0===t&&(t={}),e in r){var i=r[e],o={prevented:!1,name:e,args:t};if(n.call(this,i,o),o.prevented)return void(t.prevented=!0)}n.call(this,e,t)},d.prototype.toggleDropdown=function(){this.isDisabled()||(this.isOpen()?this.close():this.open())},d.prototype.open=function(){this.isOpen()||this.isDisabled()||this.trigger("query",{})},d.prototype.close=function(e){this.isOpen()&&this.trigger("close",{originalEvent:e})},d.prototype.isEnabled=function(){return!this.isDisabled()},d.prototype.isDisabled=function(){return this.options.get("disabled")},d.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},d.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},d.prototype.focus=function(e){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},d.prototype.enable=function(e){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),null!=e&&0!==e.length||(e=[!0]);var t=!e[0];this.$element.prop("disabled",t)},d.prototype.data=function(){this.options.get("debug")&&0<arguments.length&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var t=[];return this.dataAdapter.current(function(e){t=e}),t},d.prototype.val=function(e){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==e||0===e.length)return this.$element.val();var t=e[0];o.isArray(t)&&(t=o.map(t,function(e){return e.toString()})),this.$element.val(t).trigger("input").trigger("change")},d.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",u.GetData(this.$element[0],"old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),u.RemoveData(this.$element[0]),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},d.prototype.render=function(){var e=o('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return e.attr("dir",this.options.get("dir")),this.$container=e,this.$container.addClass("select2-container--"+this.options.get("theme")),u.StoreData(e[0],"element",this.$element),e},d}),e.define("jquery-mousewheel",["jquery"],function(e){return e}),e.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults","./select2/utils"],function(i,e,o,t,s){if(null==i.fn.select2){var a=["open","close","destroy"];i.fn.select2=function(t){if("object"==typeof(t=t||{}))return this.each(function(){var e=i.extend(!0,{},t);new o(i(this),e)}),this;if("string"!=typeof t)throw new Error("Invalid arguments for Select2: "+t);var n,r=Array.prototype.slice.call(arguments,1);return this.each(function(){var e=s.GetData(this,"select2");null==e&&window.console&&console.error&&console.error("The select2('"+t+"') method was called on an element that is not using Select2."),n=e[t].apply(e,r)}),-1<i.inArray(t,a)?this:n}}return null==i.fn.select2.defaults&&(i.fn.select2.defaults=t),o}),{define:e.define,require:e.require}}(),t=e.require("jquery.select2");return u.fn.select2.amd=e,t});;